ARM GAS  /tmp/ccZ1aFVH.s 			page 1


   1              		.arch armv8.1-m.main
   2              		.fpu fpv5-d16
   3              		.arch_extension dsp
   4              		.arch_extension fp
   5              		.arch_extension fp.dp
   6              		.arch_extension mve
   7              		.arch_extension mve.fp
   8              		.eabi_attribute 5, "cortex-m55"
   9              		.eabi_attribute 28, 1
  10              		.eabi_attribute 20, 1
  11              		.eabi_attribute 21, 1
  12              		.eabi_attribute 23, 3
  13              		.eabi_attribute 24, 1
  14              		.eabi_attribute 25, 1
  15              		.eabi_attribute 26, 1
  16              		.eabi_attribute 30, 6
  17              		.eabi_attribute 34, 1
  18              		.eabi_attribute 38, 1
  19              		.eabi_attribute 18, 4
  20              		.file	"isp_algo.c"
  21              		.text
  22              	.Ltext0:
  23              		.cfi_sections	.debug_frame
  24              		.file 1 "Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c"
  25              		.global	ISP_Algo_BadPixel
  26              		.section	.data.ISP_Algo_BadPixel,"aw"
  27              		.align	2
  30              	ISP_Algo_BadPixel:
  31 0000 00       		.byte	0
  32 0001 000000   		.space	3
  33 0004 00000000 		.word	ISP_Algo_BadPixel_Init
  34 0008 00000000 		.word	ISP_Algo_BadPixel_DeInit
  35 000c 00000000 		.word	ISP_Algo_BadPixel_Process
  36 0010 00000000 		.space	44
  36      00000000 
  36      00000000 
  36      00000000 
  36      00000000 
  37              		.global	ISP_Algo_AEC
  38              		.section	.data.ISP_Algo_AEC,"aw"
  39              		.align	2
  42              	ISP_Algo_AEC:
  43 0000 01       		.byte	1
  44 0001 000000   		.space	3
  45 0004 00000000 		.word	ISP_Algo_AEC_Init
  46 0008 00000000 		.word	ISP_Algo_AEC_DeInit
  47 000c 00000000 		.word	ISP_Algo_AEC_Process
  48 0010 00000000 		.space	44
  48      00000000 
  48      00000000 
  48      00000000 
  48      00000000 
  49              		.global	ISP_Algo_AWB
  50              		.section	.data.ISP_Algo_AWB,"aw"
  51              		.align	2
  54              	ISP_Algo_AWB:
  55 0000 02       		.byte	2
ARM GAS  /tmp/ccZ1aFVH.s 			page 2


  56 0001 000000   		.space	3
  57 0004 00000000 		.word	ISP_Algo_AWB_Init
  58 0008 00000000 		.word	ISP_Algo_AWB_DeInit
  59 000c 00000000 		.word	ISP_Algo_AWB_Process
  60 0010 00000000 		.space	44
  60      00000000 
  60      00000000 
  60      00000000 
  60      00000000 
  61              		.global	ISP_Algo_List
  62              		.section	.data.ISP_Algo_List,"aw"
  63              		.align	2
  66              	ISP_Algo_List:
  67 0000 00000000 		.word	ISP_Algo_BadPixel
  68 0004 00000000 		.word	ISP_Algo_AEC
  69 0008 00000000 		.word	ISP_Algo_AWB
  70              		.section	.bss.pIspAEprocess,"aw",%nobits
  71              		.align	2
  74              	pIspAEprocess:
  75 0000 00000000 		.space	4
  76              		.section	.bss.pIspAWBestimator,"aw",%nobits
  77              		.align	2
  80              	pIspAWBestimator:
  81 0000 00000000 		.space	4
  82              		.global	current_awb_profId
  83              		.section	.bss.current_awb_profId,"aw",%nobits
  84              		.align	2
  87              	current_awb_profId:
  88 0000 00000000 		.space	4
  89              		.global	Meta
  90              		.section	.bss.Meta,"aw",%nobits
  91              		.align	2
  94              	Meta:
  95 0000 00000000 		.space	20
  95      00000000 
  95      00000000 
  95      00000000 
  95      00000000 
  96              		.section	.text.ISP_Algo_BadPixel_Init,"ax",%progbits
  97              		.align	1
  98              		.global	ISP_Algo_BadPixel_Init
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	ISP_Algo_BadPixel_Init:
 104              	.LFB838:
   1:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
   2:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  ******************************************************************************
   3:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * @file    isp_algo.c
   4:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * @author  AIS Application Team
   5:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * @brief   ISP algorithm
   6:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  ******************************************************************************
   7:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * @attention
   8:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  *
   9:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * Copyright (c) 2023 STMicroelectronics.
  10:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * All rights reserved.
  11:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  *
ARM GAS  /tmp/ccZ1aFVH.s 			page 3


  12:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * in the root directory of this software component.
  14:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  *
  16:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  ******************************************************************************
  17:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  */
  18:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  19:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Includes ------------------------------------------------------------------*/
  20:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "isp_core.h"
  21:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "isp_algo.h"
  22:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "isp_services.h"
  23:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "evision-api-st-ae.h"
  24:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "evision-api-awb.h"
  25:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include "evision-api-utils.h"
  26:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include <limits.h>
  27:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #include <math.h>
  28:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  29:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private types -------------------------------------------------------------*/
  30:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* ISP algorithms identifier */
  31:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** typedef enum
  32:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
  33:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ALGO_ID_BADPIXEL = 0U,
  34:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ALGO_ID_AEC,
  35:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ALGO_ID_AWB,
  36:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ALGO_ID_SENSOR_DELAY = 255U,
  37:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** } ISP_AlgoIDTypeDef;
  38:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  39:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private constants ---------------------------------------------------------*/
  40:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Delay (in number of VSYNC) between the time an ISP control (e.g. ColorConv)
  41:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****  * is updated and the time the frame is actually updated. Typical user = AWB algo. */
  42:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_ISP_LATENCY                             2
  43:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Additional delay to let things getting stable after an AWB update */
  44:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_AWB_ADDITIONAL_LATENCY                  3
  45:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_AWB_STAT_CHECK_SKIP_AFTER_INIT          10
  46:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_AWB_STAT_CHECK_SKIP_AFTER_CT_ESTIMATION 4
  47:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  48:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Debug logs control */
  49:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** //#define ALGO_AWB_DBG_LOGS
  50:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** //#define ALGO_AEC_DBG_LOGS
  51:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** //#define ALGO_PERF_DBG_LOGS
  52:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  53:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Max acceptable sensor delay */
  54:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_DELAY_MAX               10
  55:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Number of delay test configurations */
  56:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_DELAY_NB_CONFIG         12
  57:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Minimum Luminance update during delay test measurements */
  58:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define ALGO_DELAY_L_MARGIN          3
  59:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  60:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private macro -------------------------------------------------------------*/
  61:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private function prototypes -----------------------------------------------*/
  62:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_Init(void *hIsp, void *pAlgo);
  63:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_DeInit(void *hIsp, void *pAlgo);
  64:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_Process(void *hIsp, void *pAlgo);
  65:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_Init(void *hIsp, void *pAlgo);
  66:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_DeInit(void *hIsp, void *pAlgo);
  67:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_Process(void *hIsp, void *pAlgo);
  68:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_Init(void *hIsp, void *pAlgo);
ARM GAS  /tmp/ccZ1aFVH.s 			page 4


  69:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_DeInit(void *hIsp, void *pAlgo);
  70:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_Process(void *hIsp, void *pAlgo);
  71:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_TUNING_TOOL_SUPPORT
  72:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_Init(void *hIsp, void *pAlgo);
  73:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_DeInit(void *hIsp, void *pAlgo);
  74:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_Process(void *hIsp, void *pAlgo);
  75:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
  76:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  77:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private variables ---------------------------------------------------------*/
  78:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Bad Pixel algorithm handle */
  79:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_AlgoTypeDef ISP_Algo_BadPixel = {
  80:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .id = ISP_ALGO_ID_BADPIXEL,
  81:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Init = ISP_Algo_BadPixel_Init,
  82:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .DeInit = ISP_Algo_BadPixel_DeInit,
  83:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Process = ISP_Algo_BadPixel_Process,
  84:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** };
  85:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  86:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AEC_ALGO_SUPPORT
  87:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* AEC algorithm handle */
  88:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_AlgoTypeDef ISP_Algo_AEC = {
  89:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .id = ISP_ALGO_ID_AEC,
  90:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Init = ISP_Algo_AEC_Init,
  91:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .DeInit = ISP_Algo_AEC_DeInit,
  92:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Process = ISP_Algo_AEC_Process,
  93:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** };
  94:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
  95:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Default hyper parameter of the AEC algorithm */
  96:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_TOLERANCE                10      /* Max delta between lum stat and target in
  97:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_INCREMENT_COEFF     100     /* Factor applied to increment gain update 
  98:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_LOW_DELTA           45      /* Max delta value between lum stat and tar
  99:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_HIGH_DELTA          120     /* Min delta value between lum stat and tar
 100:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_LOW_INC_MAX         1500    /* Maximum gain update value in luminance l
 101:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_MEDIUM_INC_MAX      6000    /* Maximum gain update value in luminance m
 102:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_GAIN_HIGH_INC_MAX        12000   /* Maximum gain update value in luminance h
 103:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_EXPOSURE_UP_RATIO        0.020F  /* Factor applied to increment exposure */
 104:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_EXPOSURE_DOWN_RATIO      0.004F  /* Factor applied to decrement exposure */
 105:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define HYPERPARAM_AEC_DARKZONE_LUM_LIMIT       5       /* Default value for dark zone luminance li
 106:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AEC_ALGO_SUPPORT */
 107:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 108:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AWB_ALGO_SUPPORT
 109:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* AWB algorithm handle */
 110:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_AlgoTypeDef ISP_Algo_AWB = {
 111:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .id = ISP_ALGO_ID_AWB,
 112:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Init = ISP_Algo_AWB_Init,
 113:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .DeInit = ISP_Algo_AWB_DeInit,
 114:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Process = ISP_Algo_AWB_Process,
 115:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** };
 116:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AWB_ALGO_SUPPORT */
 117:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 118:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_TUNING_TOOL_SUPPORT
 119:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Sensor Delay measurement algorithm handle */
 120:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_AlgoTypeDef ISP_Algo_SensorDelay = {
 121:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .id = ISP_ALGO_ID_SENSOR_DELAY,
 122:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Init = ISP_Algo_SensorDelay_Init,
 123:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .DeInit = ISP_Algo_SensorDelay_DeInit,
 124:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     .Process = ISP_Algo_SensorDelay_Process,
 125:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** };
ARM GAS  /tmp/ccZ1aFVH.s 			page 5


 126:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 127:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 128:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_PERF_DBG_LOGS
 129:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #define MEAS_ITERATION 10
 130:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** uint32_t tickstart;
 131:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** uint32_t duration[MEAS_ITERATION];
 132:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** uint32_t iter = 0;
 133:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 134:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 135:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Registered algorithm list */
 136:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_AlgoTypeDef *ISP_Algo_List[] = {
 137:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     &ISP_Algo_BadPixel,
 138:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AEC_ALGO_SUPPORT
 139:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     &ISP_Algo_AEC,
 140:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AEC_ALGO_SUPPORT */
 141:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AWB_ALGO_SUPPORT
 142:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     &ISP_Algo_AWB,
 143:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AWB_ALGO_SUPPORT */
 144:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_TUNING_TOOL_SUPPORT
 145:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     &ISP_Algo_SensorDelay,
 146:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_TUNING_TOOL_SUPPORT */
 147:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** };
 148:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 149:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AEC_ALGO_SUPPORT
 150:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Algo internal */
 151:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** static evision_st_ae_process_t *pIspAEprocess;
 152:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AEC_ALGO_SUPPORT */
 153:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 154:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AWB_ALGO_SUPPORT
 155:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Algo internal */
 156:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** static evision_awb_estimator_t* pIspAWBestimator;
 157:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AWB_ALGO_SUPPORT */
 158:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 159:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Global variables ----------------------------------------------------------*/
 160:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** uint32_t current_awb_profId = 0;
 161:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_MetaTypeDef Meta = {0};
 162:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 163:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Private functions ---------------------------------------------------------*/
 164:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 165:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_BadPixel_Init
 166:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Initialize the BadPixel algorithm
 167:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 168:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 169:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 170:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 171:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_Init(void *hIsp, void *pAlgo)
 172:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 105              		.loc 1 172 1
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 8
 108              		@ frame_needed = 1, uses_anonymous_args = 0
 109              		@ link register save eliminated.
 110 0000 80B4     		push	{r7}
 111              		.cfi_def_cfa_offset 4
 112              		.cfi_offset 7, -4
 113 0002 83B0     		sub	sp, sp, #12
 114              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccZ1aFVH.s 			page 6


 115 0004 00AF     		add	r7, sp, #0
 116              		.cfi_def_cfa_register 7
 117 0006 7860     		str	r0, [r7, #4]
 118 0008 3960     		str	r1, [r7]
 173:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 174:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 175:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ((ISP_AlgoTypeDef *)pAlgo)->state = ISP_ALGO_STATE_INIT;
 119              		.loc 1 175 37
 120 000a 3B68     		ldr	r3, [r7]
 121 000c 0022     		movs	r2, #0
 122 000e 5A70     		strb	r2, [r3, #1]
 176:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 177:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 123              		.loc 1 177 10
 124 0010 0023     		movs	r3, #0
 178:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 125              		.loc 1 178 1
 126 0012 1846     		mov	r0, r3
 127 0014 0C37     		adds	r7, r7, #12
 128              		.cfi_def_cfa_offset 4
 129 0016 BD46     		mov	sp, r7
 130              		.cfi_def_cfa_register 13
 131              		@ sp needed
 132 0018 5DF8047B 		ldr	r7, [sp], #4
 133              		.cfi_restore 7
 134              		.cfi_def_cfa_offset 0
 135 001c 7047     		bx	lr
 136              		.cfi_endproc
 137              	.LFE838:
 139              		.section	.text.ISP_Algo_BadPixel_DeInit,"ax",%progbits
 140              		.align	1
 141              		.global	ISP_Algo_BadPixel_DeInit
 142              		.syntax unified
 143              		.thumb
 144              		.thumb_func
 146              	ISP_Algo_BadPixel_DeInit:
 147              	.LFB839:
 179:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 180:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 181:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_BadPixel_DeInit
 182:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Deinitialize the BadPixel algorithm
 183:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 184:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 185:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 186:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 187:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_DeInit(void *hIsp, void *pAlgo)
 188:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 148              		.loc 1 188 1
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 8
 151              		@ frame_needed = 1, uses_anonymous_args = 0
 152              		@ link register save eliminated.
 153 0000 80B4     		push	{r7}
 154              		.cfi_def_cfa_offset 4
 155              		.cfi_offset 7, -4
 156 0002 83B0     		sub	sp, sp, #12
 157              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccZ1aFVH.s 			page 7


 158 0004 00AF     		add	r7, sp, #0
 159              		.cfi_def_cfa_register 7
 160 0006 7860     		str	r0, [r7, #4]
 161 0008 3960     		str	r1, [r7]
 189:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 190:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)pAlgo; /* unused */
 191:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 192:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 162              		.loc 1 192 10
 163 000a 0023     		movs	r3, #0
 193:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 164              		.loc 1 193 1
 165 000c 1846     		mov	r0, r3
 166 000e 0C37     		adds	r7, r7, #12
 167              		.cfi_def_cfa_offset 4
 168 0010 BD46     		mov	sp, r7
 169              		.cfi_def_cfa_register 13
 170              		@ sp needed
 171 0012 5DF8047B 		ldr	r7, [sp], #4
 172              		.cfi_restore 7
 173              		.cfi_def_cfa_offset 0
 174 0016 7047     		bx	lr
 175              		.cfi_endproc
 176              	.LFE839:
 178              		.section	.text.ISP_Algo_BadPixel_Process,"ax",%progbits
 179              		.align	1
 180              		.global	ISP_Algo_BadPixel_Process
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 185              	ISP_Algo_BadPixel_Process:
 186              	.LFB840:
 194:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 195:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 196:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_BadPixel_Process
 197:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Process the BadPixel algorithm
 198:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 199:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 200:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 201:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 202:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_BadPixel_Process(void *hIsp, void *pAlgo)
 203:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 187              		.loc 1 203 1
 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 32
 190              		@ frame_needed = 1, uses_anonymous_args = 0
 191 0000 80B5     		push	{r7, lr}
 192              		.cfi_def_cfa_offset 8
 193              		.cfi_offset 7, -8
 194              		.cfi_offset 14, -4
 195 0002 88B0     		sub	sp, sp, #32
 196              		.cfi_def_cfa_offset 40
 197 0004 00AF     		add	r7, sp, #0
 198              		.cfi_def_cfa_register 7
 199 0006 7860     		str	r0, [r7, #4]
 200 0008 3960     		str	r1, [r7]
 204:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
ARM GAS  /tmp/ccZ1aFVH.s 			page 8


 205:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)pAlgo; /* unused */
 206:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint32_t BadPixelCount, LastFrameId;
 207:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static int8_t Step;
 208:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint32_t CurrentFrameId;
 209:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_BadPixelTypeDef BadPixelConfig;
 210:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_IQParamTypeDef *IQParamConfig;
 211:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret;
 212:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 213:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   IQParamConfig = ISP_SVC_IQParam_Get(hIsp);
 201              		.loc 1 213 19
 202 000a 7868     		ldr	r0, [r7, #4]
 203 000c FFF7FEFF 		bl	ISP_SVC_IQParam_Get
 204 0010 F861     		str	r0, [r7, #28]
 214:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 215:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (IQParamConfig->badPixelAlgo.enable == false)
 205              		.loc 1 215 34
 206 0012 FB69     		ldr	r3, [r7, #28]
 207 0014 93F85430 		ldrb	r3, [r3, #84]	@ zero_extendqisi2
 208              		.loc 1 215 6
 209 0018 002B     		cmp	r3, #0
 210 001a 01D1     		bne	.L6
 216:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 217:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_OK;
 211              		.loc 1 217 12
 212 001c 0023     		movs	r3, #0
 213 001e 69E0     		b	.L15
 214              	.L6:
 218:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 219:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 220:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Wait for a new frame */
 221:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   CurrentFrameId = ISP_SVC_Misc_GetMainFrameId(hIsp);
 215              		.loc 1 221 20
 216 0020 7868     		ldr	r0, [r7, #4]
 217 0022 FFF7FEFF 		bl	ISP_SVC_Misc_GetMainFrameId
 218 0026 B861     		str	r0, [r7, #24]
 222:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (CurrentFrameId == LastFrameId)
 219              		.loc 1 222 22
 220 0028 344B     		ldr	r3, .L16
 221 002a 1B68     		ldr	r3, [r3]
 222              		.loc 1 222 6
 223 002c BA69     		ldr	r2, [r7, #24]
 224 002e 9A42     		cmp	r2, r3
 225 0030 01D1     		bne	.L8
 223:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 224:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_OK;
 226              		.loc 1 224 12
 227 0032 0023     		movs	r3, #0
 228 0034 5EE0     		b	.L15
 229              	.L8:
 225:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 226:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   LastFrameId = CurrentFrameId;
 230              		.loc 1 226 15
 231 0036 314A     		ldr	r2, .L16
 232 0038 BB69     		ldr	r3, [r7, #24]
 233 003a 1360     		str	r3, [r2]
 227:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 228:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (Step++ >= 0)
ARM GAS  /tmp/ccZ1aFVH.s 			page 9


 234              		.loc 1 228 11
 235 003c 304B     		ldr	r3, .L16+4
 236 003e 93F90030 		ldrsb	r3, [r3]
 237 0042 DAB2     		uxtb	r2, r3
 238 0044 0132     		adds	r2, r2, #1
 239 0046 D2B2     		uxtb	r2, r2
 240 0048 51B2     		sxtb	r1, r2
 241 004a 2D4A     		ldr	r2, .L16+4
 242 004c 1170     		strb	r1, [r2]
 243              		.loc 1 228 6
 244 004e 002B     		cmp	r3, #0
 245 0050 12DB     		blt	.L9
 229:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 230:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Measure the number of bad pixels */
 231:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret  = ISP_SVC_ISP_GetBadPixel(hIsp, &BadPixelConfig);
 246              		.loc 1 231 12
 247 0052 07F10C03 		add	r3, r7, #12
 248 0056 1946     		mov	r1, r3
 249 0058 7868     		ldr	r0, [r7, #4]
 250 005a FFF7FEFF 		bl	ISP_SVC_ISP_GetBadPixel
 251 005e 0346     		mov	r3, r0
 252 0060 FB75     		strb	r3, [r7, #23]
 232:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 253              		.loc 1 232 8
 254 0062 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 255 0064 002B     		cmp	r3, #0
 256 0066 01D0     		beq	.L10
 233:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 234:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 257              		.loc 1 234 14
 258 0068 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 259 006a 43E0     		b	.L15
 260              	.L10:
 235:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 236:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     BadPixelCount += BadPixelConfig.count;
 261              		.loc 1 236 36
 262 006c 3A69     		ldr	r2, [r7, #16]
 263              		.loc 1 236 19
 264 006e 254B     		ldr	r3, .L16+8
 265 0070 1B68     		ldr	r3, [r3]
 266 0072 1344     		add	r3, r3, r2
 267 0074 234A     		ldr	r2, .L16+8
 268 0076 1360     		str	r3, [r2]
 269              	.L9:
 237:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 238:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 239:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (Step == 10)
 270              		.loc 1 239 12
 271 0078 214B     		ldr	r3, .L16+4
 272 007a 93F90030 		ldrsb	r3, [r3]
 273              		.loc 1 239 6
 274 007e 0A2B     		cmp	r3, #10
 275 0080 37D1     		bne	.L11
 240:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 241:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* All measures done : make an average and compare with threshold */
 242:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     BadPixelCount /= 10;
 276              		.loc 1 242 19
ARM GAS  /tmp/ccZ1aFVH.s 			page 10


 277 0082 204B     		ldr	r3, .L16+8
 278 0084 1B68     		ldr	r3, [r3]
 279 0086 204A     		ldr	r2, .L16+12
 280 0088 A2FB0323 		umull	r2, r3, r2, r3
 281 008c DB08     		lsrs	r3, r3, #3
 282 008e 1D4A     		ldr	r2, .L16+8
 283 0090 1360     		str	r3, [r2]
 243:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 244:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((BadPixelCount > IQParamConfig->badPixelAlgo.threshold) && (BadPixelConfig.strength > 0))
 284              		.loc 1 244 53
 285 0092 FB69     		ldr	r3, [r7, #28]
 286 0094 9A6D     		ldr	r2, [r3, #88]
 287              		.loc 1 244 24
 288 0096 1B4B     		ldr	r3, .L16+8
 289 0098 1B68     		ldr	r3, [r3]
 290              		.loc 1 244 8
 291 009a 9A42     		cmp	r2, r3
 292 009c 07D2     		bcs	.L12
 293              		.loc 1 244 83 discriminator 1
 294 009e 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 295              		.loc 1 244 65 discriminator 1
 296 00a0 002B     		cmp	r3, #0
 297 00a2 04D0     		beq	.L12
 245:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 246:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Bad pixel is above target : decrease strength */
 247:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       BadPixelConfig.strength--;
 298              		.loc 1 247 21
 299 00a4 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 300              		.loc 1 247 30
 301 00a6 013B     		subs	r3, r3, #1
 302 00a8 DBB2     		uxtb	r3, r3
 303 00aa 7B73     		strb	r3, [r7, #13]
 304 00ac 0CE0     		b	.L13
 305              	.L12:
 248:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 249:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     else if ((BadPixelCount < IQParamConfig->badPixelAlgo.threshold) && (BadPixelConfig.strength < 
 306              		.loc 1 249 58
 307 00ae FB69     		ldr	r3, [r7, #28]
 308 00b0 9A6D     		ldr	r2, [r3, #88]
 309              		.loc 1 249 29
 310 00b2 144B     		ldr	r3, .L16+8
 311 00b4 1B68     		ldr	r3, [r3]
 312              		.loc 1 249 13
 313 00b6 9A42     		cmp	r2, r3
 314 00b8 06D9     		bls	.L13
 315              		.loc 1 249 88 discriminator 1
 316 00ba 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 317              		.loc 1 249 70 discriminator 1
 318 00bc 052B     		cmp	r3, #5
 319 00be 03D8     		bhi	.L13
 250:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 251:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Bad pixel is below target : increase strength. (exclude ISP_BADPIXEL_STRENGTH_MAX which gi
 252:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       BadPixelConfig.strength++;
 320              		.loc 1 252 21
 321 00c0 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 322              		.loc 1 252 30
 323 00c2 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccZ1aFVH.s 			page 11


 324 00c4 DBB2     		uxtb	r3, r3
 325 00c6 7B73     		strb	r3, [r7, #13]
 326              	.L13:
 253:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 254:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 255:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Set updated Strength */
 256:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     BadPixelConfig.enable = 1;
 327              		.loc 1 256 27
 328 00c8 0123     		movs	r3, #1
 329 00ca 3B73     		strb	r3, [r7, #12]
 257:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_ISP_SetBadPixel(hIsp, &BadPixelConfig);
 330              		.loc 1 257 11
 331 00cc 07F10C03 		add	r3, r7, #12
 332 00d0 1946     		mov	r1, r3
 333 00d2 7868     		ldr	r0, [r7, #4]
 334 00d4 FFF7FEFF 		bl	ISP_SVC_ISP_SetBadPixel
 335 00d8 0346     		mov	r3, r0
 336 00da FB75     		strb	r3, [r7, #23]
 258:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 337              		.loc 1 258 8
 338 00dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 339 00de 002B     		cmp	r3, #0
 340 00e0 01D0     		beq	.L14
 259:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 260:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 341              		.loc 1 260 14
 342 00e2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 343 00e4 06E0     		b	.L15
 344              	.L14:
 261:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 262:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 263:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Set Step to -1 to wait for an extra frame before a new measurement (the ISP HW needs one fra
 264:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     Step = -1;
 345              		.loc 1 264 10
 346 00e6 064B     		ldr	r3, .L16+4
 347 00e8 FF22     		movs	r2, #255
 348 00ea 1A70     		strb	r2, [r3]
 265:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     BadPixelCount = 0;
 349              		.loc 1 265 19
 350 00ec 054B     		ldr	r3, .L16+8
 351 00ee 0022     		movs	r2, #0
 352 00f0 1A60     		str	r2, [r3]
 353              	.L11:
 266:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 267:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 268:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 354              		.loc 1 268 10
 355 00f2 0023     		movs	r3, #0
 356              	.L15:
 269:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 357              		.loc 1 269 1
 358 00f4 1846     		mov	r0, r3
 359 00f6 2037     		adds	r7, r7, #32
 360              		.cfi_def_cfa_offset 8
 361 00f8 BD46     		mov	sp, r7
 362              		.cfi_def_cfa_register 13
 363              		@ sp needed
ARM GAS  /tmp/ccZ1aFVH.s 			page 12


 364 00fa 80BD     		pop	{r7, pc}
 365              	.L17:
 366              		.align	2
 367              	.L16:
 368 00fc 00000000 		.word	LastFrameId.12
 369 0100 00000000 		.word	Step.11
 370 0104 00000000 		.word	BadPixelCount.10
 371 0108 CDCCCCCC 		.word	-858993459
 372              		.cfi_endproc
 373              	.LFE840:
 375              		.section	.rodata
 376              		.align	2
 377              	.LC0:
 378 0000 257300   		.ascii	"%s\000"
 379 0003 00       		.align	2
 380              	.LC1:
 381 0004 0D00     		.ascii	"\015\000"
 382              		.section	.text.log_cb,"ax",%progbits
 383              		.align	1
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 388              	log_cb:
 389              	.LFB841:
 270:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 271:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #if defined(ISP_MW_SW_AEC_ALGO_SUPPORT) || defined(ISP_MW_SW_AWB_ALGO_SUPPORT)
 272:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** static void log_cb(const char *const msg)
 273:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 390              		.loc 1 273 1
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 8
 393              		@ frame_needed = 1, uses_anonymous_args = 0
 394 0000 80B5     		push	{r7, lr}
 395              		.cfi_def_cfa_offset 8
 396              		.cfi_offset 7, -8
 397              		.cfi_offset 14, -4
 398 0002 82B0     		sub	sp, sp, #8
 399              		.cfi_def_cfa_offset 16
 400 0004 00AF     		add	r7, sp, #0
 401              		.cfi_def_cfa_register 7
 402 0006 7860     		str	r0, [r7, #4]
 274:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   printf("%s", msg);
 403              		.loc 1 274 3
 404 0008 7968     		ldr	r1, [r7, #4]
 405 000a 0548     		ldr	r0, .L19
 406 000c FFF7FEFF 		bl	printf
 275:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   printf("\r\n");
 407              		.loc 1 275 3
 408 0010 0448     		ldr	r0, .L19+4
 409 0012 FFF7FEFF 		bl	puts
 276:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 410              		.loc 1 276 1
 411 0016 00BF     		nop
 412 0018 0837     		adds	r7, r7, #8
 413              		.cfi_def_cfa_offset 8
 414 001a BD46     		mov	sp, r7
 415              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccZ1aFVH.s 			page 13


 416              		@ sp needed
 417 001c 80BD     		pop	{r7, pc}
 418              	.L20:
 419 001e 00BF     		.align	2
 420              	.L19:
 421 0020 00000000 		.word	.LC0
 422 0024 04000000 		.word	.LC1
 423              		.cfi_endproc
 424              	.LFE841:
 426              		.section	.text.ISP_Algo_AEC_Init,"ax",%progbits
 427              		.align	1
 428              		.global	ISP_Algo_AEC_Init
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 433              	ISP_Algo_AEC_Init:
 434              	.LFB842:
 277:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 278:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 279:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AEC_ALGO_SUPPORT
 280:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 281:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AEC_Init
 282:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Initialize the AEC algorithm
 283:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 284:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 285:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 286:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 287:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_Init(void *hIsp, void *pAlgo)
 288:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 435              		.loc 1 288 1
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 32
 438              		@ frame_needed = 1, uses_anonymous_args = 0
 439 0000 80B5     		push	{r7, lr}
 440              		.cfi_def_cfa_offset 8
 441              		.cfi_offset 7, -8
 442              		.cfi_offset 14, -4
 443 0002 88B0     		sub	sp, sp, #32
 444              		.cfi_def_cfa_offset 40
 445 0004 00AF     		add	r7, sp, #0
 446              		.cfi_def_cfa_register 7
 447 0006 7860     		str	r0, [r7, #4]
 448 0008 3960     		str	r1, [r7]
 289:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_HandleTypeDef *pIsp_handle = (ISP_HandleTypeDef*) hIsp;
 449              		.loc 1 289 22
 450 000a 7B68     		ldr	r3, [r7, #4]
 451 000c FB61     		str	r3, [r7, #28]
 290:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo = (ISP_AlgoTypeDef *)pAlgo;
 452              		.loc 1 290 20
 453 000e 3B68     		ldr	r3, [r7]
 454 0010 BB61     		str	r3, [r7, #24]
 291:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_SensorExposureTypeDef exposureConfig;
 292:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_SensorGainTypeDef gainConfig;
 293:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_IQParamTypeDef *IQParamConfig;
 294:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   evision_return_t e_ret;
 295:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 296:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   IQParamConfig = ISP_SVC_IQParam_Get(hIsp);
ARM GAS  /tmp/ccZ1aFVH.s 			page 14


 455              		.loc 1 296 19
 456 0012 7868     		ldr	r0, [r7, #4]
 457 0014 FFF7FEFF 		bl	ISP_SVC_IQParam_Get
 458 0018 7861     		str	r0, [r7, #20]
 297:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 298:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (IQParamConfig->sensorDelay.delay == 0)
 459              		.loc 1 298 33
 460 001a 7B69     		ldr	r3, [r7, #20]
 461 001c 93F85632 		ldrb	r3, [r3, #598]	@ zero_extendqisi2
 462              		.loc 1 298 6
 463 0020 002B     		cmp	r3, #0
 464 0022 03D1     		bne	.L22
 299:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 300:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* A value of 0 is invalid, it would break the AEC algo */
 301:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     IQParamConfig->sensorDelay.delay = 1;
 465              		.loc 1 301 38
 466 0024 7B69     		ldr	r3, [r7, #20]
 467 0026 0122     		movs	r2, #1
 468 0028 83F85622 		strb	r2, [r3, #598]
 469              	.L22:
 302:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 303:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 304:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Create st_ae_process instance */
 305:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess = evision_api_st_ae_new(log_cb);
 470              		.loc 1 305 19
 471 002c 5048     		ldr	r0, .L29+16
 472 002e FFF7FEFF 		bl	evision_api_st_ae_new
 473 0032 0346     		mov	r3, r0
 474              		.loc 1 305 17 discriminator 1
 475 0034 4F4A     		ldr	r2, .L29+20
 476 0036 1360     		str	r3, [r2]
 306:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (pIspAEprocess == NULL)
 477              		.loc 1 306 21
 478 0038 4E4B     		ldr	r3, .L29+20
 479 003a 1B68     		ldr	r3, [r3]
 480              		.loc 1 306 6
 481 003c 002B     		cmp	r3, #0
 482 003e 01D1     		bne	.L23
 307:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 308:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_ERR_ALGO;
 483              		.loc 1 308 12
 484 0040 BE23     		movs	r3, #190
 485 0042 87E0     		b	.L28
 486              	.L23:
 309:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 310:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 311:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Initialize st_ae_process instance */
 312:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   e_ret = evision_api_st_ae_init(pIspAEprocess);
 487              		.loc 1 312 11
 488 0044 4B4B     		ldr	r3, .L29+20
 489 0046 1B68     		ldr	r3, [r3]
 490 0048 1846     		mov	r0, r3
 491 004a FFF7FEFF 		bl	evision_api_st_ae_init
 492 004e 0346     		mov	r3, r0
 493 0050 FB74     		strb	r3, [r7, #19]
 313:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (e_ret != EVISION_RET_SUCCESS)
 494              		.loc 1 313 6
ARM GAS  /tmp/ccZ1aFVH.s 			page 15


 495 0052 97F91330 		ldrsb	r3, [r7, #19]
 496 0056 012B     		cmp	r3, #1
 497 0058 06D0     		beq	.L25
 314:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 315:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     evision_api_st_ae_delete(pIspAEprocess);
 498              		.loc 1 315 5
 499 005a 464B     		ldr	r3, .L29+20
 500 005c 1B68     		ldr	r3, [r3]
 501 005e 1846     		mov	r0, r3
 502 0060 FFF7FEFF 		bl	evision_api_st_ae_delete
 316:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_ERR_ALGO;
 503              		.loc 1 316 12
 504 0064 BE23     		movs	r3, #190
 505 0066 75E0     		b	.L28
 506              	.L25:
 317:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 318:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 319:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Configure algo (AEC target and anti-flicker setting) */
 320:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.target = IQParamConfig->AECAlgo.exposureTarget;
 507              		.loc 1 320 16
 508 0068 424B     		ldr	r3, .L29+20
 509 006a 1B68     		ldr	r3, [r3]
 510              		.loc 1 320 62
 511 006c 7A69     		ldr	r2, [r7, #20]
 512 006e D26E     		ldr	r2, [r2, #108]
 513              		.loc 1 320 38
 514 0070 1A61     		str	r2, [r3, #16]
 321:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.compat_freq = IQParamConfig->AECAlgo.antiFlickerFreq;
 515              		.loc 1 321 67
 516 0072 7B69     		ldr	r3, [r7, #20]
 517 0074 93F87020 		ldrb	r2, [r3, #112]	@ zero_extendqisi2
 518              		.loc 1 321 16
 519 0078 3E4B     		ldr	r3, .L29+20
 520 007a 1B68     		ldr	r3, [r3]
 521              		.loc 1 321 43
 522 007c 5A65     		str	r2, [r3, #84]
 322:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 323:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Configure algo (sensor config) */
 324:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.exposure_min = pIsp_handle->sensorInfo.exposure_min;
 523              		.loc 1 324 16
 524 007e 3D4B     		ldr	r3, .L29+20
 525 0080 1B68     		ldr	r3, [r3]
 526              		.loc 1 324 69
 527 0082 FA69     		ldr	r2, [r7, #28]
 528 0084 D2F88020 		ldr	r2, [r2, #128]
 529              		.loc 1 324 44
 530 0088 1A64     		str	r2, [r3, #64]
 325:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.exposure_max = pIsp_handle->sensorInfo.exposure_max;
 531              		.loc 1 325 16
 532 008a 3A4B     		ldr	r3, .L29+20
 533 008c 1B68     		ldr	r3, [r3]
 534              		.loc 1 325 69
 535 008e FA69     		ldr	r2, [r7, #28]
 536 0090 D2F88420 		ldr	r2, [r2, #132]
 537              		.loc 1 325 44
 538 0094 5A64     		str	r2, [r3, #68]
 326:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_min = pIsp_handle->sensorInfo.gain_min;
ARM GAS  /tmp/ccZ1aFVH.s 			page 16


 539              		.loc 1 326 16
 540 0096 374B     		ldr	r3, .L29+20
 541 0098 1B68     		ldr	r3, [r3]
 542              		.loc 1 326 65
 543 009a FA69     		ldr	r2, [r7, #28]
 544 009c 926F     		ldr	r2, [r2, #120]
 545              		.loc 1 326 40
 546 009e 9A64     		str	r2, [r3, #72]
 327:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_max = pIsp_handle->sensorInfo.gain_max;
 547              		.loc 1 327 16
 548 00a0 344B     		ldr	r3, .L29+20
 549 00a2 1B68     		ldr	r3, [r3]
 550              		.loc 1 327 65
 551 00a4 FA69     		ldr	r2, [r7, #28]
 552 00a6 D26F     		ldr	r2, [r2, #124]
 553              		.loc 1 327 40
 554 00a8 DA64     		str	r2, [r3, #76]
 328:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 329:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Force hyper parameters with configuration defined in evision-api-st-ae.h */
 330:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.tolerance = HYPERPARAM_AEC_TOLERANCE;
 555              		.loc 1 330 16
 556 00aa 324B     		ldr	r3, .L29+20
 557 00ac 1B68     		ldr	r3, [r3]
 558              		.loc 1 330 41
 559 00ae 0A22     		movs	r2, #10
 560 00b0 5A61     		str	r2, [r3, #20]
 331:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_increment_coeff = HYPERPARAM_AEC_GAIN_INCREMENT_COEFF;
 561              		.loc 1 331 16
 562 00b2 304B     		ldr	r3, .L29+20
 563 00b4 1B68     		ldr	r3, [r3]
 564              		.loc 1 331 52
 565 00b6 6422     		movs	r2, #100
 566 00b8 9A61     		str	r2, [r3, #24]
 332:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_low_delta = HYPERPARAM_AEC_GAIN_LOW_DELTA;
 567              		.loc 1 332 16
 568 00ba 2E4B     		ldr	r3, .L29+20
 569 00bc 1B68     		ldr	r3, [r3]
 570              		.loc 1 332 46
 571 00be 2D22     		movs	r2, #45
 572 00c0 DA61     		str	r2, [r3, #28]
 333:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_high_delta = HYPERPARAM_AEC_GAIN_HIGH_DELTA;
 573              		.loc 1 333 16
 574 00c2 2C4B     		ldr	r3, .L29+20
 575 00c4 1B68     		ldr	r3, [r3]
 576              		.loc 1 333 47
 577 00c6 7822     		movs	r2, #120
 578 00c8 1A62     		str	r2, [r3, #32]
 334:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_low_increment_max = HYPERPARAM_AEC_GAIN_LOW_INC_MAX;
 579              		.loc 1 334 16
 580 00ca 2A4B     		ldr	r3, .L29+20
 581 00cc 1B68     		ldr	r3, [r3]
 582              		.loc 1 334 54
 583 00ce 40F2DC52 		movw	r2, #1500
 584 00d2 5A62     		str	r2, [r3, #36]
 335:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_medium_increment_max = HYPERPARAM_AEC_GAIN_MEDIUM_INC_MAX;
 585              		.loc 1 335 16
 586 00d4 274B     		ldr	r3, .L29+20
ARM GAS  /tmp/ccZ1aFVH.s 			page 17


 587 00d6 1B68     		ldr	r3, [r3]
 588              		.loc 1 335 57
 589 00d8 41F27072 		movw	r2, #6000
 590 00dc 9A62     		str	r2, [r3, #40]
 336:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.gain_high_increment_max = HYPERPARAM_AEC_GAIN_HIGH_INC_MAX;
 591              		.loc 1 336 16
 592 00de 254B     		ldr	r3, .L29+20
 593 00e0 1B68     		ldr	r3, [r3]
 594              		.loc 1 336 55
 595 00e2 42F6E062 		movw	r2, #12000
 596 00e6 DA62     		str	r2, [r3, #44]
 337:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.exposure_up_ratio = HYPERPARAM_AEC_EXPOSURE_UP_RATIO;
 597              		.loc 1 337 16
 598 00e8 224B     		ldr	r3, .L29+20
 599 00ea 1968     		ldr	r1, [r3]
 600              		.loc 1 337 49
 601 00ec 1CA3     		adr	r3, .L29
 602 00ee D3E90023 		ldrd	r2, [r3]
 603 00f2 C1E90C23 		strd	r2, [r1, #48]
 338:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.exposure_down_ratio = HYPERPARAM_AEC_EXPOSURE_DOWN_RATIO;
 604              		.loc 1 338 16
 605 00f6 1F4B     		ldr	r3, .L29+20
 606 00f8 1968     		ldr	r1, [r3]
 607              		.loc 1 338 51
 608 00fa 1BA3     		adr	r3, .L29+8
 609 00fc D3E90023 		ldrd	r2, [r3]
 610 0100 C1E90E23 		strd	r2, [r1, #56]
 339:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAEprocess->hyper_params.dark_zone_lum_limit = HYPERPARAM_AEC_DARKZONE_LUM_LIMIT;
 611              		.loc 1 339 16
 612 0104 1B4B     		ldr	r3, .L29+20
 613 0106 1B68     		ldr	r3, [r3]
 614              		.loc 1 339 51
 615 0108 0522     		movs	r2, #5
 616 010a 1A65     		str	r2, [r3, #80]
 340:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 341:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Initialize exposure and gain at min value */
 342:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (IQParamConfig->AECAlgo.enable == true)
 617              		.loc 1 342 29
 618 010c 7B69     		ldr	r3, [r7, #20]
 619 010e 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 620              		.loc 1 342 6
 621 0112 012B     		cmp	r3, #1
 622 0114 1AD1     		bne	.L26
 343:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 344:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     exposureConfig.exposure = pIsp_handle->sensorInfo.exposure_min;
 623              		.loc 1 344 54
 624 0116 FB69     		ldr	r3, [r7, #28]
 625 0118 D3F88030 		ldr	r3, [r3, #128]
 626              		.loc 1 344 29
 627 011c FB60     		str	r3, [r7, #12]
 345:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     gainConfig.gain = pIsp_handle->sensorInfo.gain_min;
 628              		.loc 1 345 46
 629 011e FB69     		ldr	r3, [r7, #28]
 630 0120 9B6F     		ldr	r3, [r3, #120]
 631              		.loc 1 345 21
 632 0122 BB60     		str	r3, [r7, #8]
 346:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((ISP_SVC_Sensor_SetExposure(hIsp, &exposureConfig) != ISP_OK) || (ISP_SVC_Sensor_SetGain(hI
ARM GAS  /tmp/ccZ1aFVH.s 			page 18


 633              		.loc 1 346 10
 634 0124 07F10C03 		add	r3, r7, #12
 635 0128 1946     		mov	r1, r3
 636 012a 7868     		ldr	r0, [r7, #4]
 637 012c FFF7FEFF 		bl	ISP_SVC_Sensor_SetExposure
 638 0130 0346     		mov	r3, r0
 639              		.loc 1 346 8 discriminator 1
 640 0132 002B     		cmp	r3, #0
 641 0134 08D1     		bne	.L27
 642              		.loc 1 346 75 discriminator 1
 643 0136 07F10803 		add	r3, r7, #8
 644 013a 1946     		mov	r1, r3
 645 013c 7868     		ldr	r0, [r7, #4]
 646 013e FFF7FEFF 		bl	ISP_SVC_Sensor_SetGain
 647 0142 0346     		mov	r3, r0
 648              		.loc 1 346 71 discriminator 1
 649 0144 002B     		cmp	r3, #0
 650 0146 01D0     		beq	.L26
 651              	.L27:
 347:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 348:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ISP_ERR_ALGO;
 652              		.loc 1 348 14
 653 0148 BE23     		movs	r3, #190
 654 014a 03E0     		b	.L28
 655              	.L26:
 349:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 350:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 351:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 352:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Update State */
 353:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   algo->state = ISP_ALGO_STATE_INIT;
 656              		.loc 1 353 15
 657 014c BB69     		ldr	r3, [r7, #24]
 658 014e 0022     		movs	r2, #0
 659 0150 5A70     		strb	r2, [r3, #1]
 354:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 355:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 660              		.loc 1 355 10
 661 0152 0023     		movs	r3, #0
 662              	.L28:
 356:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 663              		.loc 1 356 1
 664 0154 1846     		mov	r0, r3
 665 0156 2037     		adds	r7, r7, #32
 666              		.cfi_def_cfa_offset 8
 667 0158 BD46     		mov	sp, r7
 668              		.cfi_def_cfa_register 13
 669              		@ sp needed
 670 015a 80BD     		pop	{r7, pc}
 671              	.L30:
 672 015c AFF30080 		.align	3
 673              	.L29:
 674 0160 00000040 		.word	1073741824
 675 0164 E17A943F 		.word	1066695393
 676 0168 000000E0 		.word	-536870912
 677 016c 4D62703F 		.word	1064329805
 678 0170 00000000 		.word	log_cb
 679 0174 00000000 		.word	pIspAEprocess
ARM GAS  /tmp/ccZ1aFVH.s 			page 19


 680              		.cfi_endproc
 681              	.LFE842:
 683              		.section	.text.ISP_Algo_AEC_DeInit,"ax",%progbits
 684              		.align	1
 685              		.global	ISP_Algo_AEC_DeInit
 686              		.syntax unified
 687              		.thumb
 688              		.thumb_func
 690              	ISP_Algo_AEC_DeInit:
 691              	.LFB843:
 357:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 358:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 359:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AEC_DeInit
 360:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Deinitialize the AEC algorithm
 361:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 362:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 363:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 364:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 365:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_DeInit(void *hIsp, void *pAlgo)
 366:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 692              		.loc 1 366 1
 693              		.cfi_startproc
 694              		@ args = 0, pretend = 0, frame = 8
 695              		@ frame_needed = 1, uses_anonymous_args = 0
 696 0000 80B5     		push	{r7, lr}
 697              		.cfi_def_cfa_offset 8
 698              		.cfi_offset 7, -8
 699              		.cfi_offset 14, -4
 700 0002 82B0     		sub	sp, sp, #8
 701              		.cfi_def_cfa_offset 16
 702 0004 00AF     		add	r7, sp, #0
 703              		.cfi_def_cfa_register 7
 704 0006 7860     		str	r0, [r7, #4]
 705 0008 3960     		str	r1, [r7]
 367:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 368:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)pAlgo; /* unused */
 369:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 370:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (pIspAEprocess != NULL)
 706              		.loc 1 370 21
 707 000a 074B     		ldr	r3, .L34
 708 000c 1B68     		ldr	r3, [r3]
 709              		.loc 1 370 6
 710 000e 002B     		cmp	r3, #0
 711 0010 04D0     		beq	.L32
 371:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 372:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     evision_api_st_ae_delete(pIspAEprocess);
 712              		.loc 1 372 5
 713 0012 054B     		ldr	r3, .L34
 714 0014 1B68     		ldr	r3, [r3]
 715 0016 1846     		mov	r0, r3
 716 0018 FFF7FEFF 		bl	evision_api_st_ae_delete
 717              	.L32:
 373:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 374:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 718              		.loc 1 374 10
 719 001c 0023     		movs	r3, #0
 375:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
ARM GAS  /tmp/ccZ1aFVH.s 			page 20


 720              		.loc 1 375 1
 721 001e 1846     		mov	r0, r3
 722 0020 0837     		adds	r7, r7, #8
 723              		.cfi_def_cfa_offset 8
 724 0022 BD46     		mov	sp, r7
 725              		.cfi_def_cfa_register 13
 726              		@ sp needed
 727 0024 80BD     		pop	{r7, pc}
 728              	.L35:
 729 0026 00BF     		.align	2
 730              	.L34:
 731 0028 00000000 		.word	pIspAEprocess
 732              		.cfi_endproc
 733              	.LFE843:
 735              		.section	.text.ISP_Algo_AEC_StatCb,"ax",%progbits
 736              		.align	1
 737              		.global	ISP_Algo_AEC_StatCb
 738              		.syntax unified
 739              		.thumb
 740              		.thumb_func
 742              	ISP_Algo_AEC_StatCb:
 743              	.LFB844:
 376:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 377:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 378:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AEC_StatCb
 379:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Callback informing that statistics are available
 380:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle.
 381:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 382:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 383:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_StatCb(ISP_AlgoTypeDef *pAlgo)
 384:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 744              		.loc 1 384 1
 745              		.cfi_startproc
 746              		@ args = 0, pretend = 0, frame = 8
 747              		@ frame_needed = 1, uses_anonymous_args = 0
 748              		@ link register save eliminated.
 749 0000 80B4     		push	{r7}
 750              		.cfi_def_cfa_offset 4
 751              		.cfi_offset 7, -4
 752 0002 83B0     		sub	sp, sp, #12
 753              		.cfi_def_cfa_offset 16
 754 0004 00AF     		add	r7, sp, #0
 755              		.cfi_def_cfa_register 7
 756 0006 7860     		str	r0, [r7, #4]
 385:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Update State */
 386:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pAlgo->state = ISP_ALGO_STATE_STAT_READY;
 757              		.loc 1 386 16
 758 0008 7B68     		ldr	r3, [r7, #4]
 759 000a 0322     		movs	r2, #3
 760 000c 5A70     		strb	r2, [r3, #1]
 387:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 388:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 761              		.loc 1 388 10
 762 000e 0023     		movs	r3, #0
 389:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 763              		.loc 1 389 1
 764 0010 1846     		mov	r0, r3
ARM GAS  /tmp/ccZ1aFVH.s 			page 21


 765 0012 0C37     		adds	r7, r7, #12
 766              		.cfi_def_cfa_offset 4
 767 0014 BD46     		mov	sp, r7
 768              		.cfi_def_cfa_register 13
 769              		@ sp needed
 770 0016 5DF8047B 		ldr	r7, [sp], #4
 771              		.cfi_restore 7
 772              		.cfi_def_cfa_offset 0
 773 001a 7047     		bx	lr
 774              		.cfi_endproc
 775              	.LFE844:
 777              		.section	.text.ISP_Algo_AEC_Process,"ax",%progbits
 778              		.align	1
 779              		.global	ISP_Algo_AEC_Process
 780              		.syntax unified
 781              		.thumb
 782              		.thumb_func
 784              	ISP_Algo_AEC_Process:
 785              	.LFB845:
 390:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 391:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 392:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AEC_Process
 393:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Process the AEC algorithm. This basic algorithm controls the sensor gain
 394:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         in order to reach an average luminance of exposureTarget.
 395:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 396:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 397:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 398:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 399:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AEC_Process(void *hIsp, void *pAlgo)
 400:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 786              		.loc 1 400 1
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 40
 789              		@ frame_needed = 1, uses_anonymous_args = 0
 790 0000 80B5     		push	{r7, lr}
 791              		.cfi_def_cfa_offset 8
 792              		.cfi_offset 7, -8
 793              		.cfi_offset 14, -4
 794 0002 8EB0     		sub	sp, sp, #56
 795              		.cfi_def_cfa_offset 64
 796 0004 04AF     		add	r7, sp, #16
 797              		.cfi_def_cfa 7, 48
 798 0006 7860     		str	r0, [r7, #4]
 799 0008 3960     		str	r1, [r7]
 401:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SVC_StatStateTypeDef stats;
 402:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo = (ISP_AlgoTypeDef *)pAlgo;
 800              		.loc 1 402 20
 801 000a 3B68     		ldr	r3, [r7]
 802 000c 3B62     		str	r3, [r7, #32]
 403:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_IQParamTypeDef *IQParamConfig;
 404:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret = ISP_OK;
 803              		.loc 1 404 21
 804 000e 0023     		movs	r3, #0
 805 0010 87F82730 		strb	r3, [r7, #39]
 405:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_SensorGainTypeDef gainConfig;
 406:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_SensorExposureTypeDef exposureConfig;
 407:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint32_t avgL;
ARM GAS  /tmp/ccZ1aFVH.s 			page 22


 408:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AEC_DBG_LOGS
 409:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint32_t currentL;
 410:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 411:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   evision_return_t e_ret;
 412:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 413:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   IQParamConfig = ISP_SVC_IQParam_Get(hIsp);
 806              		.loc 1 413 19
 807 0014 7868     		ldr	r0, [r7, #4]
 808 0016 FFF7FEFF 		bl	ISP_SVC_IQParam_Get
 809 001a F861     		str	r0, [r7, #28]
 414:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (IQParamConfig->AECAlgo.enable == false)
 810              		.loc 1 414 29
 811 001c FB69     		ldr	r3, [r7, #28]
 812 001e 93F86830 		ldrb	r3, [r3, #104]	@ zero_extendqisi2
 813              		.loc 1 414 6
 814 0022 002B     		cmp	r3, #0
 815 0024 01D1     		bne	.L39
 415:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 416:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_OK;
 816              		.loc 1 416 12
 817 0026 0023     		movs	r3, #0
 818 0028 B9E0     		b	.L51
 819              	.L39:
 417:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 418:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 419:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   switch(algo->state)
 820              		.loc 1 419 14
 821 002a 3B6A     		ldr	r3, [r7, #32]
 822 002c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 823              		.loc 1 419 3
 824 002e 032B     		cmp	r3, #3
 825 0030 25D0     		beq	.L41
 826 0032 032B     		cmp	r3, #3
 827 0034 00F3B180 		bgt	.L42
 828 0038 012B     		cmp	r3, #1
 829 003a 02DC     		bgt	.L43
 830 003c 002B     		cmp	r3, #0
 831 003e 02DA     		bge	.L44
 832 0040 ABE0     		b	.L42
 833              	.L43:
 834 0042 022B     		cmp	r3, #2
 420:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 421:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_INIT:
 422:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_NEED_STAT:
 423:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Ask for stats */
 424:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_AEC_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOWN,
 425:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, IQParamConfig->sensorDelay.delay);
 426:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 427:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 428:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 429:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 430:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 431:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
 432:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
 433:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 434:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 435:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_WAITING_STAT:
ARM GAS  /tmp/ccZ1aFVH.s 			page 23


 436:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Do nothing */
 437:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 835              		.loc 1 437 5
 836 0044 A9E0     		b	.L42
 837              	.L44:
 425:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 838              		.loc 1 425 78
 839 0046 FB69     		ldr	r3, [r7, #28]
 840 0048 93F85632 		ldrb	r3, [r3, #598]	@ zero_extendqisi2
 424:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, IQParamConfig->sensorDelay.delay);
 841              		.loc 1 424 11
 842 004c 0293     		str	r3, [sp, #8]
 843 004e 0123     		movs	r3, #1
 844 0050 0193     		str	r3, [sp, #4]
 845 0052 0223     		movs	r3, #2
 846 0054 0093     		str	r3, [sp]
 847 0056 544B     		ldr	r3, .L52
 848 0058 3A68     		ldr	r2, [r7]
 849 005a 5449     		ldr	r1, .L52+4
 850 005c 7868     		ldr	r0, [r7, #4]
 851 005e FFF7FEFF 		bl	ISP_SVC_Stats_GetNext
 852 0062 0346     		mov	r3, r0
 853 0064 87F82730 		strb	r3, [r7, #39]
 426:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 854              		.loc 1 426 8
 855 0068 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 856 006c 002B     		cmp	r3, #0
 857 006e 02D0     		beq	.L46
 428:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 858              		.loc 1 428 14
 859 0070 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 860 0074 93E0     		b	.L51
 861              	.L46:
 432:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 862              		.loc 1 432 17
 863 0076 3B6A     		ldr	r3, [r7, #32]
 864 0078 0222     		movs	r2, #2
 865 007a 5A70     		strb	r2, [r3, #1]
 433:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 866              		.loc 1 433 5
 867 007c 8DE0     		b	.L42
 868              	.L41:
 438:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 439:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_STAT_READY:
 440:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Align on the target update (may have been updated with ISP_SetExposureTarget()) */
 441:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAEprocess->hyper_params.target = IQParamConfig->AECAlgo.exposureTarget;
 869              		.loc 1 441 18
 870 007e 4C4B     		ldr	r3, .L52+8
 871 0080 1B68     		ldr	r3, [r3]
 872              		.loc 1 441 64
 873 0082 FA69     		ldr	r2, [r7, #28]
 874 0084 D26E     		ldr	r2, [r2, #108]
 875              		.loc 1 441 40
 876 0086 1A61     		str	r2, [r3, #16]
 442:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 443:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Align on the anti-flicker frequency (may have been updated by IQTune)*/
 444:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAEprocess->hyper_params.compat_freq = IQParamConfig->AECAlgo.antiFlickerFreq;
ARM GAS  /tmp/ccZ1aFVH.s 			page 24


 877              		.loc 1 444 69
 878 0088 FB69     		ldr	r3, [r7, #28]
 879 008a 93F87020 		ldrb	r2, [r3, #112]	@ zero_extendqisi2
 880              		.loc 1 444 18
 881 008e 484B     		ldr	r3, .L52+8
 882 0090 1B68     		ldr	r3, [r3]
 883              		.loc 1 444 45
 884 0092 5A65     		str	r2, [r3, #84]
 445:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 446:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     avgL = stats.down.averageL;
 885              		.loc 1 446 22
 886 0094 444B     		ldr	r3, .L52
 887 0096 93F83730 		ldrb	r3, [r3, #55]	@ zero_extendqisi2
 888              		.loc 1 446 10
 889 009a BB61     		str	r3, [r7, #24]
 447:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AEC_DBG_LOGS
 448:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (avgL != currentL)
 449:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 450:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       printf("L = %ld\r\n", avgL);
 451:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       currentL = avgL;
 452:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 453:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 454:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Read the current sensor gain */
 455:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_GetGain(hIsp, &gainConfig);
 890              		.loc 1 455 11
 891 009c 07F11003 		add	r3, r7, #16
 892 00a0 1946     		mov	r1, r3
 893 00a2 7868     		ldr	r0, [r7, #4]
 894 00a4 FFF7FEFF 		bl	ISP_SVC_Sensor_GetGain
 895 00a8 0346     		mov	r3, r0
 896 00aa 87F82730 		strb	r3, [r7, #39]
 456:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 897              		.loc 1 456 8
 898 00ae 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 899 00b2 002B     		cmp	r3, #0
 900 00b4 02D0     		beq	.L47
 457:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 458:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 901              		.loc 1 458 14
 902 00b6 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 903 00ba 70E0     		b	.L51
 904              	.L47:
 459:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 460:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 461:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_GetExposure(hIsp, &exposureConfig);
 905              		.loc 1 461 11
 906 00bc 07F10C03 		add	r3, r7, #12
 907 00c0 1946     		mov	r1, r3
 908 00c2 7868     		ldr	r0, [r7, #4]
 909 00c4 FFF7FEFF 		bl	ISP_SVC_Sensor_GetExposure
 910 00c8 0346     		mov	r3, r0
 911 00ca 87F82730 		strb	r3, [r7, #39]
 462:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 912              		.loc 1 462 8
 913 00ce 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 914 00d2 002B     		cmp	r3, #0
 915 00d4 02D0     		beq	.L48
ARM GAS  /tmp/ccZ1aFVH.s 			page 25


 463:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 464:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 916              		.loc 1 464 14
 917 00d6 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 918 00da 60E0     		b	.L51
 919              	.L48:
 465:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 466:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 467:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Store meta data */
 468:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     Meta.averageL = avgL;
 920              		.loc 1 468 19
 921 00dc BB69     		ldr	r3, [r7, #24]
 922 00de DAB2     		uxtb	r2, r3
 923 00e0 344B     		ldr	r3, .L52+12
 924 00e2 5A70     		strb	r2, [r3, #1]
 469:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     Meta.exposureTarget = IQParamConfig->AECAlgo.exposureTarget;
 925              		.loc 1 469 49
 926 00e4 FB69     		ldr	r3, [r7, #28]
 927 00e6 DB6E     		ldr	r3, [r3, #108]
 928              		.loc 1 469 25
 929 00e8 324A     		ldr	r2, .L52+12
 930 00ea 5360     		str	r3, [r2, #4]
 470:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 471:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Run algo to calculate new gain and exposure */
 472:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     e_ret = evision_api_st_ae_process(pIspAEprocess, gainConfig.gain, exposureConfig.exposure, avgL
 931              		.loc 1 472 13
 932 00ec 304B     		ldr	r3, .L52+8
 933 00ee 1868     		ldr	r0, [r3]
 934 00f0 3969     		ldr	r1, [r7, #16]
 935 00f2 FA68     		ldr	r2, [r7, #12]
 936 00f4 BB69     		ldr	r3, [r7, #24]
 937 00f6 DBB2     		uxtb	r3, r3
 938 00f8 FFF7FEFF 		bl	evision_api_st_ae_process
 939 00fc 0346     		mov	r3, r0
 940 00fe FB75     		strb	r3, [r7, #23]
 473:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (e_ret == EVISION_RET_SUCCESS)
 941              		.loc 1 473 8
 942 0100 97F91730 		ldrsb	r3, [r7, #23]
 943 0104 012B     		cmp	r3, #1
 944 0106 33D1     		bne	.L49
 474:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 475:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (gainConfig.gain != pIspAEprocess->new_gain)
 945              		.loc 1 475 21
 946 0108 3A69     		ldr	r2, [r7, #16]
 947              		.loc 1 475 43
 948 010a 294B     		ldr	r3, .L52+8
 949 010c 1B68     		ldr	r3, [r3]
 950 010e 9B68     		ldr	r3, [r3, #8]
 951              		.loc 1 475 10
 952 0110 9A42     		cmp	r2, r3
 953 0112 13D0     		beq	.L50
 476:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 477:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Set new gain */
 478:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         gainConfig.gain = pIspAEprocess->new_gain;
 954              		.loc 1 478 40
 955 0114 264B     		ldr	r3, .L52+8
 956 0116 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccZ1aFVH.s 			page 26


 957 0118 9B68     		ldr	r3, [r3, #8]
 958              		.loc 1 478 25
 959 011a 3B61     		str	r3, [r7, #16]
 479:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 480:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         ret = ISP_SVC_Sensor_SetGain(hIsp, &gainConfig);
 960              		.loc 1 480 15
 961 011c 07F11003 		add	r3, r7, #16
 962 0120 1946     		mov	r1, r3
 963 0122 7868     		ldr	r0, [r7, #4]
 964 0124 FFF7FEFF 		bl	ISP_SVC_Sensor_SetGain
 965 0128 0346     		mov	r3, r0
 966 012a 87F82730 		strb	r3, [r7, #39]
 481:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         if (ret != ISP_OK)
 967              		.loc 1 481 12
 968 012e 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 969 0132 002B     		cmp	r3, #0
 970 0134 02D0     		beq	.L50
 482:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 483:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           return ret;
 971              		.loc 1 483 18
 972 0136 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 973 013a 30E0     		b	.L51
 974              	.L50:
 484:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
 485:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 486:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AEC_DBG_LOGS
 487:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         printf("New gain = %ld\r\n", gainConfig.gain);
 488:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 489:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
 490:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 491:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (exposureConfig.exposure != pIspAEprocess->new_exposure)
 975              		.loc 1 491 25
 976 013c FA68     		ldr	r2, [r7, #12]
 977              		.loc 1 491 51
 978 013e 1C4B     		ldr	r3, .L52+8
 979 0140 1B68     		ldr	r3, [r3]
 980 0142 5B68     		ldr	r3, [r3, #4]
 981              		.loc 1 491 10
 982 0144 9A42     		cmp	r2, r3
 983 0146 13D0     		beq	.L49
 492:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 493:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Set new exposure */
 494:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         exposureConfig.exposure = pIspAEprocess->new_exposure;
 984              		.loc 1 494 48
 985 0148 194B     		ldr	r3, .L52+8
 986 014a 1B68     		ldr	r3, [r3]
 987 014c 5B68     		ldr	r3, [r3, #4]
 988              		.loc 1 494 33
 989 014e FB60     		str	r3, [r7, #12]
 495:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 496:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         ret = ISP_SVC_Sensor_SetExposure(hIsp, &exposureConfig);
 990              		.loc 1 496 15
 991 0150 07F10C03 		add	r3, r7, #12
 992 0154 1946     		mov	r1, r3
 993 0156 7868     		ldr	r0, [r7, #4]
 994 0158 FFF7FEFF 		bl	ISP_SVC_Sensor_SetExposure
 995 015c 0346     		mov	r3, r0
ARM GAS  /tmp/ccZ1aFVH.s 			page 27


 996 015e 87F82730 		strb	r3, [r7, #39]
 497:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         if (ret != ISP_OK)
 997              		.loc 1 497 12
 998 0162 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 999 0166 002B     		cmp	r3, #0
 1000 0168 02D0     		beq	.L49
 498:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 499:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           return ret;
 1001              		.loc 1 499 18
 1002 016a 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 1003 016e 16E0     		b	.L51
 1004              	.L49:
 500:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
 501:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 502:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AEC_DBG_LOGS
 503:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         printf("New exposure = %ld\r\n", exposureConfig.exposure);
 504:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 505:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
 506:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 507:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 508:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Ask for stats */
 509:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_AEC_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOWN,
 510:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, IQParamConfig->sensorDelay.delay);
 1005              		.loc 1 510 78
 1006 0170 FB69     		ldr	r3, [r7, #28]
 1007 0172 93F85632 		ldrb	r3, [r3, #598]	@ zero_extendqisi2
 509:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, IQParamConfig->sensorDelay.delay);
 1008              		.loc 1 509 11
 1009 0176 0293     		str	r3, [sp, #8]
 1010 0178 0123     		movs	r3, #1
 1011 017a 0193     		str	r3, [sp, #4]
 1012 017c 0223     		movs	r3, #2
 1013 017e 0093     		str	r3, [sp]
 1014 0180 094B     		ldr	r3, .L52
 1015 0182 3A68     		ldr	r2, [r7]
 1016 0184 0949     		ldr	r1, .L52+4
 1017 0186 7868     		ldr	r0, [r7, #4]
 1018 0188 FFF7FEFF 		bl	ISP_SVC_Stats_GetNext
 1019 018c 0346     		mov	r3, r0
 1020 018e 87F82730 		strb	r3, [r7, #39]
 511:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 512:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
 513:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
 1021              		.loc 1 513 17
 1022 0192 3B6A     		ldr	r3, [r7, #32]
 1023 0194 0222     		movs	r2, #2
 1024 0196 5A70     		strb	r2, [r3, #1]
 514:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 1025              		.loc 1 514 5
 1026 0198 00BF     		nop
 1027              	.L42:
 515:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 516:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 517:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ret;
 1028              		.loc 1 517 10
 1029 019a 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 1030              	.L51:
ARM GAS  /tmp/ccZ1aFVH.s 			page 28


 518:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1031              		.loc 1 518 1
 1032 019e 1846     		mov	r0, r3
 1033 01a0 2837     		adds	r7, r7, #40
 1034              		.cfi_def_cfa_offset 8
 1035 01a2 BD46     		mov	sp, r7
 1036              		.cfi_def_cfa_register 13
 1037              		@ sp needed
 1038 01a4 80BD     		pop	{r7, pc}
 1039              	.L53:
 1040 01a6 00BF     		.align	2
 1041              	.L52:
 1042 01a8 00000000 		.word	stats.9
 1043 01ac 00000000 		.word	ISP_Algo_AEC_StatCb
 1044 01b0 00000000 		.word	pIspAEprocess
 1045 01b4 00000000 		.word	Meta
 1046              		.cfi_endproc
 1047              	.LFE845:
 1049              		.section	.text.ISP_Algo_ApplyGammaInverse,"ax",%progbits
 1050              		.align	1
 1051              		.global	ISP_Algo_ApplyGammaInverse
 1052              		.syntax unified
 1053              		.thumb
 1054              		.thumb_func
 1056              	ISP_Algo_ApplyGammaInverse:
 1057              	.LFB846:
 519:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AEC_ALGO_SUPPORT */
 520:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 521:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AWB_ALGO_SUPPORT
 522:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 523:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_ApplyGammaInverse
 524:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Apply Gamma 1/2.2 correction to a component value
 525:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle.
 526:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  comp: component value
 527:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval gamma corrected value
 528:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 529:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** double ISP_Algo_ApplyGammaInverse(ISP_HandleTypeDef *hIsp, uint32_t comp)
 530:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1058              		.loc 1 530 1
 1059              		.cfi_startproc
 1060              		@ args = 0, pretend = 0, frame = 16
 1061              		@ frame_needed = 1, uses_anonymous_args = 0
 1062 0000 80B5     		push	{r7, lr}
 1063              		.cfi_def_cfa_offset 8
 1064              		.cfi_offset 7, -8
 1065              		.cfi_offset 14, -4
 1066 0002 84B0     		sub	sp, sp, #16
 1067              		.cfi_def_cfa_offset 24
 1068 0004 00AF     		add	r7, sp, #0
 1069              		.cfi_def_cfa_register 7
 1070 0006 7860     		str	r0, [r7, #4]
 1071 0008 3960     		str	r1, [r7]
 531:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   double out;
 532:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 533:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Check if gamma is enabled */
 534:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (ISP_SVC_Misc_IsGammaEnabled(hIsp, 1 /*main pipe*/) != 0) {
 1072              		.loc 1 534 7
ARM GAS  /tmp/ccZ1aFVH.s 			page 29


 1073 000a 0121     		movs	r1, #1
 1074 000c 7868     		ldr	r0, [r7, #4]
 1075 000e FFF7FEFF 		bl	ISP_SVC_Misc_IsGammaEnabled
 1076 0012 0346     		mov	r3, r0
 1077              		.loc 1 534 6 discriminator 1
 1078 0014 002B     		cmp	r3, #0
 1079 0016 19D0     		beq	.L55
 535:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     out = 255 * pow((float)comp / 255, 1.0 / 2.2);
 1080              		.loc 1 535 21
 1081 0018 3B68     		ldr	r3, [r7]
 1082 001a 07EE903A 		vmov	s15, r3	@ int
 1083 001e B8EE677A 		vcvt.f32.u32	s14, s15
 1084              		.loc 1 535 33
 1085 0022 DFED176A 		vldr.32	s13, .L58+16
 1086 0026 C7EE267A 		vdiv.f32	s15, s14, s13
 1087              		.loc 1 535 17
 1088 002a B7EEE77A 		vcvt.f64.f32	d7, s15
 1089 002e 9FED101B 		vldr.64	d1, .L58
 1090 0032 B0EE470B 		vmov.f64	d0, d7
 1091 0036 FFF7FEFF 		bl	pow
 1092 003a B0EE407B 		vmov.f64	d7, d0
 1093              		.loc 1 535 9 discriminator 1
 1094 003e 9FED0E6B 		vldr.64	d6, .L58+8
 1095 0042 27EE067B 		vmul.f64	d7, d7, d6
 1096 0046 87ED027B 		vstr.64	d7, [r7, #8]
 1097 004a 06E0     		b	.L56
 1098              	.L55:
 536:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 537:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   else
 538:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 539:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     out = (double) comp;
 1099              		.loc 1 539 9
 1100 004c 3B68     		ldr	r3, [r7]
 1101 004e 07EE903A 		vmov	s15, r3	@ int
 1102 0052 B8EE677B 		vcvt.f64.u32	d7, s15
 1103 0056 87ED027B 		vstr.64	d7, [r7, #8]
 1104              	.L56:
 540:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 541:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return out;
 1105              		.loc 1 541 10
 1106 005a D7E90223 		ldrd	r2, [r7, #8]
 1107              		.loc 1 541 10 is_stmt 0 discriminator 1
 1108 005e 43EC172B 		vmov	d7, r2, r3
 542:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1109              		.loc 1 542 1 is_stmt 1
 1110 0062 B0EE470B 		vmov.f64	d0, d7
 1111 0066 1037     		adds	r7, r7, #16
 1112              		.cfi_def_cfa_offset 8
 1113 0068 BD46     		mov	sp, r7
 1114              		.cfi_def_cfa_register 13
 1115              		@ sp needed
 1116 006a 80BD     		pop	{r7, pc}
 1117              	.L59:
 1118 006c AFF30080 		.align	3
 1119              	.L58:
 1120 0070 175D74D1 		.word	-780903145
 1121 0074 4517DD3F 		.word	1071454021
ARM GAS  /tmp/ccZ1aFVH.s 			page 30


 1122 0078 00000000 		.word	0
 1123 007c 00E06F40 		.word	1081073664
 1124 0080 00007F43 		.word	1132396544
 1125              		.cfi_endproc
 1126              	.LFE846:
 1128              		.global	__aeabi_ldivmod
 1129              		.section	.text.ISP_Algo_GetUpStat,"ax",%progbits
 1130              		.align	1
 1131              		.global	ISP_Algo_GetUpStat
 1132              		.syntax unified
 1133              		.thumb
 1134              		.thumb_func
 1136              	ISP_Algo_GetUpStat:
 1137              	.LFB847:
 543:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 544:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 545:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_GetUpStat
 546:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Recalculate average up statistics from collected down statistics
 547:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle.
 548:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pStats: pointer to the statistics
 549:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 550:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** void ISP_Algo_GetUpStat(ISP_HandleTypeDef *hIsp, ISP_SVC_StatStateTypeDef *pStats)
 551:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1138              		.loc 1 551 1
 1139              		.cfi_startproc
 1140              		@ args = 0, pretend = 0, frame = 104
 1141              		@ frame_needed = 1, uses_anonymous_args = 0
 1142 0000 2DE9B04F 		push	{r4, r5, r7, r8, r9, r10, fp, lr}
 1143              		.cfi_def_cfa_offset 32
 1144              		.cfi_offset 4, -32
 1145              		.cfi_offset 5, -28
 1146              		.cfi_offset 7, -24
 1147              		.cfi_offset 8, -20
 1148              		.cfi_offset 9, -16
 1149              		.cfi_offset 10, -12
 1150              		.cfi_offset 11, -8
 1151              		.cfi_offset 14, -4
 1152 0004 9AB0     		sub	sp, sp, #104
 1153              		.cfi_def_cfa_offset 136
 1154 0006 00AF     		add	r7, sp, #0
 1155              		.cfi_def_cfa_register 7
 1156 0008 7863     		str	r0, [r7, #52]
 1157 000a 3963     		str	r1, [r7, #48]
 552:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ISPGainTypeDef ISPGain;
 553:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_BlackLevelTypeDef BlackLevel;
 554:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   int64_t upR, upG, upB;
 555:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 556:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if ((ISP_SVC_ISP_GetGain(hIsp, &ISPGain) == ISP_OK) && (ISPGain.enable == 1))
 1158              		.loc 1 556 8
 1159 000c 07F14003 		add	r3, r7, #64
 1160 0010 1946     		mov	r1, r3
 1161 0012 786B     		ldr	r0, [r7, #52]
 1162 0014 FFF7FEFF 		bl	ISP_SVC_ISP_GetGain
 1163 0018 0346     		mov	r3, r0
 1164              		.loc 1 556 6 discriminator 1
 1165 001a 002B     		cmp	r3, #0
 1166 001c 40F0A880 		bne	.L61
ARM GAS  /tmp/ccZ1aFVH.s 			page 31


 1167              		.loc 1 556 66 discriminator 1
 1168 0020 97F84030 		ldrb	r3, [r7, #64]	@ zero_extendqisi2
 1169              		.loc 1 556 55 discriminator 1
 1170 0024 012B     		cmp	r3, #1
 1171 0026 40F0A380 		bne	.L61
 557:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 558:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 559:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* reverse gain */
 560:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     upR = (int64_t) pStats->down.averageR * ISP_GAIN_PRECISION_FACTOR / ISPGain.ispGainR;
 1172              		.loc 1 560 33
 1173 002a 3B6B     		ldr	r3, [r7, #48]
 1174 002c 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 1175              		.loc 1 560 11
 1176 0030 DBB2     		uxtb	r3, r3
 1177 0032 0022     		movs	r2, #0
 1178 0034 1C46     		mov	r4, r3
 1179 0036 1546     		mov	r5, r2
 1180              		.loc 1 560 43
 1181 0038 584B     		ldr	r3, .L66
 1182 003a 03FB05F2 		mul	r2, r3, r5
 1183 003e 0023     		movs	r3, #0
 1184 0040 04FB03F3 		mul	r3, r4, r3
 1185 0044 1A44     		add	r2, r2, r3
 1186 0046 554B     		ldr	r3, .L66
 1187 0048 A4FB0313 		umull	r1, r3, r4, r3
 1188 004c FB62     		str	r3, [r7, #44]
 1189 004e 0B46     		mov	r3, r1
 1190 0050 BB62     		str	r3, [r7, #40]
 1191 0052 FB6A     		ldr	r3, [r7, #44]
 1192 0054 D318     		adds	r3, r2, r3
 1193 0056 FB62     		str	r3, [r7, #44]
 1194              		.loc 1 560 80
 1195 0058 7B6C     		ldr	r3, [r7, #68]
 1196 005a 0022     		movs	r2, #0
 1197 005c 3B62     		str	r3, [r7, #32]
 1198 005e 7A62     		str	r2, [r7, #36]
 1199              		.loc 1 560 9
 1200 0060 D7E90823 		ldrd	r2, [r7, #32]
 1201 0064 D7E90A01 		ldrd	r0, [r7, #40]
 1202 0068 FFF7FEFF 		bl	__aeabi_ldivmod
 1203 006c 0246     		mov	r2, r0
 1204 006e 0B46     		mov	r3, r1
 1205 0070 C7E91823 		strd	r2, [r7, #96]
 561:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     upG = (int64_t) pStats->down.averageG * ISP_GAIN_PRECISION_FACTOR / ISPGain.ispGainG;
 1206              		.loc 1 561 33
 1207 0074 3B6B     		ldr	r3, [r7, #48]
 1208 0076 93F83530 		ldrb	r3, [r3, #53]	@ zero_extendqisi2
 1209              		.loc 1 561 11
 1210 007a DBB2     		uxtb	r3, r3
 1211 007c 0022     		movs	r2, #0
 1212 007e BB61     		str	r3, [r7, #24]
 1213 0080 FA61     		str	r2, [r7, #28]
 1214              		.loc 1 561 43
 1215 0082 464B     		ldr	r3, .L66
 1216 0084 D7E90645 		ldrd	r4, [r7, #24]
 1217 0088 2A46     		mov	r2, r5
 1218 008a 03FB02F2 		mul	r2, r3, r2
ARM GAS  /tmp/ccZ1aFVH.s 			page 32


 1219 008e 0023     		movs	r3, #0
 1220 0090 2146     		mov	r1, r4
 1221 0092 01FB03F3 		mul	r3, r1, r3
 1222 0096 1344     		add	r3, r3, r2
 1223 0098 404A     		ldr	r2, .L66
 1224 009a 2146     		mov	r1, r4
 1225 009c A1FB02AB 		umull	r10, fp, r1, r2
 1226 00a0 5B44     		add	r3, r3, fp
 1227 00a2 9B46     		mov	fp, r3
 1228              		.loc 1 561 80
 1229 00a4 BB6C     		ldr	r3, [r7, #72]
 1230 00a6 0022     		movs	r2, #0
 1231 00a8 3B61     		str	r3, [r7, #16]
 1232 00aa 7A61     		str	r2, [r7, #20]
 1233              		.loc 1 561 9
 1234 00ac D7E90423 		ldrd	r2, [r7, #16]
 1235 00b0 5046     		mov	r0, r10
 1236 00b2 5946     		mov	r1, fp
 1237 00b4 FFF7FEFF 		bl	__aeabi_ldivmod
 1238 00b8 0246     		mov	r2, r0
 1239 00ba 0B46     		mov	r3, r1
 1240 00bc C7E91623 		strd	r2, [r7, #88]
 562:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     upB = (int64_t) pStats->down.averageB * ISP_GAIN_PRECISION_FACTOR / ISPGain.ispGainB;
 1241              		.loc 1 562 33
 1242 00c0 3B6B     		ldr	r3, [r7, #48]
 1243 00c2 93F83630 		ldrb	r3, [r3, #54]	@ zero_extendqisi2
 1244              		.loc 1 562 11
 1245 00c6 DBB2     		uxtb	r3, r3
 1246 00c8 0022     		movs	r2, #0
 1247 00ca BB60     		str	r3, [r7, #8]
 1248 00cc FA60     		str	r2, [r7, #12]
 1249              		.loc 1 562 43
 1250 00ce 334B     		ldr	r3, .L66
 1251 00d0 D7E90245 		ldrd	r4, [r7, #8]
 1252 00d4 2A46     		mov	r2, r5
 1253 00d6 03FB02F2 		mul	r2, r3, r2
 1254 00da 0023     		movs	r3, #0
 1255 00dc 2146     		mov	r1, r4
 1256 00de 01FB03F3 		mul	r3, r1, r3
 1257 00e2 1344     		add	r3, r3, r2
 1258 00e4 2D4A     		ldr	r2, .L66
 1259 00e6 2146     		mov	r1, r4
 1260 00e8 A1FB0289 		umull	r8, r9, r1, r2
 1261 00ec 4B44     		add	r3, r3, r9
 1262 00ee 9946     		mov	r9, r3
 1263              		.loc 1 562 80
 1264 00f0 FB6C     		ldr	r3, [r7, #76]
 1265 00f2 0022     		movs	r2, #0
 1266 00f4 3B60     		str	r3, [r7]
 1267 00f6 7A60     		str	r2, [r7, #4]
 1268              		.loc 1 562 9
 1269 00f8 D7E90023 		ldrd	r2, [r7]
 1270 00fc 4046     		mov	r0, r8
 1271 00fe 4946     		mov	r1, r9
 1272 0100 FFF7FEFF 		bl	__aeabi_ldivmod
 1273 0104 0246     		mov	r2, r0
 1274 0106 0B46     		mov	r3, r1
ARM GAS  /tmp/ccZ1aFVH.s 			page 33


 1275 0108 C7E91423 		strd	r2, [r7, #80]
 563:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 564:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageR = (uint32_t) upR;
 1276              		.loc 1 564 25
 1277 010c 97F86020 		ldrb	r2, [r7, #96]	@ zero_extendqisi2
 1278 0110 3B6B     		ldr	r3, [r7, #48]
 1279 0112 1A70     		strb	r2, [r3]
 565:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageG = (uint32_t) upG;
 1280              		.loc 1 565 25
 1281 0114 97F85820 		ldrb	r2, [r7, #88]	@ zero_extendqisi2
 1282 0118 3B6B     		ldr	r3, [r7, #48]
 1283 011a 5A70     		strb	r2, [r3, #1]
 566:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageB = (uint32_t) upB;
 1284              		.loc 1 566 25
 1285 011c 97F85020 		ldrb	r2, [r7, #80]	@ zero_extendqisi2
 1286 0120 3B6B     		ldr	r3, [r7, #48]
 1287 0122 9A70     		strb	r2, [r3, #2]
 567:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 568:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((ISP_SVC_ISP_GetBlackLevel(hIsp, &BlackLevel) == ISP_OK) && (BlackLevel.enable == 1))
 1288              		.loc 1 568 10
 1289 0124 07F13C03 		add	r3, r7, #60
 1290 0128 1946     		mov	r1, r3
 1291 012a 786B     		ldr	r0, [r7, #52]
 1292 012c FFF7FEFF 		bl	ISP_SVC_ISP_GetBlackLevel
 1293 0130 0346     		mov	r3, r0
 1294              		.loc 1 568 8 discriminator 1
 1295 0132 002B     		cmp	r3, #0
 1296 0134 2CD1     		bne	.L64
 1297              		.loc 1 568 80 discriminator 1
 1298 0136 97F83C30 		ldrb	r3, [r7, #60]	@ zero_extendqisi2
 1299              		.loc 1 568 66 discriminator 1
 1300 013a 012B     		cmp	r3, #1
 1301 013c 28D1     		bne	.L64
 569:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 570:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* reverse black level */
 571:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageR += BlackLevel.BLCR;
 1302              		.loc 1 571 15
 1303 013e 3B6B     		ldr	r3, [r7, #48]
 1304 0140 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1305              		.loc 1 571 38
 1306 0142 97F83D30 		ldrb	r3, [r7, #61]	@ zero_extendqisi2
 1307              		.loc 1 571 25
 1308 0146 1344     		add	r3, r3, r2
 1309 0148 DAB2     		uxtb	r2, r3
 1310 014a 3B6B     		ldr	r3, [r7, #48]
 1311 014c 1A70     		strb	r2, [r3]
 572:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageG += BlackLevel.BLCG;
 1312              		.loc 1 572 15
 1313 014e 3B6B     		ldr	r3, [r7, #48]
 1314 0150 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1315              		.loc 1 572 38
 1316 0152 97F83E30 		ldrb	r3, [r7, #62]	@ zero_extendqisi2
 1317              		.loc 1 572 25
 1318 0156 1344     		add	r3, r3, r2
 1319 0158 DAB2     		uxtb	r2, r3
 1320 015a 3B6B     		ldr	r3, [r7, #48]
 1321 015c 5A70     		strb	r2, [r3, #1]
ARM GAS  /tmp/ccZ1aFVH.s 			page 34


 573:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageB += BlackLevel.BLCB;
 1322              		.loc 1 573 15
 1323 015e 3B6B     		ldr	r3, [r7, #48]
 1324 0160 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 1325              		.loc 1 573 38
 1326 0162 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 1327              		.loc 1 573 25
 1328 0166 1344     		add	r3, r3, r2
 1329 0168 DAB2     		uxtb	r2, r3
 1330 016a 3B6B     		ldr	r3, [r7, #48]
 1331 016c 9A70     		strb	r2, [r3, #2]
 568:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 1332              		.loc 1 568 8
 1333 016e 0FE0     		b	.L64
 1334              	.L61:
 574:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 575:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 576:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   else
 577:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 578:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageR = pStats->down.averageR;
 1335              		.loc 1 578 39
 1336 0170 3B6B     		ldr	r3, [r7, #48]
 1337 0172 93F83420 		ldrb	r2, [r3, #52]	@ zero_extendqisi2
 1338              		.loc 1 578 25
 1339 0176 3B6B     		ldr	r3, [r7, #48]
 1340 0178 1A70     		strb	r2, [r3]
 579:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageG = pStats->down.averageG;
 1341              		.loc 1 579 39
 1342 017a 3B6B     		ldr	r3, [r7, #48]
 1343 017c 93F83520 		ldrb	r2, [r3, #53]	@ zero_extendqisi2
 1344              		.loc 1 579 25
 1345 0180 3B6B     		ldr	r3, [r7, #48]
 1346 0182 5A70     		strb	r2, [r3, #1]
 580:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pStats->up.averageB = pStats->down.averageB;
 1347              		.loc 1 580 39
 1348 0184 3B6B     		ldr	r3, [r7, #48]
 1349 0186 93F83620 		ldrb	r2, [r3, #54]	@ zero_extendqisi2
 1350              		.loc 1 580 25
 1351 018a 3B6B     		ldr	r3, [r7, #48]
 1352 018c 9A70     		strb	r2, [r3, #2]
 581:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 582:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1353              		.loc 1 582 1
 1354 018e 00E0     		b	.L65
 1355              	.L64:
 568:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 1356              		.loc 1 568 8
 1357 0190 00BF     		nop
 1358              	.L65:
 1359              		.loc 1 582 1
 1360 0192 00BF     		nop
 1361 0194 6837     		adds	r7, r7, #104
 1362              		.cfi_def_cfa_offset 32
 1363 0196 BD46     		mov	sp, r7
 1364              		.cfi_def_cfa_register 13
 1365              		@ sp needed
 1366 0198 BDE8B08F 		pop	{r4, r5, r7, r8, r9, r10, fp, pc}
ARM GAS  /tmp/ccZ1aFVH.s 			page 35


 1367              	.L67:
 1368              		.align	2
 1369              	.L66:
 1370 019c 00E1F505 		.word	100000000
 1371              		.cfi_endproc
 1372              	.LFE847:
 1374              		.section	.text.ISP_Algo_ApplyCConv,"ax",%progbits
 1375              		.align	1
 1376              		.global	ISP_Algo_ApplyCConv
 1377              		.syntax unified
 1378              		.thumb
 1379              		.thumb_func
 1381              	ISP_Algo_ApplyCConv:
 1382              	.LFB848:
 583:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 584:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 585:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_ApplyCConv
 586:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Apply Color Conversion matrix to RGB components, clamping output values to [0-255]
 587:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle.
 588:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  inR: Red component value
 589:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  inG: Green component value
 590:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  inB: Blue component value
 591:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  outR: pointer to Red component value after color conversion
 592:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  outG: pointer to Green component value after color conversion
 593:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  outB: pointer to Blue component value after color conversion
 594:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval None
 595:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 596:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** void ISP_Algo_ApplyCConv(ISP_HandleTypeDef *hIsp, uint32_t inR, uint32_t inG, uint32_t inB, uint32_
 597:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1383              		.loc 1 597 1
 1384              		.cfi_startproc
 1385              		@ args = 12, pretend = 0, frame = 320
 1386              		@ frame_needed = 1, uses_anonymous_args = 0
 1387 0000 2DE9B04F 		push	{r4, r5, r7, r8, r9, r10, fp, lr}
 1388              		.cfi_def_cfa_offset 32
 1389              		.cfi_offset 4, -32
 1390              		.cfi_offset 5, -28
 1391              		.cfi_offset 7, -24
 1392              		.cfi_offset 8, -20
 1393              		.cfi_offset 9, -16
 1394              		.cfi_offset 10, -12
 1395              		.cfi_offset 11, -8
 1396              		.cfi_offset 14, -4
 1397 0004 D0B0     		sub	sp, sp, #320
 1398              		.cfi_def_cfa_offset 352
 1399 0006 00AF     		add	r7, sp, #0
 1400              		.cfi_def_cfa_register 7
 1401 0008 C7F8FC00 		str	r0, [r7, #252]
 1402 000c C7F8F810 		str	r1, [r7, #248]
 1403 0010 C7F8F420 		str	r2, [r7, #244]
 1404 0014 C7F8F030 		str	r3, [r7, #240]
 598:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ColorConvTypeDef colorConv;
 599:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   int64_t ccR, ccG, ccB;
 600:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 601:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if ((ISP_SVC_ISP_GetColorConv(hIsp, &colorConv) == ISP_OK) && (colorConv.enable == 1))
 1405              		.loc 1 601 8
 1406 0018 07F58073 		add	r3, r7, #256
ARM GAS  /tmp/ccZ1aFVH.s 			page 36


 1407 001c 1946     		mov	r1, r3
 1408 001e D7F8FC00 		ldr	r0, [r7, #252]
 1409 0022 FFF7FEFF 		bl	ISP_SVC_ISP_GetColorConv
 1410 0026 0346     		mov	r3, r0
 1411              		.loc 1 601 6 discriminator 1
 1412 0028 002B     		cmp	r3, #0
 1413 002a 40F01682 		bne	.L69
 1414              		.loc 1 601 75 discriminator 1
 1415 002e 97F80031 		ldrb	r3, [r7, #256]	@ zero_extendqisi2
 1416              		.loc 1 601 62 discriminator 1
 1417 0032 012B     		cmp	r3, #1
 1418 0034 40F01182 		bne	.L69
 602:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 603:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Apply ColorConversion matrix to the input components */
 604:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccR = (int64_t) inR * colorConv.coeff[0][0] + (int64_t) inG * colorConv.coeff[0][1] + (int64_t)
 1419              		.loc 1 604 11
 1420 0038 D7F8F830 		ldr	r3, [r7, #248]
 1421 003c 0022     		movs	r2, #0
 1422 003e C7F8A830 		str	r3, [r7, #168]
 1423 0042 C7F8AC20 		str	r2, [r7, #172]
 1424              		.loc 1 604 45
 1425 0046 D7F80431 		ldr	r3, [r7, #260]
 1426 004a DA17     		asrs	r2, r3, #31
 1427 004c 1C46     		mov	r4, r3
 1428 004e 1546     		mov	r5, r2
 1429              		.loc 1 604 25
 1430 0050 D7E92A01 		ldrd	r0, [r7, #168]
 1431 0054 0B46     		mov	r3, r1
 1432 0056 04FB03F2 		mul	r2, r4, r3
 1433 005a 0346     		mov	r3, r0
 1434 005c 03FB05F3 		mul	r3, r3, r5
 1435 0060 1344     		add	r3, r3, r2
 1436 0062 0246     		mov	r2, r0
 1437 0064 A2FB04AB 		umull	r10, fp, r2, r4
 1438 0068 5B44     		add	r3, r3, fp
 1439 006a 9B46     		mov	fp, r3
 1440              		.loc 1 604 51
 1441 006c D7F8F430 		ldr	r3, [r7, #244]
 1442 0070 0022     		movs	r2, #0
 1443 0072 C7F8A030 		str	r3, [r7, #160]
 1444 0076 C7F8A420 		str	r2, [r7, #164]
 1445              		.loc 1 604 85
 1446 007a D7F80831 		ldr	r3, [r7, #264]
 1447 007e DA17     		asrs	r2, r3, #31
 1448 0080 C7F8E830 		str	r3, [r7, #232]
 1449 0084 C7F8EC20 		str	r2, [r7, #236]
 1450              		.loc 1 604 65
 1451 0088 D7E92801 		ldrd	r0, [r7, #160]
 1452 008c 0B46     		mov	r3, r1
 1453 008e D7E93A45 		ldrd	r4, [r7, #232]
 1454 0092 2246     		mov	r2, r4
 1455 0094 02FB03F2 		mul	r2, r2, r3
 1456 0098 C7E93A45 		strd	r4, [r7, #232]
 1457 009c 2B46     		mov	r3, r5
 1458 009e 0446     		mov	r4, r0
 1459 00a0 0D46     		mov	r5, r1
 1460 00a2 2146     		mov	r1, r4
ARM GAS  /tmp/ccZ1aFVH.s 			page 37


 1461 00a4 01FB03F3 		mul	r3, r1, r3
 1462 00a8 1344     		add	r3, r3, r2
 1463 00aa 2246     		mov	r2, r4
 1464 00ac D7F8E810 		ldr	r1, [r7, #232]
 1465 00b0 A2FB0189 		umull	r8, r9, r2, r1
 1466 00b4 4B44     		add	r3, r3, r9
 1467 00b6 9946     		mov	r9, r3
 1468              		.loc 1 604 49
 1469 00b8 1AEB0803 		adds	r3, r10, r8
 1470 00bc C7F89830 		str	r3, [r7, #152]
 1471 00c0 4BEB0903 		adc	r3, fp, r9
 1472 00c4 C7F89C30 		str	r3, [r7, #156]
 1473              		.loc 1 604 91
 1474 00c8 D7F8F030 		ldr	r3, [r7, #240]
 1475 00cc 0022     		movs	r2, #0
 1476 00ce C7F89030 		str	r3, [r7, #144]
 1477 00d2 C7F89420 		str	r2, [r7, #148]
 1478              		.loc 1 604 125
 1479 00d6 D7F80C31 		ldr	r3, [r7, #268]
 1480 00da DA17     		asrs	r2, r3, #31
 1481 00dc C7F88830 		str	r3, [r7, #136]
 1482 00e0 C7F88C20 		str	r2, [r7, #140]
 1483              		.loc 1 604 105
 1484 00e4 D7E92445 		ldrd	r4, [r7, #144]
 1485 00e8 2B46     		mov	r3, r5
 1486 00ea D7E92289 		ldrd	r8, [r7, #136]
 1487 00ee 4246     		mov	r2, r8
 1488 00f0 02FB03F2 		mul	r2, r2, r3
 1489 00f4 4B46     		mov	r3, r9
 1490 00f6 2146     		mov	r1, r4
 1491 00f8 01FB03F3 		mul	r3, r1, r3
 1492 00fc 1344     		add	r3, r3, r2
 1493 00fe 2246     		mov	r2, r4
 1494 0100 4146     		mov	r1, r8
 1495 0102 A2FB0112 		umull	r1, r2, r2, r1
 1496 0106 C7F8E420 		str	r2, [r7, #228]
 1497 010a 0A46     		mov	r2, r1
 1498 010c C7F8E020 		str	r2, [r7, #224]
 1499 0110 D7F8E420 		ldr	r2, [r7, #228]
 1500 0114 1344     		add	r3, r3, r2
 1501 0116 C7F8E430 		str	r3, [r7, #228]
 1502              		.loc 1 604 9
 1503 011a D7E92645 		ldrd	r4, [r7, #152]
 1504 011e 2346     		mov	r3, r4
 1505 0120 D7E93801 		ldrd	r0, [r7, #224]
 1506 0124 0246     		mov	r2, r0
 1507 0126 9B18     		adds	r3, r3, r2
 1508 0128 3B61     		str	r3, [r7, #16]
 1509 012a 0B46     		mov	r3, r1
 1510 012c 2A46     		mov	r2, r5
 1511 012e 42EB0303 		adc	r3, r2, r3
 1512 0132 7B61     		str	r3, [r7, #20]
 1513 0134 D7E90423 		ldrd	r2, [r7, #16]
 1514 0138 C7E94E23 		strd	r2, [r7, #312]
 605:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccG = (int64_t) inR * colorConv.coeff[1][0] + (int64_t) inG * colorConv.coeff[1][1] + (int64_t)
 1515              		.loc 1 605 11
 1516 013c D7F8F830 		ldr	r3, [r7, #248]
ARM GAS  /tmp/ccZ1aFVH.s 			page 38


 1517 0140 0022     		movs	r2, #0
 1518 0142 C7F88030 		str	r3, [r7, #128]
 1519 0146 C7F88420 		str	r2, [r7, #132]
 1520              		.loc 1 605 45
 1521 014a D7F81031 		ldr	r3, [r7, #272]
 1522 014e DA17     		asrs	r2, r3, #31
 1523 0150 BB67     		str	r3, [r7, #120]
 1524 0152 FA67     		str	r2, [r7, #124]
 1525              		.loc 1 605 25
 1526 0154 D7E92045 		ldrd	r4, [r7, #128]
 1527 0158 2B46     		mov	r3, r5
 1528 015a D7E91E89 		ldrd	r8, [r7, #120]
 1529 015e 4246     		mov	r2, r8
 1530 0160 02FB03F2 		mul	r2, r2, r3
 1531 0164 4B46     		mov	r3, r9
 1532 0166 2146     		mov	r1, r4
 1533 0168 01FB03F3 		mul	r3, r1, r3
 1534 016c 1344     		add	r3, r3, r2
 1535 016e 2246     		mov	r2, r4
 1536 0170 4146     		mov	r1, r8
 1537 0172 A2FB0112 		umull	r1, r2, r2, r1
 1538 0176 C7F8DC20 		str	r2, [r7, #220]
 1539 017a 0A46     		mov	r2, r1
 1540 017c C7F8D820 		str	r2, [r7, #216]
 1541 0180 D7F8DC20 		ldr	r2, [r7, #220]
 1542 0184 1344     		add	r3, r3, r2
 1543 0186 C7F8DC30 		str	r3, [r7, #220]
 1544              		.loc 1 605 51
 1545 018a D7F8F430 		ldr	r3, [r7, #244]
 1546 018e 0022     		movs	r2, #0
 1547 0190 3B67     		str	r3, [r7, #112]
 1548 0192 7A67     		str	r2, [r7, #116]
 1549              		.loc 1 605 85
 1550 0194 D7F81431 		ldr	r3, [r7, #276]
 1551 0198 DA17     		asrs	r2, r3, #31
 1552 019a BB66     		str	r3, [r7, #104]
 1553 019c FA66     		str	r2, [r7, #108]
 1554              		.loc 1 605 65
 1555 019e D7E91C45 		ldrd	r4, [r7, #112]
 1556 01a2 2B46     		mov	r3, r5
 1557 01a4 D7E91A89 		ldrd	r8, [r7, #104]
 1558 01a8 4246     		mov	r2, r8
 1559 01aa 02FB03F2 		mul	r2, r2, r3
 1560 01ae 4B46     		mov	r3, r9
 1561 01b0 2146     		mov	r1, r4
 1562 01b2 01FB03F3 		mul	r3, r1, r3
 1563 01b6 1344     		add	r3, r3, r2
 1564 01b8 2246     		mov	r2, r4
 1565 01ba 4146     		mov	r1, r8
 1566 01bc A2FB0112 		umull	r1, r2, r2, r1
 1567 01c0 C7F8D420 		str	r2, [r7, #212]
 1568 01c4 0A46     		mov	r2, r1
 1569 01c6 C7F8D020 		str	r2, [r7, #208]
 1570 01ca D7F8D420 		ldr	r2, [r7, #212]
 1571 01ce 1344     		add	r3, r3, r2
 1572 01d0 C7F8D430 		str	r3, [r7, #212]
 1573              		.loc 1 605 49
ARM GAS  /tmp/ccZ1aFVH.s 			page 39


 1574 01d4 D7E93645 		ldrd	r4, [r7, #216]
 1575 01d8 2346     		mov	r3, r4
 1576 01da D7E93401 		ldrd	r0, [r7, #208]
 1577 01de 0246     		mov	r2, r0
 1578 01e0 9B18     		adds	r3, r3, r2
 1579 01e2 3B66     		str	r3, [r7, #96]
 1580 01e4 0B46     		mov	r3, r1
 1581 01e6 2A46     		mov	r2, r5
 1582 01e8 42EB0303 		adc	r3, r2, r3
 1583 01ec 7B66     		str	r3, [r7, #100]
 1584              		.loc 1 605 91
 1585 01ee D7F8F030 		ldr	r3, [r7, #240]
 1586 01f2 0022     		movs	r2, #0
 1587 01f4 BB65     		str	r3, [r7, #88]
 1588 01f6 FA65     		str	r2, [r7, #92]
 1589              		.loc 1 605 125
 1590 01f8 D7F81831 		ldr	r3, [r7, #280]
 1591 01fc DA17     		asrs	r2, r3, #31
 1592 01fe 3B65     		str	r3, [r7, #80]
 1593 0200 7A65     		str	r2, [r7, #84]
 1594              		.loc 1 605 105
 1595 0202 D7E91645 		ldrd	r4, [r7, #88]
 1596 0206 2B46     		mov	r3, r5
 1597 0208 D7E91489 		ldrd	r8, [r7, #80]
 1598 020c 4246     		mov	r2, r8
 1599 020e 02FB03F2 		mul	r2, r2, r3
 1600 0212 4B46     		mov	r3, r9
 1601 0214 2146     		mov	r1, r4
 1602 0216 01FB03F3 		mul	r3, r1, r3
 1603 021a 1344     		add	r3, r3, r2
 1604 021c 2246     		mov	r2, r4
 1605 021e 4146     		mov	r1, r8
 1606 0220 A2FB0112 		umull	r1, r2, r2, r1
 1607 0224 C7F8CC20 		str	r2, [r7, #204]
 1608 0228 0A46     		mov	r2, r1
 1609 022a C7F8C820 		str	r2, [r7, #200]
 1610 022e D7F8CC20 		ldr	r2, [r7, #204]
 1611 0232 1344     		add	r3, r3, r2
 1612 0234 C7F8CC30 		str	r3, [r7, #204]
 1613              		.loc 1 605 9
 1614 0238 D7E91845 		ldrd	r4, [r7, #96]
 1615 023c 2346     		mov	r3, r4
 1616 023e D7E93201 		ldrd	r0, [r7, #200]
 1617 0242 0246     		mov	r2, r0
 1618 0244 9B18     		adds	r3, r3, r2
 1619 0246 BB60     		str	r3, [r7, #8]
 1620 0248 0B46     		mov	r3, r1
 1621 024a 2A46     		mov	r2, r5
 1622 024c 42EB0303 		adc	r3, r2, r3
 1623 0250 FB60     		str	r3, [r7, #12]
 1624 0252 D7E90223 		ldrd	r2, [r7, #8]
 1625 0256 C7E94C23 		strd	r2, [r7, #304]
 606:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccB = (int64_t) inR * colorConv.coeff[2][0] + (int64_t) inG * colorConv.coeff[2][1] + (int64_t)
 1626              		.loc 1 606 11
 1627 025a D7F8F830 		ldr	r3, [r7, #248]
 1628 025e 0022     		movs	r2, #0
 1629 0260 BB64     		str	r3, [r7, #72]
ARM GAS  /tmp/ccZ1aFVH.s 			page 40


 1630 0262 FA64     		str	r2, [r7, #76]
 1631              		.loc 1 606 45
 1632 0264 D7F81C31 		ldr	r3, [r7, #284]
 1633 0268 DA17     		asrs	r2, r3, #31
 1634 026a 3B64     		str	r3, [r7, #64]
 1635 026c 7A64     		str	r2, [r7, #68]
 1636              		.loc 1 606 25
 1637 026e D7E91245 		ldrd	r4, [r7, #72]
 1638 0272 2B46     		mov	r3, r5
 1639 0274 D7E91089 		ldrd	r8, [r7, #64]
 1640 0278 4246     		mov	r2, r8
 1641 027a 02FB03F2 		mul	r2, r2, r3
 1642 027e 4B46     		mov	r3, r9
 1643 0280 2146     		mov	r1, r4
 1644 0282 01FB03F3 		mul	r3, r1, r3
 1645 0286 1344     		add	r3, r3, r2
 1646 0288 2246     		mov	r2, r4
 1647 028a 4146     		mov	r1, r8
 1648 028c A2FB0112 		umull	r1, r2, r2, r1
 1649 0290 C7F8C420 		str	r2, [r7, #196]
 1650 0294 0A46     		mov	r2, r1
 1651 0296 C7F8C020 		str	r2, [r7, #192]
 1652 029a D7F8C420 		ldr	r2, [r7, #196]
 1653 029e 1344     		add	r3, r3, r2
 1654 02a0 C7F8C430 		str	r3, [r7, #196]
 1655              		.loc 1 606 51
 1656 02a4 D7F8F430 		ldr	r3, [r7, #244]
 1657 02a8 0022     		movs	r2, #0
 1658 02aa BB63     		str	r3, [r7, #56]
 1659 02ac FA63     		str	r2, [r7, #60]
 1660              		.loc 1 606 85
 1661 02ae D7F82031 		ldr	r3, [r7, #288]
 1662 02b2 DA17     		asrs	r2, r3, #31
 1663 02b4 3B63     		str	r3, [r7, #48]
 1664 02b6 7A63     		str	r2, [r7, #52]
 1665              		.loc 1 606 65
 1666 02b8 D7E90E45 		ldrd	r4, [r7, #56]
 1667 02bc 2B46     		mov	r3, r5
 1668 02be D7E90C89 		ldrd	r8, [r7, #48]
 1669 02c2 4246     		mov	r2, r8
 1670 02c4 02FB03F2 		mul	r2, r2, r3
 1671 02c8 4B46     		mov	r3, r9
 1672 02ca 2146     		mov	r1, r4
 1673 02cc 01FB03F3 		mul	r3, r1, r3
 1674 02d0 1344     		add	r3, r3, r2
 1675 02d2 2246     		mov	r2, r4
 1676 02d4 4146     		mov	r1, r8
 1677 02d6 A2FB0112 		umull	r1, r2, r2, r1
 1678 02da C7F8BC20 		str	r2, [r7, #188]
 1679 02de 0A46     		mov	r2, r1
 1680 02e0 C7F8B820 		str	r2, [r7, #184]
 1681 02e4 D7F8BC20 		ldr	r2, [r7, #188]
 1682 02e8 1344     		add	r3, r3, r2
 1683 02ea C7F8BC30 		str	r3, [r7, #188]
 1684              		.loc 1 606 49
 1685 02ee D7E93045 		ldrd	r4, [r7, #192]
 1686 02f2 2346     		mov	r3, r4
ARM GAS  /tmp/ccZ1aFVH.s 			page 41


 1687 02f4 D7E92E01 		ldrd	r0, [r7, #184]
 1688 02f8 0246     		mov	r2, r0
 1689 02fa 9B18     		adds	r3, r3, r2
 1690 02fc BB62     		str	r3, [r7, #40]
 1691 02fe 0B46     		mov	r3, r1
 1692 0300 2A46     		mov	r2, r5
 1693 0302 42EB0303 		adc	r3, r2, r3
 1694 0306 FB62     		str	r3, [r7, #44]
 1695              		.loc 1 606 91
 1696 0308 D7F8F030 		ldr	r3, [r7, #240]
 1697 030c 0022     		movs	r2, #0
 1698 030e 3B62     		str	r3, [r7, #32]
 1699 0310 7A62     		str	r2, [r7, #36]
 1700              		.loc 1 606 125
 1701 0312 D7F82431 		ldr	r3, [r7, #292]
 1702 0316 DA17     		asrs	r2, r3, #31
 1703 0318 BB61     		str	r3, [r7, #24]
 1704 031a FA61     		str	r2, [r7, #28]
 1705              		.loc 1 606 105
 1706 031c D7E90845 		ldrd	r4, [r7, #32]
 1707 0320 2B46     		mov	r3, r5
 1708 0322 D7E90689 		ldrd	r8, [r7, #24]
 1709 0326 4246     		mov	r2, r8
 1710 0328 02FB03F2 		mul	r2, r2, r3
 1711 032c 4B46     		mov	r3, r9
 1712 032e 2146     		mov	r1, r4
 1713 0330 01FB03F3 		mul	r3, r1, r3
 1714 0334 1344     		add	r3, r3, r2
 1715 0336 2246     		mov	r2, r4
 1716 0338 4146     		mov	r1, r8
 1717 033a A2FB0112 		umull	r1, r2, r2, r1
 1718 033e C7F8B420 		str	r2, [r7, #180]
 1719 0342 0A46     		mov	r2, r1
 1720 0344 C7F8B020 		str	r2, [r7, #176]
 1721 0348 D7F8B420 		ldr	r2, [r7, #180]
 1722 034c 1344     		add	r3, r3, r2
 1723 034e C7F8B430 		str	r3, [r7, #180]
 1724              		.loc 1 606 9
 1725 0352 D7E90A45 		ldrd	r4, [r7, #40]
 1726 0356 2346     		mov	r3, r4
 1727 0358 D7E92C01 		ldrd	r0, [r7, #176]
 1728 035c 0246     		mov	r2, r0
 1729 035e 9B18     		adds	r3, r3, r2
 1730 0360 3B60     		str	r3, [r7]
 1731 0362 0B46     		mov	r3, r1
 1732 0364 2A46     		mov	r2, r5
 1733 0366 42EB0303 		adc	r3, r2, r3
 1734 036a 7B60     		str	r3, [r7, #4]
 1735 036c D7E90023 		ldrd	r2, [r7]
 1736 0370 C7E94A23 		strd	r2, [r7, #296]
 607:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 608:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccR /= ISP_CCM_PRECISION_FACTOR;
 1737              		.loc 1 608 9
 1738 0374 D7E94E01 		ldrd	r0, [r7, #312]
 1739 0378 43A3     		adr	r3, .L80
 1740 037a D3E90023 		ldrd	r2, [r3]
 1741 037e FFF7FEFF 		bl	__aeabi_ldivmod
ARM GAS  /tmp/ccZ1aFVH.s 			page 42


 1742 0382 0246     		mov	r2, r0
 1743 0384 0B46     		mov	r3, r1
 1744 0386 C7E94E23 		strd	r2, [r7, #312]
 609:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccG /= ISP_CCM_PRECISION_FACTOR;
 1745              		.loc 1 609 9
 1746 038a D7E94C01 		ldrd	r0, [r7, #304]
 1747 038e 3EA3     		adr	r3, .L80
 1748 0390 D3E90023 		ldrd	r2, [r3]
 1749 0394 FFF7FEFF 		bl	__aeabi_ldivmod
 1750 0398 0246     		mov	r2, r0
 1751 039a 0B46     		mov	r3, r1
 1752 039c C7E94C23 		strd	r2, [r7, #304]
 610:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccB /= ISP_CCM_PRECISION_FACTOR;
 1753              		.loc 1 610 9
 1754 03a0 D7E94A01 		ldrd	r0, [r7, #296]
 1755 03a4 38A3     		adr	r3, .L80
 1756 03a6 D3E90023 		ldrd	r2, [r3]
 1757 03aa FFF7FEFF 		bl	__aeabi_ldivmod
 1758 03ae 0246     		mov	r2, r0
 1759 03b0 0B46     		mov	r3, r1
 1760 03b2 C7E94A23 		strd	r2, [r7, #296]
 611:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 612:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Clamp values to 0-255 */
 613:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccR = (ccR < 0) ? 0 : (ccR > 255) ? 255 : ccR;
 1761              		.loc 1 613 25
 1762 03b6 D7E94E23 		ldrd	r2, [r7, #312]
 1763 03ba 002B     		cmp	r3, #0
 1764 03bc 0BDB     		blt	.L70
 1765              		.loc 1 613 25 is_stmt 0 discriminator 1
 1766 03be D7E94E23 		ldrd	r2, [r7, #312]
 1767 03c2 B2F5807F 		cmp	r2, #256
 1768 03c6 73F10001 		sbcs	r1, r3, #0
 1769 03ca 08DB     		blt	.L72
 1770 03cc 4FF0FF02 		mov	r2, #255
 1771 03d0 4FF00003 		mov	r3, #0
 1772 03d4 03E0     		b	.L72
 1773              	.L70:
 1774              		.loc 1 613 25 discriminator 2
 1775 03d6 4FF00002 		mov	r2, #0
 1776 03da 4FF00003 		mov	r3, #0
 1777              	.L72:
 1778              		.loc 1 613 9 is_stmt 1 discriminator 4
 1779 03de C7E94E23 		strd	r2, [r7, #312]
 614:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccG = (ccG < 0) ? 0 : (ccG > 255) ? 255 : ccG;
 1780              		.loc 1 614 25
 1781 03e2 D7E94C23 		ldrd	r2, [r7, #304]
 1782 03e6 002B     		cmp	r3, #0
 1783 03e8 0BDB     		blt	.L73
 1784              		.loc 1 614 25 is_stmt 0 discriminator 1
 1785 03ea D7E94C23 		ldrd	r2, [r7, #304]
 1786 03ee B2F5807F 		cmp	r2, #256
 1787 03f2 73F10001 		sbcs	r1, r3, #0
 1788 03f6 08DB     		blt	.L75
 1789 03f8 4FF0FF02 		mov	r2, #255
 1790 03fc 4FF00003 		mov	r3, #0
 1791 0400 03E0     		b	.L75
 1792              	.L73:
ARM GAS  /tmp/ccZ1aFVH.s 			page 43


 1793              		.loc 1 614 25 discriminator 2
 1794 0402 4FF00002 		mov	r2, #0
 1795 0406 4FF00003 		mov	r3, #0
 1796              	.L75:
 1797              		.loc 1 614 9 is_stmt 1 discriminator 4
 1798 040a C7E94C23 		strd	r2, [r7, #304]
 615:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ccB = (ccB < 0) ? 0 : (ccB > 255) ? 255 : ccB;
 1799              		.loc 1 615 25
 1800 040e D7E94A23 		ldrd	r2, [r7, #296]
 1801 0412 002B     		cmp	r3, #0
 1802 0414 0BDB     		blt	.L76
 1803              		.loc 1 615 25 is_stmt 0 discriminator 1
 1804 0416 D7E94A23 		ldrd	r2, [r7, #296]
 1805 041a B2F5807F 		cmp	r2, #256
 1806 041e 73F10001 		sbcs	r1, r3, #0
 1807 0422 08DB     		blt	.L78
 1808 0424 4FF0FF02 		mov	r2, #255
 1809 0428 4FF00003 		mov	r3, #0
 1810 042c 03E0     		b	.L78
 1811              	.L76:
 1812              		.loc 1 615 25 discriminator 2
 1813 042e 4FF00002 		mov	r2, #0
 1814 0432 4FF00003 		mov	r3, #0
 1815              	.L78:
 1816              		.loc 1 615 9 is_stmt 1 discriminator 4
 1817 0436 C7E94A23 		strd	r2, [r7, #296]
 616:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 617:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outR = (uint32_t) ccR;
 1818              		.loc 1 617 13
 1819 043a D7F83821 		ldr	r2, [r7, #312]
 1820              		.loc 1 617 11
 1821 043e D7F86031 		ldr	r3, [r7, #352]
 1822 0442 1A60     		str	r2, [r3]
 618:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outG = (uint32_t) ccG;
 1823              		.loc 1 618 13
 1824 0444 D7F83021 		ldr	r2, [r7, #304]
 1825              		.loc 1 618 11
 1826 0448 D7F86431 		ldr	r3, [r7, #356]
 1827 044c 1A60     		str	r2, [r3]
 619:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outB = (uint32_t) ccB;
 1828              		.loc 1 619 13
 1829 044e D7F82821 		ldr	r2, [r7, #296]
 1830              		.loc 1 619 11
 1831 0452 D7F86831 		ldr	r3, [r7, #360]
 1832 0456 1A60     		str	r2, [r3]
 1833 0458 0FE0     		b	.L79
 1834              	.L69:
 620:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 621:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   else
 622:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 623:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outR = inR;
 1835              		.loc 1 623 11
 1836 045a D7F86031 		ldr	r3, [r7, #352]
 1837 045e D7F8F820 		ldr	r2, [r7, #248]
 1838 0462 1A60     		str	r2, [r3]
 624:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outG = inG;
 1839              		.loc 1 624 11
ARM GAS  /tmp/ccZ1aFVH.s 			page 44


 1840 0464 D7F86431 		ldr	r3, [r7, #356]
 1841 0468 D7F8F420 		ldr	r2, [r7, #244]
 1842 046c 1A60     		str	r2, [r3]
 625:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     *outB = inB;
 1843              		.loc 1 625 11
 1844 046e D7F86831 		ldr	r3, [r7, #360]
 1845 0472 D7F8F020 		ldr	r2, [r7, #240]
 1846 0476 1A60     		str	r2, [r3]
 626:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 627:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1847              		.loc 1 627 1
 1848 0478 00BF     		nop
 1849              	.L79:
 1850 047a 00BF     		nop
 1851 047c 07F5A077 		add	r7, r7, #320
 1852              		.cfi_def_cfa_offset 32
 1853 0480 BD46     		mov	sp, r7
 1854              		.cfi_def_cfa_register 13
 1855              		@ sp needed
 1856 0482 BDE8B08F 		pop	{r4, r5, r7, r8, r9, r10, fp, pc}
 1857              	.L81:
 1858 0486 00BF     		.align	3
 1859              	.L80:
 1860 0488 00E1F505 		.word	100000000
 1861 048c 00000000 		.word	0
 1862              		.cfi_endproc
 1863              	.LFE848:
 1865              		.section	.text.ISP_Algo_AWB_Init,"ax",%progbits
 1866              		.align	1
 1867              		.global	ISP_Algo_AWB_Init
 1868              		.syntax unified
 1869              		.thumb
 1870              		.thumb_func
 1872              	ISP_Algo_AWB_Init:
 1873              	.LFB849:
 628:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 629:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 630:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AWB_Init
 631:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Initialize the AWB algorithm
 632:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 633:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 634:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 635:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 636:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_Init(void *hIsp, void *pAlgo)
 637:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1874              		.loc 1 637 1
 1875              		.cfi_startproc
 1876              		@ args = 0, pretend = 0, frame = 16
 1877              		@ frame_needed = 1, uses_anonymous_args = 0
 1878 0000 80B5     		push	{r7, lr}
 1879              		.cfi_def_cfa_offset 8
 1880              		.cfi_offset 7, -8
 1881              		.cfi_offset 14, -4
 1882 0002 84B0     		sub	sp, sp, #16
 1883              		.cfi_def_cfa_offset 24
 1884 0004 00AF     		add	r7, sp, #0
 1885              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccZ1aFVH.s 			page 45


 1886 0006 7860     		str	r0, [r7, #4]
 1887 0008 3960     		str	r1, [r7]
 638:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 639:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo = (ISP_AlgoTypeDef *)pAlgo;
 1888              		.loc 1 639 20
 1889 000a 3B68     		ldr	r3, [r7]
 1890 000c FB60     		str	r3, [r7, #12]
 640:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 641:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Create estimator */
 642:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pIspAWBestimator = evision_api_awb_new(log_cb);
 1891              		.loc 1 642 22
 1892 000e 0A48     		ldr	r0, .L85
 1893 0010 FFF7FEFF 		bl	evision_api_awb_new
 1894 0014 0346     		mov	r3, r0
 1895              		.loc 1 642 20 discriminator 1
 1896 0016 094A     		ldr	r2, .L85+4
 1897 0018 1360     		str	r3, [r2]
 643:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (pIspAWBestimator == NULL)
 1898              		.loc 1 643 24
 1899 001a 084B     		ldr	r3, .L85+4
 1900 001c 1B68     		ldr	r3, [r3]
 1901              		.loc 1 643 6
 1902 001e 002B     		cmp	r3, #0
 1903 0020 01D1     		bne	.L83
 644:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 645:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_ERR_ALGO;
 1904              		.loc 1 645 12
 1905 0022 BE23     		movs	r3, #190
 1906 0024 03E0     		b	.L84
 1907              	.L83:
 646:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 647:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 648:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Continue the initialization in ISP_Algo_AWB_Process() function when state is ISP_ALGO_STATE_IN
 649:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****    * This allows to read the IQ params after an algo stop/start cycle */
 650:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   algo->state = ISP_ALGO_STATE_INIT;
 1908              		.loc 1 650 15
 1909 0026 FB68     		ldr	r3, [r7, #12]
 1910 0028 0022     		movs	r2, #0
 1911 002a 5A70     		strb	r2, [r3, #1]
 651:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 652:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 1912              		.loc 1 652 10
 1913 002c 0023     		movs	r3, #0
 1914              	.L84:
 653:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1915              		.loc 1 653 1
 1916 002e 1846     		mov	r0, r3
 1917 0030 1037     		adds	r7, r7, #16
 1918              		.cfi_def_cfa_offset 8
 1919 0032 BD46     		mov	sp, r7
 1920              		.cfi_def_cfa_register 13
 1921              		@ sp needed
 1922 0034 80BD     		pop	{r7, pc}
 1923              	.L86:
 1924 0036 00BF     		.align	2
 1925              	.L85:
 1926 0038 00000000 		.word	log_cb
ARM GAS  /tmp/ccZ1aFVH.s 			page 46


 1927 003c 00000000 		.word	pIspAWBestimator
 1928              		.cfi_endproc
 1929              	.LFE849:
 1931              		.section	.text.ISP_Algo_AWB_DeInit,"ax",%progbits
 1932              		.align	1
 1933              		.global	ISP_Algo_AWB_DeInit
 1934              		.syntax unified
 1935              		.thumb
 1936              		.thumb_func
 1938              	ISP_Algo_AWB_DeInit:
 1939              	.LFB850:
 654:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 655:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 656:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AWB_DeInit
 657:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Deinitialize the AWB algorithm
 658:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 659:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 660:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 661:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 662:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_DeInit(void *hIsp, void *pAlgo)
 663:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1940              		.loc 1 663 1
 1941              		.cfi_startproc
 1942              		@ args = 0, pretend = 0, frame = 8
 1943              		@ frame_needed = 1, uses_anonymous_args = 0
 1944 0000 80B5     		push	{r7, lr}
 1945              		.cfi_def_cfa_offset 8
 1946              		.cfi_offset 7, -8
 1947              		.cfi_offset 14, -4
 1948 0002 82B0     		sub	sp, sp, #8
 1949              		.cfi_def_cfa_offset 16
 1950 0004 00AF     		add	r7, sp, #0
 1951              		.cfi_def_cfa_register 7
 1952 0006 7860     		str	r0, [r7, #4]
 1953 0008 3960     		str	r1, [r7]
 664:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 665:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)pAlgo; /* unused */
 666:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 667:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (pIspAWBestimator != NULL)
 1954              		.loc 1 667 24
 1955 000a 074B     		ldr	r3, .L90
 1956 000c 1B68     		ldr	r3, [r3]
 1957              		.loc 1 667 6
 1958 000e 002B     		cmp	r3, #0
 1959 0010 04D0     		beq	.L88
 668:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 669:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     evision_api_awb_delete(pIspAWBestimator);
 1960              		.loc 1 669 5
 1961 0012 054B     		ldr	r3, .L90
 1962 0014 1B68     		ldr	r3, [r3]
 1963 0016 1846     		mov	r0, r3
 1964 0018 FFF7FEFF 		bl	evision_api_awb_delete
 1965              	.L88:
 670:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 671:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 672:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 1966              		.loc 1 672 10
ARM GAS  /tmp/ccZ1aFVH.s 			page 47


 1967 001c 0023     		movs	r3, #0
 673:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 1968              		.loc 1 673 1
 1969 001e 1846     		mov	r0, r3
 1970 0020 0837     		adds	r7, r7, #8
 1971              		.cfi_def_cfa_offset 8
 1972 0022 BD46     		mov	sp, r7
 1973              		.cfi_def_cfa_register 13
 1974              		@ sp needed
 1975 0024 80BD     		pop	{r7, pc}
 1976              	.L91:
 1977 0026 00BF     		.align	2
 1978              	.L90:
 1979 0028 00000000 		.word	pIspAWBestimator
 1980              		.cfi_endproc
 1981              	.LFE850:
 1983              		.section	.text.ISP_Algo_AWB_StatCb,"ax",%progbits
 1984              		.align	1
 1985              		.global	ISP_Algo_AWB_StatCb
 1986              		.syntax unified
 1987              		.thumb
 1988              		.thumb_func
 1990              	ISP_Algo_AWB_StatCb:
 1991              	.LFB851:
 674:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 675:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 676:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AWB_StatCb
 677:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Callback informing that statistics are available
 678:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle.
 679:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 680:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 681:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_StatCb(ISP_AlgoTypeDef *pAlgo)
 682:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 1992              		.loc 1 682 1
 1993              		.cfi_startproc
 1994              		@ args = 0, pretend = 0, frame = 8
 1995              		@ frame_needed = 1, uses_anonymous_args = 0
 1996              		@ link register save eliminated.
 1997 0000 80B4     		push	{r7}
 1998              		.cfi_def_cfa_offset 4
 1999              		.cfi_offset 7, -4
 2000 0002 83B0     		sub	sp, sp, #12
 2001              		.cfi_def_cfa_offset 16
 2002 0004 00AF     		add	r7, sp, #0
 2003              		.cfi_def_cfa_register 7
 2004 0006 7860     		str	r0, [r7, #4]
 683:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Update State */
 684:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (pAlgo->state != ISP_ALGO_STATE_INIT)
 2005              		.loc 1 684 12
 2006 0008 7B68     		ldr	r3, [r7, #4]
 2007 000a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2008              		.loc 1 684 6
 2009 000c 002B     		cmp	r3, #0
 2010 000e 02D0     		beq	.L93
 685:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 686:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pAlgo->state = ISP_ALGO_STATE_STAT_READY;
 2011              		.loc 1 686 18
ARM GAS  /tmp/ccZ1aFVH.s 			page 48


 2012 0010 7B68     		ldr	r3, [r7, #4]
 2013 0012 0322     		movs	r2, #3
 2014 0014 5A70     		strb	r2, [r3, #1]
 2015              	.L93:
 687:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 688:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 689:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 2016              		.loc 1 689 10
 2017 0016 0023     		movs	r3, #0
 690:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 2018              		.loc 1 690 1
 2019 0018 1846     		mov	r0, r3
 2020 001a 0C37     		adds	r7, r7, #12
 2021              		.cfi_def_cfa_offset 4
 2022 001c BD46     		mov	sp, r7
 2023              		.cfi_def_cfa_register 13
 2024              		@ sp needed
 2025 001e 5DF8047B 		ldr	r7, [sp], #4
 2026              		.cfi_restore 7
 2027              		.cfi_def_cfa_offset 0
 2028 0022 7047     		bx	lr
 2029              		.cfi_endproc
 2030              	.LFE851:
 2032              		.section	.text.ISP_Algo_AWB_Process,"ax",%progbits
 2033              		.align	1
 2034              		.global	ISP_Algo_AWB_Process
 2035              		.syntax unified
 2036              		.thumb
 2037              		.thumb_func
 2039              	ISP_Algo_AWB_Process:
 2040              	.LFB852:
 691:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 692:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 693:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_AWB_Process
 694:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Process the AWB algorithm. This algorithm controls the ISP gain and color conversion
 695:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         in order to output realistic colors (white balance).
 696:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 697:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 698:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 699:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 700:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_AWB_Process(void *hIsp, void *pAlgo)
 701:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 2041              		.loc 1 701 1
 2042              		.cfi_startproc
 2043              		@ args = 0, pretend = 0, frame = 208
 2044              		@ frame_needed = 1, uses_anonymous_args = 0
 2045 0000 80B5     		push	{r7, lr}
 2046              		.cfi_def_cfa_offset 8
 2047              		.cfi_offset 7, -8
 2048              		.cfi_offset 14, -4
 2049 0002 B8B0     		sub	sp, sp, #224
 2050              		.cfi_def_cfa_offset 232
 2051 0004 04AF     		add	r7, sp, #16
 2052              		.cfi_def_cfa 7, 216
 2053 0006 7860     		str	r0, [r7, #4]
 2054 0008 3960     		str	r1, [r7]
 702:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SVC_StatStateTypeDef stats;
ARM GAS  /tmp/ccZ1aFVH.s 			page 49


 703:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint8_t enableCurrent = false;
 704:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint8_t reconfigureRequest = false;
 705:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint32_t currentColorTemp = 0;
 706:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static evision_awb_profile_t awbProfiles[ISP_AWB_COLORTEMP_REF];
 707:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static float colorTempThresholds[ISP_AWB_COLORTEMP_REF - 1];
 708:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_IQParamTypeDef *IQParamConfig;
 709:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ColorConvTypeDef ColorConvConfig;
 710:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_ISPGainTypeDef ISPGainConfig;
 711:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo = (ISP_AlgoTypeDef *)pAlgo;
 2055              		.loc 1 711 20
 2056 000a 3B68     		ldr	r3, [r7]
 2057 000c C7F8B430 		str	r3, [r7, #180]
 712:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret_stat, ret = ISP_OK;
 2058              		.loc 1 712 31
 2059 0010 0023     		movs	r3, #0
 2060 0012 87F8CF30 		strb	r3, [r7, #207]
 713:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   evision_return_t e_ret;
 714:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint32_t ccAvgR, ccAvgG, ccAvgB, colorTemp, i, j, profId, profNb;
 715:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   float cfaGains[4], ccmCoeffs[3][3], ccmOffsets[3] = { 0 };
 2061              		.loc 1 715 39
 2062 0016 07F12403 		add	r3, r7, #36
 2063 001a 0022     		movs	r2, #0
 2064 001c 1A60     		str	r2, [r3]
 2065 001e 5A60     		str	r2, [r3, #4]
 2066 0020 9A60     		str	r2, [r3, #8]
 716:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   double meas[3];
 717:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint32_t statsHistory[3][3] = { 0 };
 718:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint32_t colorTempHistory[2] = { 0 };
 719:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint8_t skip_stat_check_count = ALGO_AWB_STAT_CHECK_SKIP_AFTER_INIT;
 720:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint8_t stat_has_changed = false;
 2067              		.loc 1 720 11
 2068 0022 0023     		movs	r3, #0
 2069 0024 87F8BB30 		strb	r3, [r7, #187]
 721:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 722:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   IQParamConfig = ISP_SVC_IQParam_Get(hIsp);
 2070              		.loc 1 722 19
 2071 0028 7868     		ldr	r0, [r7, #4]
 2072 002a FFF7FEFF 		bl	ISP_SVC_IQParam_Get
 2073 002e C7F8B000 		str	r0, [r7, #176]
 723:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 724:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (IQParamConfig->AWBAlgo.enable == false)
 2074              		.loc 1 724 29
 2075 0032 D7F8B030 		ldr	r3, [r7, #176]
 2076 0036 93F87430 		ldrb	r3, [r3, #116]	@ zero_extendqisi2
 2077              		.loc 1 724 6
 2078 003a 002B     		cmp	r3, #0
 2079 003c 04D1     		bne	.L96
 725:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 726:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     enableCurrent = false;
 2080              		.loc 1 726 19
 2081 003e D04B     		ldr	r3, .L143+16
 2082 0040 0022     		movs	r2, #0
 2083 0042 1A70     		strb	r2, [r3]
 727:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_OK;
 2084              		.loc 1 727 12
 2085 0044 0023     		movs	r3, #0
 2086 0046 83E3     		b	.L139
ARM GAS  /tmp/ccZ1aFVH.s 			page 50


 2087              	.L96:
 728:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 729:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   else if ((enableCurrent == false) || (IQParamConfig->AWBAlgo.enable == ISP_AWB_ENABLE_RECONFIGURE
 2088              		.loc 1 729 27
 2089 0048 CD4B     		ldr	r3, .L143+16
 2090 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2091              		.loc 1 729 11
 2092 004c 002B     		cmp	r3, #0
 2093 004e 05D0     		beq	.L98
 2094              		.loc 1 729 63 discriminator 1
 2095 0050 D7F8B030 		ldr	r3, [r7, #176]
 2096 0054 93F87430 		ldrb	r3, [r3, #116]	@ zero_extendqisi2
 2097              		.loc 1 729 37 discriminator 1
 2098 0058 FF2B     		cmp	r3, #255
 2099 005a 11D1     		bne	.L99
 2100              	.L98:
 730:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 731:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Start or resume algo : set state to INIT in order to read the IQ params */
 732:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_INIT;
 2101              		.loc 1 732 17
 2102 005c D7F8B430 		ldr	r3, [r7, #180]
 2103 0060 0022     		movs	r2, #0
 2104 0062 5A70     		strb	r2, [r3, #1]
 733:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     IQParamConfig->AWBAlgo.enable = true;
 2105              		.loc 1 733 35
 2106 0064 D7F8B030 		ldr	r3, [r7, #176]
 2107 0068 0122     		movs	r2, #1
 2108 006a 83F87420 		strb	r2, [r3, #116]
 734:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     reconfigureRequest = true;
 2109              		.loc 1 734 24
 2110 006e C54B     		ldr	r3, .L143+20
 2111 0070 0122     		movs	r2, #1
 2112 0072 1A70     		strb	r2, [r3]
 735:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     enableCurrent = true;
 2113              		.loc 1 735 19
 2114 0074 C24B     		ldr	r3, .L143+16
 2115 0076 0122     		movs	r2, #1
 2116 0078 1A70     		strb	r2, [r3]
 736:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     skip_stat_check_count = ALGO_AWB_STAT_CHECK_SKIP_AFTER_CT_ESTIMATION;
 2117              		.loc 1 736 27
 2118 007a C34B     		ldr	r3, .L143+24
 2119 007c 0422     		movs	r2, #4
 2120 007e 1A70     		strb	r2, [r3]
 2121              	.L99:
 737:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 738:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 739:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   switch(algo->state)
 2122              		.loc 1 739 14
 2123 0080 D7F8B430 		ldr	r3, [r7, #180]
 2124 0084 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2125              		.loc 1 739 3
 2126 0086 032B     		cmp	r3, #3
 2127 0088 00F26083 		bhi	.L100
 2128 008c 01A2     		adr	r2, .L102
 2129 008e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2130 0092 00BF     		.p2align 2
 2131              	.L102:
ARM GAS  /tmp/ccZ1aFVH.s 			page 51


 2132 0094 A5000000 		.word	.L105+1
 2133 0098 37030000 		.word	.L104+1
 2134 009c 4D070000 		.word	.L100+1
 2135 00a0 A9030000 		.word	.L101+1
 2136              		.p2align 1
 2137              	.L105:
 740:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 741:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_INIT:
 742:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Set profiles (color temperature, gains, color conv matrix) */
 743:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     profNb = 0;
 2138              		.loc 1 743 12
 2139 00a4 0023     		movs	r3, #0
 2140 00a6 C7F8BC30 		str	r3, [r7, #188]
 744:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     for (profId = 0; profId < ISP_AWB_COLORTEMP_REF; profId++)
 2141              		.loc 1 744 17
 2142 00aa 0023     		movs	r3, #0
 2143 00ac C7F8C030 		str	r3, [r7, #192]
 2144              		.loc 1 744 5
 2145 00b0 CCE0     		b	.L106
 2146              	.L114:
 745:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 746:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       colorTemp = IQParamConfig->AWBAlgo.referenceColorTemp[profId];
 2147              		.loc 1 746 17
 2148 00b2 D7F8B020 		ldr	r2, [r7, #176]
 2149 00b6 D7F8C030 		ldr	r3, [r7, #192]
 2150 00ba 4433     		adds	r3, r3, #68
 2151 00bc 9B00     		lsls	r3, r3, #2
 2152 00be 1344     		add	r3, r3, r2
 2153 00c0 9B68     		ldr	r3, [r3, #8]
 2154 00c2 C7F8A830 		str	r3, [r7, #168]
 747:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (colorTemp == 0)
 2155              		.loc 1 747 10
 2156 00c6 D7F8A830 		ldr	r3, [r7, #168]
 2157 00ca 002B     		cmp	r3, #0
 2158 00cc 00F0C480 		beq	.L140
 748:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         break;
 749:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 750:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (profNb > 0)
 2159              		.loc 1 750 10
 2160 00d0 D7F8BC30 		ldr	r3, [r7, #188]
 2161 00d4 002B     		cmp	r3, #0
 2162 00d6 1BD0     		beq	.L109
 751:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 752:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Profile decision threshold = lowest ref. temperature + 1/4 of the distance between two r
 753:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         colorTempThresholds[profNb - 1] = (float) ((colorTemp + 3 * IQParamConfig->AWBAlgo.referenc
 2163              		.loc 1 753 118
 2164 00d8 D7F8C030 		ldr	r3, [r7, #192]
 2165 00dc 013B     		subs	r3, r3, #1
 2166              		.loc 1 753 110
 2167 00de D7F8B020 		ldr	r2, [r7, #176]
 2168 00e2 4433     		adds	r3, r3, #68
 2169 00e4 9B00     		lsls	r3, r3, #2
 2170 00e6 1344     		add	r3, r3, r2
 2171 00e8 9A68     		ldr	r2, [r3, #8]
 2172              		.loc 1 753 67
 2173 00ea 1346     		mov	r3, r2
 2174 00ec 5B00     		lsls	r3, r3, #1
ARM GAS  /tmp/ccZ1aFVH.s 			page 52


 2175 00ee 1A44     		add	r2, r2, r3
 2176              		.loc 1 753 63
 2177 00f0 D7F8A830 		ldr	r3, [r7, #168]
 2178 00f4 1344     		add	r3, r3, r2
 2179              		.loc 1 753 124
 2180 00f6 9A08     		lsrs	r2, r3, #2
 2181              		.loc 1 753 36
 2182 00f8 D7F8BC30 		ldr	r3, [r7, #188]
 2183 00fc 013B     		subs	r3, r3, #1
 2184              		.loc 1 753 43
 2185 00fe 07EE902A 		vmov	s15, r2	@ int
 2186 0102 F8EE677A 		vcvt.f32.u32	s15, s15
 2187              		.loc 1 753 41
 2188 0106 A14A     		ldr	r2, .L143+28
 2189 0108 9B00     		lsls	r3, r3, #2
 2190 010a 1344     		add	r3, r3, r2
 2191 010c C3ED007A 		vstr.32	s15, [r3]
 2192              	.L109:
 754:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
 755:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 756:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Set cfa gains (RGGB) */
 757:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       cfaGains[0] = (float) IQParamConfig->AWBAlgo.ispGainR[profId] / ISP_GAIN_PRECISION_FACTOR;
 2193              		.loc 1 757 60
 2194 0110 D7F8B020 		ldr	r2, [r7, #176]
 2195 0114 D7F8C030 		ldr	r3, [r7, #192]
 2196 0118 4A33     		adds	r3, r3, #74
 2197 011a 9B00     		lsls	r3, r3, #2
 2198 011c 1344     		add	r3, r3, r2
 2199 011e 5B68     		ldr	r3, [r3, #4]
 2200              		.loc 1 757 21
 2201 0120 07EE903A 		vmov	s15, r3	@ int
 2202 0124 B8EE677A 		vcvt.f32.u32	s14, s15
 2203              		.loc 1 757 69
 2204 0128 DFED996A 		vldr.32	s13, .L143+32
 2205 012c C7EE267A 		vdiv.f32	s15, s14, s13
 2206              		.loc 1 757 19
 2207 0130 C7ED157A 		vstr.32	s15, [r7, #84]
 758:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       cfaGains[1] = (float) IQParamConfig->AWBAlgo.ispGainG[profId] / ISP_GAIN_PRECISION_FACTOR;
 2208              		.loc 1 758 60
 2209 0134 D7F8B020 		ldr	r2, [r7, #176]
 2210 0138 D7F8C030 		ldr	r3, [r7, #192]
 2211 013c 4E33     		adds	r3, r3, #78
 2212 013e 9B00     		lsls	r3, r3, #2
 2213 0140 1344     		add	r3, r3, r2
 2214 0142 9B68     		ldr	r3, [r3, #8]
 2215              		.loc 1 758 21
 2216 0144 07EE903A 		vmov	s15, r3	@ int
 2217 0148 B8EE677A 		vcvt.f32.u32	s14, s15
 2218              		.loc 1 758 69
 2219 014c DFED906A 		vldr.32	s13, .L143+32
 2220 0150 C7EE267A 		vdiv.f32	s15, s14, s13
 2221              		.loc 1 758 19
 2222 0154 C7ED167A 		vstr.32	s15, [r7, #88]
 759:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       cfaGains[2] = cfaGains[1];
 2223              		.loc 1 759 29
 2224 0158 BB6D     		ldr	r3, [r7, #88]	@ float
 2225              		.loc 1 759 19
ARM GAS  /tmp/ccZ1aFVH.s 			page 53


 2226 015a FB65     		str	r3, [r7, #92]	@ float
 760:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       cfaGains[3] = (float) IQParamConfig->AWBAlgo.ispGainB[profId] / ISP_GAIN_PRECISION_FACTOR;
 2227              		.loc 1 760 60
 2228 015c D7F8B020 		ldr	r2, [r7, #176]
 2229 0160 D7F8C030 		ldr	r3, [r7, #192]
 2230 0164 5433     		adds	r3, r3, #84
 2231 0166 9B00     		lsls	r3, r3, #2
 2232 0168 1344     		add	r3, r3, r2
 2233 016a 5B68     		ldr	r3, [r3, #4]
 2234              		.loc 1 760 21
 2235 016c 07EE903A 		vmov	s15, r3	@ int
 2236 0170 B8EE677A 		vcvt.f32.u32	s14, s15
 2237              		.loc 1 760 69
 2238 0174 DFED866A 		vldr.32	s13, .L143+32
 2239 0178 C7EE267A 		vdiv.f32	s15, s14, s13
 2240              		.loc 1 760 19
 2241 017c C7ED187A 		vstr.32	s15, [r7, #96]
 761:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 762:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Set CCM Coeff */
 763:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       for (i = 0; i < 3; i++)
 2242              		.loc 1 763 14
 2243 0180 0023     		movs	r3, #0
 2244 0182 C7F8C830 		str	r3, [r7, #200]
 2245              		.loc 1 763 7
 2246 0186 3BE0     		b	.L110
 2247              	.L113:
 764:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 765:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         for (j = 0; j < 3; j++)
 2248              		.loc 1 765 16
 2249 0188 0023     		movs	r3, #0
 2250 018a C7F8C430 		str	r3, [r7, #196]
 2251              		.loc 1 765 9
 2252 018e 2EE0     		b	.L111
 2253              	.L112:
 766:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 767:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           ccmCoeffs[i][j] = (float) IQParamConfig->AWBAlgo.coeff[profId][i][j] / ISP_CCM_PRECISION_
 2254              		.loc 1 767 76
 2255 0190 D7F8B000 		ldr	r0, [r7, #176]
 2256 0194 D7F8C830 		ldr	r3, [r7, #200]
 2257 0198 D7F8C010 		ldr	r1, [r7, #192]
 2258 019c 1A46     		mov	r2, r3
 2259 019e 5200     		lsls	r2, r2, #1
 2260 01a0 1A44     		add	r2, r2, r3
 2261 01a2 0B46     		mov	r3, r1
 2262 01a4 DB00     		lsls	r3, r3, #3
 2263 01a6 0B44     		add	r3, r3, r1
 2264 01a8 1A44     		add	r2, r2, r3
 2265 01aa D7F8C430 		ldr	r3, [r7, #196]
 2266 01ae 1344     		add	r3, r3, r2
 2267 01b0 5833     		adds	r3, r3, #88
 2268 01b2 9B00     		lsls	r3, r3, #2
 2269 01b4 0344     		add	r3, r3, r0
 2270 01b6 9B68     		ldr	r3, [r3, #8]
 2271              		.loc 1 767 29
 2272 01b8 07EE903A 		vmov	s15, r3	@ int
 2273 01bc B8EEE77A 		vcvt.f32.s32	s14, s15
 2274              		.loc 1 767 80
ARM GAS  /tmp/ccZ1aFVH.s 			page 54


 2275 01c0 DFED736A 		vldr.32	s13, .L143+32
 2276 01c4 C7EE267A 		vdiv.f32	s15, s14, s13
 2277              		.loc 1 767 27
 2278 01c8 D7F8C820 		ldr	r2, [r7, #200]
 2279 01cc 1346     		mov	r3, r2
 2280 01ce 5B00     		lsls	r3, r3, #1
 2281 01d0 1344     		add	r3, r3, r2
 2282 01d2 D7F8C420 		ldr	r2, [r7, #196]
 2283 01d6 1344     		add	r3, r3, r2
 2284 01d8 9B00     		lsls	r3, r3, #2
 2285 01da D033     		adds	r3, r3, #208
 2286 01dc 3B44     		add	r3, r3, r7
 2287 01de A03B     		subs	r3, r3, #160
 2288 01e0 C3ED007A 		vstr.32	s15, [r3]
 765:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 2289              		.loc 1 765 29 discriminator 3
 2290 01e4 D7F8C430 		ldr	r3, [r7, #196]
 2291 01e8 0133     		adds	r3, r3, #1
 2292 01ea C7F8C430 		str	r3, [r7, #196]
 2293              	.L111:
 765:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 2294              		.loc 1 765 23 discriminator 1
 2295 01ee D7F8C430 		ldr	r3, [r7, #196]
 2296 01f2 022B     		cmp	r3, #2
 2297 01f4 CCD9     		bls	.L112
 763:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 2298              		.loc 1 763 27 discriminator 2
 2299 01f6 D7F8C830 		ldr	r3, [r7, #200]
 2300 01fa 0133     		adds	r3, r3, #1
 2301 01fc C7F8C830 		str	r3, [r7, #200]
 2302              	.L110:
 763:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 2303              		.loc 1 763 21 discriminator 1
 2304 0200 D7F8C830 		ldr	r3, [r7, #200]
 2305 0204 022B     		cmp	r3, #2
 2306 0206 BFD9     		bls	.L113
 768:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
 769:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
 770:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 771:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Set profile */
 772:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       evision_api_awb_set_profile(&awbProfiles[profId], (float) colorTemp, cfaGains, ccmCoeffs, ccm
 2307              		.loc 1 772 7
 2308 0208 D7F8C020 		ldr	r2, [r7, #192]
 2309 020c 1346     		mov	r3, r2
 2310 020e 1B01     		lsls	r3, r3, #4
 2311 0210 1344     		add	r3, r3, r2
 2312 0212 9B00     		lsls	r3, r3, #2
 2313 0214 5F4A     		ldr	r2, .L143+36
 2314 0216 9818     		adds	r0, r3, r2
 2315 0218 D7F8A830 		ldr	r3, [r7, #168]
 2316 021c 07EE903A 		vmov	s15, r3	@ int
 2317 0220 F8EE677A 		vcvt.f32.u32	s15, s15
 2318 0224 07F12403 		add	r3, r7, #36
 2319 0228 07F13002 		add	r2, r7, #48
 2320 022c 07F15401 		add	r1, r7, #84
 2321 0230 B0EE670A 		vmov.f32	s0, s15
 2322 0234 FFF7FEFF 		bl	evision_api_awb_set_profile
ARM GAS  /tmp/ccZ1aFVH.s 			page 55


 773:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       profNb++;
 2323              		.loc 1 773 13
 2324 0238 D7F8BC30 		ldr	r3, [r7, #188]
 2325 023c 0133     		adds	r3, r3, #1
 2326 023e C7F8BC30 		str	r3, [r7, #188]
 744:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 2327              		.loc 1 744 60 discriminator 2
 2328 0242 D7F8C030 		ldr	r3, [r7, #192]
 2329 0246 0133     		adds	r3, r3, #1
 2330 0248 C7F8C030 		str	r3, [r7, #192]
 2331              	.L106:
 744:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 2332              		.loc 1 744 29 discriminator 1
 2333 024c D7F8C030 		ldr	r3, [r7, #192]
 2334 0250 042B     		cmp	r3, #4
 2335 0252 7FF62EAF 		bls	.L114
 2336 0256 00E0     		b	.L108
 2337              	.L140:
 748:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 2338              		.loc 1 748 9
 2339 0258 00BF     		nop
 2340              	.L108:
 774:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 775:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 776:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (profNb == 0)
 2341              		.loc 1 776 8
 2342 025a D7F8BC30 		ldr	r3, [r7, #188]
 2343 025e 002B     		cmp	r3, #0
 2344 0260 01D1     		bne	.L115
 777:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 778:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ISP_ERR_WB_COLORTEMP;
 2345              		.loc 1 778 14
 2346 0262 9623     		movs	r3, #150
 2347 0264 74E2     		b	.L139
 2348              	.L115:
 779:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 780:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 781:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Register profiles */
 782:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     e_ret = evision_api_awb_init_profiles(pIspAWBestimator, (double) IQParamConfig->AWBAlgo.referen
 2349              		.loc 1 782 13
 2350 0266 4C4B     		ldr	r3, .L143+40
 2351 0268 1868     		ldr	r0, [r3]
 2352              		.loc 1 782 111
 2353 026a D7F8B030 		ldr	r3, [r7, #176]
 2354 026e D3F81831 		ldr	r3, [r3, #280]
 2355              		.loc 1 782 13
 2356 0272 07EE903A 		vmov	s15, r3	@ int
 2357 0276 B8EE677B 		vcvt.f64.u32	d7, s15
 783:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                           (double) IQParamConfig->AWBAlgo.referenceColorTemp[profNb
 2358              		.loc 1 783 101
 2359 027a D7F8BC30 		ldr	r3, [r7, #188]
 2360 027e 013B     		subs	r3, r3, #1
 2361              		.loc 1 783 93
 2362 0280 D7F8B020 		ldr	r2, [r7, #176]
 2363 0284 4433     		adds	r3, r3, #68
 2364 0286 9B00     		lsls	r3, r3, #2
 2365 0288 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccZ1aFVH.s 			page 56


 2366 028a 9B68     		ldr	r3, [r3, #8]
 782:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                           (double) IQParamConfig->AWBAlgo.referenceColorTemp[profNb
 2367              		.loc 1 782 13
 2368 028c 06EE903A 		vmov	s13, r3	@ int
 2369 0290 B8EE666B 		vcvt.f64.u32	d6, s13
 2370 0294 D7F8BC30 		ldr	r3, [r7, #188]
 2371 0298 99B2     		uxth	r1, r3
 2372 029a 3E4B     		ldr	r3, .L143+36
 2373 029c 3B4A     		ldr	r2, .L143+28
 2374 029e B0EE461B 		vmov.f64	d1, d6
 2375 02a2 B0EE470B 		vmov.f64	d0, d7
 2376 02a6 FFF7FEFF 		bl	evision_api_awb_init_profiles
 2377 02aa 0346     		mov	r3, r0
 2378 02ac 87F8AF30 		strb	r3, [r7, #175]
 784:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                           colorTempThresholds, awbProfiles);
 785:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (e_ret != EVISION_RET_SUCCESS)
 2379              		.loc 1 785 8
 2380 02b0 97F9AF30 		ldrsb	r3, [r7, #175]
 2381 02b4 012B     		cmp	r3, #1
 2382 02b6 01D0     		beq	.L116
 786:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 787:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ISP_ERR_ALGO;
 2383              		.loc 1 787 14
 2384 02b8 BE23     		movs	r3, #190
 2385 02ba 49E2     		b	.L139
 2386              	.L116:
 788:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 789:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 790:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Configure algo */
 791:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAWBestimator->hyper_params.speed_p_min = 1.35;
 2387              		.loc 1 791 21
 2388 02bc 364B     		ldr	r3, .L143+40
 2389 02be 1968     		ldr	r1, [r3]
 2390              		.loc 1 791 48
 2391 02c0 2BA3     		adr	r3, .L143
 2392 02c2 D3E90023 		ldrd	r2, [r3]
 2393 02c6 C1E9A623 		strd	r2, [r1, #664]
 792:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAWBestimator->hyper_params.speed_p_max = (profNb < 4)? 1.8 : 2.0;
 2394              		.loc 1 792 68
 2395 02ca D7F8BC30 		ldr	r3, [r7, #188]
 2396 02ce 032B     		cmp	r3, #3
 2397 02d0 03D8     		bhi	.L117
 2398              		.loc 1 792 68 is_stmt 0 discriminator 1
 2399 02d2 29A3     		adr	r3, .L143+8
 2400 02d4 D3E90023 		ldrd	r2, [r3]
 2401 02d8 03E0     		b	.L118
 2402              	.L117:
 2403              		.loc 1 792 68 discriminator 2
 2404 02da 4FF00002 		mov	r2, #0
 2405 02de 4FF08043 		mov	r3, #1073741824
 2406              	.L118:
 2407              		.loc 1 792 21 is_stmt 1 discriminator 4
 2408 02e2 2D49     		ldr	r1, .L143+40
 2409 02e4 0968     		ldr	r1, [r1]
 2410              		.loc 1 792 48 discriminator 4
 2411 02e6 C1E9A823 		strd	r2, [r1, #672]
 793:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAWBestimator->hyper_params.gm_tolerance = 1;
ARM GAS  /tmp/ccZ1aFVH.s 			page 57


 2412              		.loc 1 793 21
 2413 02ea 2B4B     		ldr	r3, .L143+40
 2414 02ec 1B68     		ldr	r3, [r3]
 2415              		.loc 1 793 49
 2416 02ee 4FF07E52 		mov	r2, #1065353216
 2417 02f2 C3F8B822 		str	r2, [r3, #696]	@ float
 794:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pIspAWBestimator->hyper_params.conv_criterion = 3;
 2418              		.loc 1 794 21
 2419 02f6 284B     		ldr	r3, .L143+40
 2420 02f8 1B68     		ldr	r3, [r3]
 2421              		.loc 1 794 51
 2422 02fa 284A     		ldr	r2, .L143+44
 2423 02fc C3F8B422 		str	r2, [r3, #692]	@ float
 795:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 796:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Ask for stats */
 797:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_AWB_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOWN,
 2424              		.loc 1 797 11
 2425 0300 0523     		movs	r3, #5
 2426 0302 0293     		str	r3, [sp, #8]
 2427 0304 0123     		movs	r3, #1
 2428 0306 0193     		str	r3, [sp, #4]
 2429 0308 0223     		movs	r3, #2
 2430 030a 0093     		str	r3, [sp]
 2431 030c 244B     		ldr	r3, .L143+48
 2432 030e 3A68     		ldr	r2, [r7]
 2433 0310 2449     		ldr	r1, .L143+52
 2434 0312 7868     		ldr	r0, [r7, #4]
 2435 0314 FFF7FEFF 		bl	ISP_SVC_Stats_GetNext
 2436 0318 0346     		mov	r3, r0
 2437 031a 87F8CF30 		strb	r3, [r7, #207]
 798:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, ALGO_ISP_LATENCY + ALGO_AWB_ADDITIONAL_LATENCY);
 799:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 2438              		.loc 1 799 8
 2439 031e 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2440 0322 002B     		cmp	r3, #0
 2441 0324 02D0     		beq	.L119
 800:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 801:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 2442              		.loc 1 801 14
 2443 0326 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2444 032a 11E2     		b	.L139
 2445              	.L119:
 802:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 803:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 804:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
 805:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
 2446              		.loc 1 805 17
 2447 032c D7F8B430 		ldr	r3, [r7, #180]
 2448 0330 0222     		movs	r2, #2
 2449 0332 5A70     		strb	r2, [r3, #1]
 806:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 2450              		.loc 1 806 5
 2451 0334 0AE2     		b	.L100
 2452              	.L104:
 807:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 808:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_NEED_STAT:
 809:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_AWB_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOWN,
ARM GAS  /tmp/ccZ1aFVH.s 			page 58


 2453              		.loc 1 809 11
 2454 0336 0523     		movs	r3, #5
 2455 0338 0293     		str	r3, [sp, #8]
 2456 033a 0123     		movs	r3, #1
 2457 033c 0193     		str	r3, [sp, #4]
 2458 033e 0223     		movs	r3, #2
 2459 0340 0093     		str	r3, [sp]
 2460 0342 174B     		ldr	r3, .L143+48
 2461 0344 3A68     		ldr	r2, [r7]
 2462 0346 1749     		ldr	r1, .L143+52
 2463 0348 7868     		ldr	r0, [r7, #4]
 2464 034a FFF7FEFF 		bl	ISP_SVC_Stats_GetNext
 2465 034e 0346     		mov	r3, r0
 2466 0350 87F8CF30 		strb	r3, [r7, #207]
 810:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                 ISP_STAT_TYPE_AVG, ALGO_ISP_LATENCY + ALGO_AWB_ADDITIONAL_LATENCY);
 811:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
 2467              		.loc 1 811 8
 2468 0354 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2469 0358 002B     		cmp	r3, #0
 2470 035a 02D0     		beq	.L120
 812:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 813:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
 2471              		.loc 1 813 14
 2472 035c 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2473 0360 F6E1     		b	.L139
 2474              	.L120:
 814:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 815:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 816:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
 817:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
 2475              		.loc 1 817 17
 2476 0362 D7F8B430 		ldr	r3, [r7, #180]
 2477 0366 0222     		movs	r2, #2
 2478 0368 5A70     		strb	r2, [r3, #1]
 818:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 2479              		.loc 1 818 5
 2480 036a EFE1     		b	.L100
 2481              	.L144:
 2482 036c AFF30080 		.align	3
 2483              	.L143:
 2484 0370 9A999999 		.word	-1717986918
 2485 0374 9999F53F 		.word	1073060249
 2486 0378 CDCCCCCC 		.word	-858993459
 2487 037c CCCCFC3F 		.word	1073532108
 2488 0380 00000000 		.word	enableCurrent.8
 2489 0384 00000000 		.word	reconfigureRequest.7
 2490 0388 00000000 		.word	skip_stat_check_count.6
 2491 038c 00000000 		.word	colorTempThresholds.5
 2492 0390 20BCBE4C 		.word	1287568416
 2493 0394 00000000 		.word	awbProfiles.4
 2494 0398 00000000 		.word	pIspAWBestimator
 2495 039c 00004040 		.word	1077936128
 2496 03a0 00000000 		.word	stats.3
 2497 03a4 00000000 		.word	ISP_Algo_AWB_StatCb
 2498              	.L101:
 819:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 820:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_WAITING_STAT:
ARM GAS  /tmp/ccZ1aFVH.s 			page 59


 821:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Do nothing */
 822:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 823:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 824:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_STAT_READY:
 825:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ISP_Algo_GetUpStat(hIsp, &stats);
 2499              		.loc 1 825 5
 2500 03a8 B649     		ldr	r1, .L145
 2501 03aa 7868     		ldr	r0, [r7, #4]
 2502 03ac FFF7FEFF 		bl	ISP_Algo_GetUpStat
 826:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 827:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     for (i = 0; i < 3; i++)
 2503              		.loc 1 827 12
 2504 03b0 0023     		movs	r3, #0
 2505 03b2 C7F8C830 		str	r3, [r7, #200]
 2506              		.loc 1 827 5
 2507 03b6 3FE0     		b	.L121
 2508              	.L124:
 828:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 829:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if ((abs(stats.up.averageR - statsHistory[i][0]) > 2) || (abs(stats.up.averageG - statsHistor
 2509              		.loc 1 829 24
 2510 03b8 B24B     		ldr	r3, .L145
 2511 03ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2512 03bc 1846     		mov	r0, r3
 2513              		.loc 1 829 51
 2514 03be B249     		ldr	r1, .L145+4
 2515 03c0 D7F8C820 		ldr	r2, [r7, #200]
 2516 03c4 1346     		mov	r3, r2
 2517 03c6 5B00     		lsls	r3, r3, #1
 2518 03c8 1344     		add	r3, r3, r2
 2519 03ca 9B00     		lsls	r3, r3, #2
 2520 03cc 0B44     		add	r3, r3, r1
 2521 03ce 1B68     		ldr	r3, [r3]
 2522              		.loc 1 829 34
 2523 03d0 C31A     		subs	r3, r0, r3
 2524              		.loc 1 829 12
 2525 03d2 002B     		cmp	r3, #0
 2526 03d4 B8BF     		it	lt
 2527 03d6 5B42     		rsblt	r3, r3, #0
 2528              		.loc 1 829 10
 2529 03d8 022B     		cmp	r3, #2
 2530 03da 25DC     		bgt	.L122
 2531              		.loc 1 829 77 discriminator 1
 2532 03dc A94B     		ldr	r3, .L145
 2533 03de 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2534 03e0 1846     		mov	r0, r3
 2535              		.loc 1 829 104 discriminator 1
 2536 03e2 A949     		ldr	r1, .L145+4
 2537 03e4 D7F8C820 		ldr	r2, [r7, #200]
 2538 03e8 1346     		mov	r3, r2
 2539 03ea 5B00     		lsls	r3, r3, #1
 2540 03ec 1344     		add	r3, r3, r2
 2541 03ee 9B00     		lsls	r3, r3, #2
 2542 03f0 0B44     		add	r3, r3, r1
 2543 03f2 0433     		adds	r3, r3, #4
 2544 03f4 1B68     		ldr	r3, [r3]
 2545              		.loc 1 829 87 discriminator 1
 2546 03f6 C31A     		subs	r3, r0, r3
ARM GAS  /tmp/ccZ1aFVH.s 			page 60


 2547              		.loc 1 829 65 discriminator 1
 2548 03f8 002B     		cmp	r3, #0
 2549 03fa B8BF     		it	lt
 2550 03fc 5B42     		rsblt	r3, r3, #0
 2551              		.loc 1 829 61 discriminator 1
 2552 03fe 022B     		cmp	r3, #2
 2553 0400 12DC     		bgt	.L122
 2554              		.loc 1 829 130 discriminator 2
 2555 0402 A04B     		ldr	r3, .L145
 2556 0404 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2557 0406 1846     		mov	r0, r3
 2558              		.loc 1 829 157 discriminator 2
 2559 0408 9F49     		ldr	r1, .L145+4
 2560 040a D7F8C820 		ldr	r2, [r7, #200]
 2561 040e 1346     		mov	r3, r2
 2562 0410 5B00     		lsls	r3, r3, #1
 2563 0412 1344     		add	r3, r3, r2
 2564 0414 9B00     		lsls	r3, r3, #2
 2565 0416 0B44     		add	r3, r3, r1
 2566 0418 0833     		adds	r3, r3, #8
 2567 041a 1B68     		ldr	r3, [r3]
 2568              		.loc 1 829 140 discriminator 2
 2569 041c C31A     		subs	r3, r0, r3
 2570              		.loc 1 829 118 discriminator 2
 2571 041e 002B     		cmp	r3, #0
 2572 0420 B8BF     		it	lt
 2573 0422 5B42     		rsblt	r3, r3, #0
 2574              		.loc 1 829 114 discriminator 2
 2575 0424 022B     		cmp	r3, #2
 2576 0426 02DD     		ble	.L123
 2577              	.L122:
 830:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
 831:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         stat_has_changed = true;
 2578              		.loc 1 831 26
 2579 0428 0123     		movs	r3, #1
 2580 042a 87F8BB30 		strb	r3, [r7, #187]
 2581              	.L123:
 827:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 2582              		.loc 1 827 25 discriminator 2
 2583 042e D7F8C830 		ldr	r3, [r7, #200]
 2584 0432 0133     		adds	r3, r3, #1
 2585 0434 C7F8C830 		str	r3, [r7, #200]
 2586              	.L121:
 827:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 2587              		.loc 1 827 19 discriminator 1
 2588 0438 D7F8C830 		ldr	r3, [r7, #200]
 2589 043c 022B     		cmp	r3, #2
 2590 043e BBD9     		bls	.L124
 832:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
 833:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 834:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 835:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (skip_stat_check_count || stat_has_changed || reconfigureRequest)
 2591              		.loc 1 835 9
 2592 0440 924B     		ldr	r3, .L145+8
 2593 0442 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2594              		.loc 1 835 8
 2595 0444 002B     		cmp	r3, #0
ARM GAS  /tmp/ccZ1aFVH.s 			page 61


 2596 0446 08D1     		bne	.L125
 2597              		.loc 1 835 31 discriminator 1
 2598 0448 97F8BB30 		ldrb	r3, [r7, #187]	@ zero_extendqisi2
 2599 044c 002B     		cmp	r3, #0
 2600 044e 04D1     		bne	.L125
 2601              		.loc 1 835 51 discriminator 2
 2602 0450 8F4B     		ldr	r3, .L145+12
 2603 0452 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2604 0454 002B     		cmp	r3, #0
 2605 0456 00F02A81 		beq	.L126
 2606              	.L125:
 836:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
 837:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         statsHistory[2][0] = stats.up.averageR;
 2607              		.loc 1 837 38
 2608 045a 8A4B     		ldr	r3, .L145
 2609 045c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2610 045e 1A46     		mov	r2, r3
 2611              		.loc 1 837 28
 2612 0460 894B     		ldr	r3, .L145+4
 2613 0462 9A61     		str	r2, [r3, #24]
 838:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         statsHistory[2][1] = stats.up.averageG;
 2614              		.loc 1 838 38
 2615 0464 874B     		ldr	r3, .L145
 2616 0466 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2617 0468 1A46     		mov	r2, r3
 2618              		.loc 1 838 28
 2619 046a 874B     		ldr	r3, .L145+4
 2620 046c DA61     		str	r2, [r3, #28]
 839:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         statsHistory[2][2] = stats.up.averageB;
 2621              		.loc 1 839 38
 2622 046e 854B     		ldr	r3, .L145
 2623 0470 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2624 0472 1A46     		mov	r2, r3
 2625              		.loc 1 839 28
 2626 0474 844B     		ldr	r3, .L145+4
 2627 0476 1A62     		str	r2, [r3, #32]
 840:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 841:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Get stats after color conversion */
 842:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         ISP_Algo_ApplyCConv(hIsp, stats.down.averageR, stats.down.averageG, stats.down.averageB, &c
 2628              		.loc 1 842 45
 2629 0478 824B     		ldr	r3, .L145
 2630 047a 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 2631              		.loc 1 842 9
 2632 047e 1946     		mov	r1, r3
 2633              		.loc 1 842 66
 2634 0480 804B     		ldr	r3, .L145
 2635 0482 93F83530 		ldrb	r3, [r3, #53]	@ zero_extendqisi2
 2636              		.loc 1 842 9
 2637 0486 1A46     		mov	r2, r3
 2638              		.loc 1 842 87
 2639 0488 7E4B     		ldr	r3, .L145
 2640 048a 93F83630 		ldrb	r3, [r3, #54]	@ zero_extendqisi2
 2641              		.loc 1 842 9
 2642 048e 1846     		mov	r0, r3
 2643 0490 07F16403 		add	r3, r7, #100
 2644 0494 0293     		str	r3, [sp, #8]
 2645 0496 07F16803 		add	r3, r7, #104
ARM GAS  /tmp/ccZ1aFVH.s 			page 62


 2646 049a 0193     		str	r3, [sp, #4]
 2647 049c 07F16C03 		add	r3, r7, #108
 2648 04a0 0093     		str	r3, [sp]
 2649 04a2 0346     		mov	r3, r0
 2650 04a4 7868     		ldr	r0, [r7, #4]
 2651 04a6 FFF7FEFF 		bl	ISP_Algo_ApplyCConv
 843:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 844:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Apply gamma */
 845:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         meas[0] = ISP_Algo_ApplyGammaInverse(hIsp, ccAvgR);
 2652              		.loc 1 845 19
 2653 04aa FB6E     		ldr	r3, [r7, #108]
 2654 04ac 1946     		mov	r1, r3
 2655 04ae 7868     		ldr	r0, [r7, #4]
 2656 04b0 FFF7FEFF 		bl	ISP_Algo_ApplyGammaInverse
 2657 04b4 B0EE407B 		vmov.f64	d7, d0
 2658              		.loc 1 845 17 discriminator 1
 2659 04b8 87ED027B 		vstr.64	d7, [r7, #8]
 846:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         meas[1] = ISP_Algo_ApplyGammaInverse(hIsp, ccAvgG);
 2660              		.loc 1 846 19
 2661 04bc BB6E     		ldr	r3, [r7, #104]
 2662 04be 1946     		mov	r1, r3
 2663 04c0 7868     		ldr	r0, [r7, #4]
 2664 04c2 FFF7FEFF 		bl	ISP_Algo_ApplyGammaInverse
 2665 04c6 B0EE407B 		vmov.f64	d7, d0
 2666              		.loc 1 846 17 discriminator 1
 2667 04ca 87ED047B 		vstr.64	d7, [r7, #16]
 847:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         meas[2] = ISP_Algo_ApplyGammaInverse(hIsp, ccAvgB);
 2668              		.loc 1 847 19
 2669 04ce 7B6E     		ldr	r3, [r7, #100]
 2670 04d0 1946     		mov	r1, r3
 2671 04d2 7868     		ldr	r0, [r7, #4]
 2672 04d4 FFF7FEFF 		bl	ISP_Algo_ApplyGammaInverse
 2673 04d8 B0EE407B 		vmov.f64	d7, d0
 2674              		.loc 1 847 17 discriminator 1
 2675 04dc 87ED067B 		vstr.64	d7, [r7, #24]
 848:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 849:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* Run algo to estimate gain and color conversion to apply */
 850:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         e_ret = evision_api_awb_run_average(pIspAWBestimator, NULL, 1, meas);
 2676              		.loc 1 850 17
 2677 04e0 6C4B     		ldr	r3, .L145+16
 2678 04e2 1868     		ldr	r0, [r3]
 2679 04e4 07F10803 		add	r3, r7, #8
 2680 04e8 0122     		movs	r2, #1
 2681 04ea 0021     		movs	r1, #0
 2682 04ec FFF7FEFF 		bl	evision_api_awb_run_average
 2683 04f0 0346     		mov	r3, r0
 2684 04f2 87F8AF30 		strb	r3, [r7, #175]
 851:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         if (e_ret == EVISION_RET_SUCCESS)
 2685              		.loc 1 851 12
 2686 04f6 97F9AF30 		ldrsb	r3, [r7, #175]
 2687 04fa 012B     		cmp	r3, #1
 2688 04fc 40F0D480 		bne	.L127
 852:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 853:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AWB_DBG_LOGS
 854:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           static int nb_meas, nb_changes;
 855:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           static int nb_colortemp_change[ISP_AWB_COLORTEMP_REF];
 856:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
ARM GAS  /tmp/ccZ1aFVH.s 			page 63


 857:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           nb_meas++;
 858:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           if (pIspAWBestimator->out_temp != currentColorTemp)
 859:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             nb_changes++;
 860:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           for (int i = 0; i < ISP_AWB_COLORTEMP_REF; i++) {
 861:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             if (pIspAWBestimator->out_temp == IQParamConfig->AWBAlgo.referenceColorTemp[i])
 862:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             {
 863:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               nb_colortemp_change[i]++;
 864:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               continue;
 865:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             }
 866:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           }
 867:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 868:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           if (nb_meas == 100)
 869:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           {
 870:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("Last 100 measures:\r\n");
 871:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             for (int i = 0; i < ISP_AWB_COLORTEMP_REF; i++) {
 872:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               printf("\t%ld: %d\r\n",
 873:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                      IQParamConfig->AWBAlgo.referenceColorTemp[i],
 874:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                      nb_colortemp_change[i]);
 875:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             }
 876:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("\nChanges: %d\r\n", nb_changes);
 877:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 878:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             nb_meas = 0;
 879:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             nb_changes = 0;
 880:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             for (int i = 0; i < ISP_AWB_COLORTEMP_REF; i++) {
 881:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               nb_colortemp_change[i] = 0;
 882:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             }
 883:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           }
 884:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 885:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           if (pIspAWBestimator->out_temp != currentColorTemp || reconfigureRequest == true)
 2689              		.loc 1 885 31
 2690 0500 644B     		ldr	r3, .L145+16
 2691 0502 1B68     		ldr	r3, [r3]
 2692 0504 93ED126B 		vldr.64	d6, [r3, #72]
 2693              		.loc 1 885 42
 2694 0508 634B     		ldr	r3, .L145+20
 2695 050a 1B68     		ldr	r3, [r3]
 2696 050c 07EE903A 		vmov	s15, r3	@ int
 2697 0510 B8EE677B 		vcvt.f64.u32	d7, s15
 2698              		.loc 1 885 14
 2699 0514 B4EE476B 		vcmp.f64	d6, d7
 2700 0518 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2701 051c 04D1     		bne	.L128
 2702              		.loc 1 885 84 discriminator 1
 2703 051e 5C4B     		ldr	r3, .L145+12
 2704 0520 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2705              		.loc 1 885 62 discriminator 1
 2706 0522 012B     		cmp	r3, #1
 2707 0524 40F0C380 		bne	.L126
 2708              	.L128:
 886:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           {
 887:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_AWB_DBG_LOGS
 888:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("Color temperature = %ld\r\n", (uint32_t) pIspAWBestimator->out_temp);
 889:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
 890:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             if (pIspAWBestimator->out_temp == colorTempHistory[1])
 2709              		.loc 1 890 33
 2710 0528 5A4B     		ldr	r3, .L145+16
 2711 052a 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccZ1aFVH.s 			page 64


 2712 052c 93ED126B 		vldr.64	d6, [r3, #72]
 2713              		.loc 1 890 63
 2714 0530 5A4B     		ldr	r3, .L145+24
 2715 0532 5B68     		ldr	r3, [r3, #4]
 2716              		.loc 1 890 44
 2717 0534 07EE903A 		vmov	s15, r3	@ int
 2718 0538 B8EE677B 		vcvt.f64.u32	d7, s15
 2719              		.loc 1 890 16
 2720 053c B4EE476B 		vcmp.f64	d6, d7
 2721 0540 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2722 0544 03D1     		bne	.L129
 891:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             {
 892:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               skip_stat_check_count = 0; //oscillation detected
 2723              		.loc 1 892 37
 2724 0546 514B     		ldr	r3, .L145+8
 2725 0548 0022     		movs	r2, #0
 2726 054a 1A70     		strb	r2, [r3]
 2727 054c AFE0     		b	.L126
 2728              	.L129:
 893:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             }
 894:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             else
 895:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             {
 896:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               if (skip_stat_check_count <= ALGO_AWB_STAT_CHECK_SKIP_AFTER_CT_ESTIMATION) skip_stat_
 2729              		.loc 1 896 41
 2730 054e 4F4B     		ldr	r3, .L145+8
 2731 0550 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2732              		.loc 1 896 18
 2733 0552 042B     		cmp	r3, #4
 2734 0554 02D8     		bhi	.L130
 2735              		.loc 1 896 112 discriminator 1
 2736 0556 4D4B     		ldr	r3, .L145+8
 2737 0558 0422     		movs	r2, #4
 2738 055a 1A70     		strb	r2, [r3]
 2739              	.L130:
 897:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 898:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               /* Store meta data */
 899:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               Meta.colorTemp = (uint32_t) pIspAWBestimator->out_temp;
 2740              		.loc 1 899 59
 2741 055c 4D4B     		ldr	r3, .L145+16
 2742 055e 1B68     		ldr	r3, [r3]
 2743 0560 93ED127B 		vldr.64	d7, [r3, #72]
 2744              		.loc 1 899 32
 2745 0564 FCEEC77B 		vcvt.u32.f64	s15, d7
 2746 0568 17EE902A 		vmov	r2, s15	@ int
 2747              		.loc 1 899 30
 2748 056c 4C4B     		ldr	r3, .L145+28
 2749 056e 1A61     		str	r2, [r3, #16]
 900:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 901:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               /* Find the index profile for this referenceColorTemp */
 902:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               for (profId = 0; profId < ISP_AWB_COLORTEMP_REF; profId++)
 2750              		.loc 1 902 27
 2751 0570 0023     		movs	r3, #0
 2752 0572 C7F8C030 		str	r3, [r7, #192]
 2753              		.loc 1 902 15
 2754 0576 19E0     		b	.L131
 2755              	.L134:
 903:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               {
ARM GAS  /tmp/ccZ1aFVH.s 			page 65


 904:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 if (pIspAWBestimator->out_temp == IQParamConfig->AWBAlgo.referenceColorTemp[profId]
 2756              		.loc 1 904 37
 2757 0578 464B     		ldr	r3, .L145+16
 2758 057a 1B68     		ldr	r3, [r3]
 2759 057c 93ED126B 		vldr.64	d6, [r3, #72]
 2760              		.loc 1 904 92
 2761 0580 D7F8B020 		ldr	r2, [r7, #176]
 2762 0584 D7F8C030 		ldr	r3, [r7, #192]
 2763 0588 4433     		adds	r3, r3, #68
 2764 058a 9B00     		lsls	r3, r3, #2
 2765 058c 1344     		add	r3, r3, r2
 2766 058e 9B68     		ldr	r3, [r3, #8]
 2767              		.loc 1 904 48
 2768 0590 07EE903A 		vmov	s15, r3	@ int
 2769 0594 B8EE677B 		vcvt.f64.u32	d7, s15
 2770              		.loc 1 904 20
 2771 0598 B4EE476B 		vcmp.f64	d6, d7
 2772 059c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2773 05a0 09D0     		beq	.L141
 902:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               {
 2774              		.loc 1 902 70 discriminator 2
 2775 05a2 D7F8C030 		ldr	r3, [r7, #192]
 2776 05a6 0133     		adds	r3, r3, #1
 2777 05a8 C7F8C030 		str	r3, [r7, #192]
 2778              	.L131:
 902:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               {
 2779              		.loc 1 902 39 discriminator 1
 2780 05ac D7F8C030 		ldr	r3, [r7, #192]
 2781 05b0 042B     		cmp	r3, #4
 2782 05b2 E1D9     		bls	.L134
 2783 05b4 00E0     		b	.L133
 2784              	.L141:
 905:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   break;
 2785              		.loc 1 905 19
 2786 05b6 00BF     		nop
 2787              	.L133:
 906:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               }
 907:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 908:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               if (profId == ISP_AWB_COLORTEMP_REF)
 2788              		.loc 1 908 18
 2789 05b8 D7F8C030 		ldr	r3, [r7, #192]
 2790 05bc 052B     		cmp	r3, #5
 2791 05be 03D1     		bne	.L135
 909:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               {
 910:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 /* Unknown profile */
 911:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 ret  = ISP_ERR_WB_COLORTEMP;
 2792              		.loc 1 911 22
 2793 05c0 9623     		movs	r3, #150
 2794 05c2 87F8CF30 		strb	r3, [r7, #207]
 2795 05c6 72E0     		b	.L126
 2796              	.L135:
 912:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               }
 913:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               else
 914:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               {
 915:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 /* Apply Color Conversion */
 916:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 ColorConvConfig.enable = 1;
 2797              		.loc 1 916 40
ARM GAS  /tmp/ccZ1aFVH.s 			page 66


 2798 05c8 0123     		movs	r3, #1
 2799 05ca 87F88030 		strb	r3, [r7, #128]
 917:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 memcpy(ColorConvConfig.coeff, IQParamConfig->AWBAlgo.coeff[profId], sizeof(ColorCon
 2800              		.loc 1 917 75
 2801 05ce D7F8C020 		ldr	r2, [r7, #192]
 2802 05d2 1346     		mov	r3, r2
 2803 05d4 DB00     		lsls	r3, r3, #3
 2804 05d6 1344     		add	r3, r3, r2
 2805 05d8 9B00     		lsls	r3, r3, #2
 2806 05da 03F5B073 		add	r3, r3, #352
 2807 05de D7F8B020 		ldr	r2, [r7, #176]
 2808 05e2 1344     		add	r3, r3, r2
 2809 05e4 03F10801 		add	r1, r3, #8
 2810              		.loc 1 917 17
 2811 05e8 07F18003 		add	r3, r7, #128
 2812 05ec 0433     		adds	r3, r3, #4
 2813 05ee 2422     		movs	r2, #36
 2814 05f0 1846     		mov	r0, r3
 2815 05f2 FFF7FEFF 		bl	memcpy
 918:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 ret = ISP_SVC_ISP_SetColorConv(hIsp, &ColorConvConfig);
 2816              		.loc 1 918 23
 2817 05f6 07F18003 		add	r3, r7, #128
 2818 05fa 1946     		mov	r1, r3
 2819 05fc 7868     		ldr	r0, [r7, #4]
 2820 05fe FFF7FEFF 		bl	ISP_SVC_ISP_SetColorConv
 2821 0602 0346     		mov	r3, r0
 2822 0604 87F8CF30 		strb	r3, [r7, #207]
 919:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 920:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 /* Apply gain */
 921:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 if (ret == ISP_OK)
 2823              		.loc 1 921 20
 2824 0608 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2825 060c 002B     		cmp	r3, #0
 2826 060e 4ED1     		bne	.L126
 922:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 {
 923:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   ISPGainConfig.enable = 1;
 2827              		.loc 1 923 40
 2828 0610 0123     		movs	r3, #1
 2829 0612 87F87030 		strb	r3, [r7, #112]
 924:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   ISPGainConfig.ispGainR = IQParamConfig->AWBAlgo.ispGainR[profId];
 2830              		.loc 1 924 75
 2831 0616 D7F8B020 		ldr	r2, [r7, #176]
 2832 061a D7F8C030 		ldr	r3, [r7, #192]
 2833 061e 4A33     		adds	r3, r3, #74
 2834 0620 9B00     		lsls	r3, r3, #2
 2835 0622 1344     		add	r3, r3, r2
 2836 0624 5B68     		ldr	r3, [r3, #4]
 2837              		.loc 1 924 42
 2838 0626 7B67     		str	r3, [r7, #116]
 925:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   ISPGainConfig.ispGainG = IQParamConfig->AWBAlgo.ispGainG[profId];
 2839              		.loc 1 925 75
 2840 0628 D7F8B020 		ldr	r2, [r7, #176]
 2841 062c D7F8C030 		ldr	r3, [r7, #192]
 2842 0630 4E33     		adds	r3, r3, #78
 2843 0632 9B00     		lsls	r3, r3, #2
 2844 0634 1344     		add	r3, r3, r2
 2845 0636 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccZ1aFVH.s 			page 67


 2846              		.loc 1 925 42
 2847 0638 BB67     		str	r3, [r7, #120]
 926:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   ISPGainConfig.ispGainB = IQParamConfig->AWBAlgo.ispGainB[profId];
 2848              		.loc 1 926 75
 2849 063a D7F8B020 		ldr	r2, [r7, #176]
 2850 063e D7F8C030 		ldr	r3, [r7, #192]
 2851 0642 5433     		adds	r3, r3, #84
 2852 0644 9B00     		lsls	r3, r3, #2
 2853 0646 1344     		add	r3, r3, r2
 2854 0648 5B68     		ldr	r3, [r3, #4]
 2855              		.loc 1 926 42
 2856 064a FB67     		str	r3, [r7, #124]
 927:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   ret = ISP_SVC_ISP_SetGain(hIsp, &ISPGainConfig);
 2857              		.loc 1 927 25
 2858 064c 07F17003 		add	r3, r7, #112
 2859 0650 1946     		mov	r1, r3
 2860 0652 7868     		ldr	r0, [r7, #4]
 2861 0654 FFF7FEFF 		bl	ISP_SVC_ISP_SetGain
 2862 0658 0346     		mov	r3, r0
 2863 065a 87F8CF30 		strb	r3, [r7, #207]
 928:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   if (ret == ISP_OK)
 2864              		.loc 1 928 22
 2865 065e 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2866 0662 002B     		cmp	r3, #0
 2867 0664 23D1     		bne	.L126
 929:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   {
 930:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                     currentColorTemp = (uint32_t) pIspAWBestimator->out_temp ;
 2868              		.loc 1 930 67
 2869 0666 0B4B     		ldr	r3, .L145+16
 2870 0668 1B68     		ldr	r3, [r3]
 2871 066a 93ED127B 		vldr.64	d7, [r3, #72]
 2872              		.loc 1 930 40
 2873 066e FCEEC77B 		vcvt.u32.f64	s15, d7
 2874 0672 17EE902A 		vmov	r2, s15	@ int
 2875              		.loc 1 930 38
 2876 0676 084B     		ldr	r3, .L145+20
 2877 0678 1A60     		str	r2, [r3]
 931:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                     current_awb_profId = profId;
 2878              		.loc 1 931 40
 2879 067a 0A4A     		ldr	r2, .L145+32
 2880 067c D7F8C030 		ldr	r3, [r7, #192]
 2881 0680 1360     		str	r3, [r2]
 2882 0682 14E0     		b	.L126
 2883              	.L146:
 2884              		.align	2
 2885              	.L145:
 2886 0684 00000000 		.word	stats.3
 2887 0688 00000000 		.word	statsHistory.2
 2888 068c 00000000 		.word	skip_stat_check_count.6
 2889 0690 00000000 		.word	reconfigureRequest.7
 2890 0694 00000000 		.word	pIspAWBestimator
 2891 0698 00000000 		.word	currentColorTemp.1
 2892 069c 00000000 		.word	colorTempHistory.0
 2893 06a0 00000000 		.word	Meta
 2894 06a4 00000000 		.word	current_awb_profId
 2895              	.L127:
 932:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                   }
ARM GAS  /tmp/ccZ1aFVH.s 			page 68


 933:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                 }
 934:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****               }
 935:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             }
 936:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           }
 937:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
 938:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         else
 939:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
 940:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           ret = ISP_ERR_ALGO;
 2896              		.loc 1 940 15
 2897 06a8 BE23     		movs	r3, #190
 2898 06aa 87F8CF30 		strb	r3, [r7, #207]
 2899              	.L126:
 941:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
 942:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
 943:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 944:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Reset reconfigureRequest */
 945:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     reconfigureRequest = false;
 2900              		.loc 1 945 24
 2901 06ae 2A4B     		ldr	r3, .L147
 2902 06b0 0022     		movs	r2, #0
 2903 06b2 1A70     		strb	r2, [r3]
 946:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 947:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Decrease counter to limit the number of estimations before reaching convergence */
 948:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (skip_stat_check_count > 0) skip_stat_check_count--;
 2904              		.loc 1 948 31
 2905 06b4 294B     		ldr	r3, .L147+4
 2906 06b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2907              		.loc 1 948 8
 2908 06b8 002B     		cmp	r3, #0
 2909 06ba 05D0     		beq	.L136
 2910              		.loc 1 948 57 discriminator 1
 2911 06bc 274B     		ldr	r3, .L147+4
 2912 06be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2913 06c0 013B     		subs	r3, r3, #1
 2914 06c2 DAB2     		uxtb	r2, r3
 2915 06c4 254B     		ldr	r3, .L147+4
 2916 06c6 1A70     		strb	r2, [r3]
 2917              	.L136:
 949:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 950:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Store history to be able to detect variations*/
 951:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[1][0] = statsHistory[0][0];
 2918              		.loc 1 951 41
 2919 06c8 254B     		ldr	r3, .L147+8
 2920 06ca 1B68     		ldr	r3, [r3]
 2921              		.loc 1 951 24
 2922 06cc 244A     		ldr	r2, .L147+8
 2923 06ce D360     		str	r3, [r2, #12]
 952:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[1][1] = statsHistory[0][1];
 2924              		.loc 1 952 41
 2925 06d0 234B     		ldr	r3, .L147+8
 2926 06d2 5B68     		ldr	r3, [r3, #4]
 2927              		.loc 1 952 24
 2928 06d4 224A     		ldr	r2, .L147+8
 2929 06d6 1361     		str	r3, [r2, #16]
 953:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[1][2] = statsHistory[0][2];
 2930              		.loc 1 953 41
 2931 06d8 214B     		ldr	r3, .L147+8
ARM GAS  /tmp/ccZ1aFVH.s 			page 69


 2932 06da 9B68     		ldr	r3, [r3, #8]
 2933              		.loc 1 953 24
 2934 06dc 204A     		ldr	r2, .L147+8
 2935 06de 5361     		str	r3, [r2, #20]
 954:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[0][0] = stats.up.averageR;
 2936              		.loc 1 954 34
 2937 06e0 204B     		ldr	r3, .L147+12
 2938 06e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2939 06e4 1A46     		mov	r2, r3
 2940              		.loc 1 954 24
 2941 06e6 1E4B     		ldr	r3, .L147+8
 2942 06e8 1A60     		str	r2, [r3]
 955:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[0][1] = stats.up.averageG;
 2943              		.loc 1 955 34
 2944 06ea 1E4B     		ldr	r3, .L147+12
 2945 06ec 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2946 06ee 1A46     		mov	r2, r3
 2947              		.loc 1 955 24
 2948 06f0 1B4B     		ldr	r3, .L147+8
 2949 06f2 5A60     		str	r2, [r3, #4]
 956:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     statsHistory[0][2] = stats.up.averageB;
 2950              		.loc 1 956 34
 2951 06f4 1B4B     		ldr	r3, .L147+12
 2952 06f6 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 2953 06f8 1A46     		mov	r2, r3
 2954              		.loc 1 956 24
 2955 06fa 194B     		ldr	r3, .L147+8
 2956 06fc 9A60     		str	r2, [r3, #8]
 957:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     colorTempHistory[1] = colorTempHistory[0];
 2957              		.loc 1 957 43
 2958 06fe 1A4B     		ldr	r3, .L147+16
 2959 0700 1B68     		ldr	r3, [r3]
 2960              		.loc 1 957 25
 2961 0702 194A     		ldr	r2, .L147+16
 2962 0704 5360     		str	r3, [r2, #4]
 958:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     colorTempHistory[0] = currentColorTemp;
 2963              		.loc 1 958 25
 2964 0706 194B     		ldr	r3, .L147+20
 2965 0708 1B68     		ldr	r3, [r3]
 2966 070a 174A     		ldr	r2, .L147+16
 2967 070c 1360     		str	r3, [r2]
 959:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 960:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Ask for stats */
 961:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret_stat = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_AWB_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOWN,
 2968              		.loc 1 961 16
 2969 070e 0523     		movs	r3, #5
 2970 0710 0293     		str	r3, [sp, #8]
 2971 0712 0123     		movs	r3, #1
 2972 0714 0193     		str	r3, [sp, #4]
 2973 0716 0223     		movs	r3, #2
 2974 0718 0093     		str	r3, [sp]
 2975 071a 124B     		ldr	r3, .L147+12
 2976 071c 3A68     		ldr	r2, [r7]
 2977 071e 1449     		ldr	r1, .L147+24
 2978 0720 7868     		ldr	r0, [r7, #4]
 2979 0722 FFF7FEFF 		bl	ISP_SVC_Stats_GetNext
 2980 0726 0346     		mov	r3, r0
ARM GAS  /tmp/ccZ1aFVH.s 			page 70


 2981 0728 87F8AE30 		strb	r3, [r7, #174]
 962:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****                                      ISP_STAT_TYPE_AVG, ALGO_ISP_LATENCY + ALGO_AWB_ADDITIONAL_LATE
 963:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = (ret != ISP_OK) ? ret : ret_stat;
 2982              		.loc 1 963 33
 2983 072c 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2984 0730 002B     		cmp	r3, #0
 2985 0732 02D0     		beq	.L137
 2986              		.loc 1 963 33 is_stmt 0 discriminator 1
 2987 0734 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 2988 0738 01E0     		b	.L138
 2989              	.L137:
 2990              		.loc 1 963 33 discriminator 2
 2991 073a 97F8AE30 		ldrb	r3, [r7, #174]	@ zero_extendqisi2
 2992              	.L138:
 2993              		.loc 1 963 9 is_stmt 1 discriminator 4
 2994 073e 87F8CF30 		strb	r3, [r7, #207]
 964:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 965:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
 966:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
 2995              		.loc 1 966 17
 2996 0742 D7F8B430 		ldr	r3, [r7, #180]
 2997 0746 0222     		movs	r2, #2
 2998 0748 5A70     		strb	r2, [r3, #1]
 967:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
 2999              		.loc 1 967 5
 3000 074a 00BF     		nop
 3001              	.L100:
 968:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
 969:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 970:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ret;
 3002              		.loc 1 970 10
 3003 074c 97F8CF30 		ldrb	r3, [r7, #207]	@ zero_extendqisi2
 3004              	.L139:
 971:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 3005              		.loc 1 971 1
 3006 0750 1846     		mov	r0, r3
 3007 0752 D037     		adds	r7, r7, #208
 3008              		.cfi_def_cfa_offset 8
 3009 0754 BD46     		mov	sp, r7
 3010              		.cfi_def_cfa_register 13
 3011              		@ sp needed
 3012 0756 80BD     		pop	{r7, pc}
 3013              	.L148:
 3014              		.align	2
 3015              	.L147:
 3016 0758 00000000 		.word	reconfigureRequest.7
 3017 075c 00000000 		.word	skip_stat_check_count.6
 3018 0760 00000000 		.word	statsHistory.2
 3019 0764 00000000 		.word	stats.3
 3020 0768 00000000 		.word	colorTempHistory.0
 3021 076c 00000000 		.word	currentColorTemp.1
 3022 0770 00000000 		.word	ISP_Algo_AWB_StatCb
 3023              		.cfi_endproc
 3024              	.LFE852:
 3026              		.section	.text.ISP_Algo_Init,"ax",%progbits
 3027              		.align	1
 3028              		.global	ISP_Algo_Init
ARM GAS  /tmp/ccZ1aFVH.s 			page 71


 3029              		.syntax unified
 3030              		.thumb
 3031              		.thumb_func
 3033              	ISP_Algo_Init:
 3034              	.LFB853:
 972:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AWB_ALGO_SUPPORT */
 973:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 974:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_TUNING_TOOL_SUPPORT
 975:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 976:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_SensorDelay_Init
 977:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Initialize the SensorDelay algorithm
 978:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 979:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 980:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 981:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 982:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_Init(void *hIsp, void *pAlgo)
 983:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 984:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
 985:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 986:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ((ISP_AlgoTypeDef *)pAlgo)->state = ISP_ALGO_STATE_INIT;
 987:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 988:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 989:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 990:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
 991:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
 992:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_SensorDelay_DeInit
 993:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Deinitialize the SensorDelay algorithm
 994:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
 995:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
 996:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
 997:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
 998:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_DeInit(void *hIsp, void *pAlgo)
 999:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
1000:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   (void)hIsp; /* unused */
1001:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1002:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ((ISP_AlgoTypeDef *)pAlgo)->state = ISP_ALGO_STATE_INIT;
1003:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1004:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
1005:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
1006:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1007:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
1008:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_SensorDelay_StatCb
1009:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Callback informing that statistics are available
1010:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle.
1011:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
1012:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
1013:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_StatCb(ISP_AlgoTypeDef *pAlgo)
1014:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
1015:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   /* Update State */
1016:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   pAlgo->state = ISP_ALGO_STATE_STAT_READY;
1017:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1018:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
1019:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
1020:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1021:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
1022:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_SensorDelay_Process
1023:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Process the SensorDelay algorithm. Change the sensor gain and exposure and
ARM GAS  /tmp/ccZ1aFVH.s 			page 72


1024:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         measure the number of frames it takes to have the frame updated.
1025:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp:  ISP device handle. To cast in (ISP_HandleTypeDef *).
1026:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  pAlgo: ISP algorithm handle. To cast in (ISP_AlgoTypeDef *).
1027:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
1028:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
1029:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_SensorDelay_Process(void *hIsp, void *pAlgo)
1030:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
1031:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo = (ISP_AlgoTypeDef *)pAlgo;
1032:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_SensorInfoTypeDef *pSensorInfo;
1033:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_IQParamTypeDef *IQParamConfig;
1034:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret = ISP_OK;
1035:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint8_t sensorDelay;
1036:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   int32_t avgL, i;
1037:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static int32_t refL, delay, delays[ALGO_DELAY_NB_CONFIG - 1], configId;
1038:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SensorExposureTypeDef configExposure[ALGO_DELAY_NB_CONFIG];
1039:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SensorGainTypeDef configGain[ALGO_DELAY_NB_CONFIG];
1040:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SensorExposureTypeDef prevExposureConfig;
1041:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SensorGainTypeDef prevGainConfig;
1042:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static uint8_t prevAECStatus, prevAWBStatus;
1043:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   static ISP_SVC_StatStateTypeDef stats;
1044:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1045:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   if (ISP_SVC_Misc_SensorDelayMeasureIsRunning() == false)
1046:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
1047:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     return ISP_OK;
1048:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
1049:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1050:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   IQParamConfig = ISP_SVC_IQParam_Get(hIsp);
1051:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1052:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   switch(algo->state)
1053:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
1054:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_INIT:
1055:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Get current AEC and AWB algo status and sensor configuration */
1056:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     prevAECStatus = IQParamConfig->AECAlgo.enable;
1057:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     prevAWBStatus = IQParamConfig->AWBAlgo.enable;
1058:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_GetGain(hIsp, &prevGainConfig);
1059:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
1060:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1061:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
1062:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1063:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_GetExposure(hIsp, &prevExposureConfig);
1064:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
1065:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1066:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
1067:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1068:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1069:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Disable AEC and AWB algo to avoid interferences */
1070:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     IQParamConfig->AECAlgo.enable = false;
1071:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     IQParamConfig->AWBAlgo.enable = false;
1072:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1073:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Initialize the sensor test configurations */
1074:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     pSensorInfo = &((ISP_HandleTypeDef*) hIsp)->sensorInfo;
1075:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Config  0: Exposure =   0%  -  Gain =  0%
1076:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****      *    .................. +20% ...........
1077:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****      * Config  5: Exposure = 100%  -  Gain =  0%
1078:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****      *    ................................. +10%
1079:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****      * Config 11: Exposure = 100%  -  Gain = 60%
1080:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****      */
ARM GAS  /tmp/ccZ1aFVH.s 			page 73


1081:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     for (i = 0; i < 6; i++)
1082:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1083:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       configExposure[i].exposure = i ? (pSensorInfo->exposure_max * 20 * i) / 100 : pSensorInfo->ex
1084:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       configGain[i].gain = pSensorInfo->gain_min;
1085:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       configExposure[i + 6].exposure = pSensorInfo->exposure_max;
1086:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       configGain[i + 6].gain = (pSensorInfo->gain_max * 10 * (i + 1)) / 100;
1087:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1088:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1089:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Apply first test configuration */
1090:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     configId = 0;
1091:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_SetGain(hIsp, &configGain[configId]);
1092:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
1093:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1094:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
1095:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1096:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Sensor_SetExposure(hIsp, &configExposure[configId]);
1097:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
1098:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1099:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
1100:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1101:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1102:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Ask for stats lately (just to define a test starting point) */
1103:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     delay = 0;
1104:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     refL = 0;
1105:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     memset(delays, 0, sizeof(delays));
1106:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_SensorDelay_StatCb, pAlgo, &stats, ISP_STAT_LOC_DOW
1107:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (ret != ISP_OK)
1108:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1109:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       return ret;
1110:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1111:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1112:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Wait for stats to be ready */
1113:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo->state = ISP_ALGO_STATE_WAITING_STAT;
1114:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
1115:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1116:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_NEED_STAT:
1117:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
1118:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1119:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_WAITING_STAT:
1120:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* Do nothing */
1121:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
1122:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1123:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   case ISP_ALGO_STATE_STAT_READY:
1124:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     avgL = (int32_t)stats.down.averageL;
1125:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (configId > 0)
1126:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1127:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* New stat available, check if Luminance has changed */
1128:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       delay++;
1129:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1130:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (abs(avgL- refL) <= ALGO_DELAY_L_MARGIN && delay != ALGO_DELAY_MAX)
1131:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1132:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         /* No change, wait for next frame */
1133:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_SensorDelay_StatCb, pAlgo, &stats, ISP_STAT_LOC
1134:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         algo->state = ISP_ALGO_STATE_WAITING_STAT;
1135:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
1136:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1137:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
ARM GAS  /tmp/ccZ1aFVH.s 			page 74


1138:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Luminance was updated since we applied a new sensor configuration : store the result for t
1139:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****        * Reaching ALGO_DELAY_MAX happens when we have a totally black or white frame. The measure s
1140:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       delays[configId - 1] = delay;
1141:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1142:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1143:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     /* New delay measure available */
1144:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if (++configId != ALGO_DELAY_NB_CONFIG)
1145:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1146:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Apply new sensor test configuration  */
1147:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Sensor_SetGain(hIsp, &configGain[configId]);
1148:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
1149:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1150:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
1151:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1152:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Sensor_SetExposure(hIsp, &configExposure[configId]);
1153:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
1154:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1155:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
1156:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1157:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1158:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Ask for stats at next frame */
1159:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       delay = 0;
1160:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       refL = avgL;
1161:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Stats_GetNext(hIsp, &ISP_Algo_SensorDelay_StatCb, pAlgo, &stats, ISP_STAT_LOC_D
1162:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
1163:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1164:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
1165:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1166:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1167:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Wait for stats to be ready */
1168:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       algo->state = ISP_ALGO_STATE_WAITING_STAT;
1169:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1170:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     else
1171:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1172:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* All the configurations have been tested, finalize the test procedure */
1173:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Find the max valid delay (ALGO_DELAY_MAX being considered as invalid) */
1174:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       sensorDelay = 0;
1175:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       for (i = 0; i < ALGO_DELAY_NB_CONFIG - 1; i++)
1176:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1177:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         if ((delays[i] != ALGO_DELAY_MAX) && (delays[i] > sensorDelay))
1178:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
1179:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           sensorDelay = delays[i];
1180:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
1181:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1182:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1183:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Restore initial AEC, AWB and sensor states */
1184:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       IQParamConfig->AECAlgo.enable = prevAECStatus;
1185:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       IQParamConfig->AWBAlgo.enable = prevAWBStatus;
1186:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Sensor_SetGain(hIsp, &prevGainConfig);
1187:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
1188:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1189:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
1190:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1191:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Sensor_SetExposure(hIsp, &prevExposureConfig);
1192:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
1193:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1194:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
ARM GAS  /tmp/ccZ1aFVH.s 			page 75


1195:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1196:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1197:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Apply the measure (if valid) and send answer to the remote IQTune */
1198:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (sensorDelay)
1199:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1200:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         IQParamConfig->sensorDelay.delay = sensorDelay;
1201:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1202:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = ISP_SVC_Misc_SendSensorDelayMeasure(hIsp, (ISP_SensorDelayTypeDef *)&sensorDelay);
1203:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1204:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       /* Stop delay algo */
1205:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ISP_SVC_Misc_SensorDelayMeasureStop();
1206:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1207:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       algo->state = ISP_ALGO_STATE_INIT;
1208:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1209:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     break;
1210:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
1211:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1212:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ret;
1213:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
1214:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_TUNING_TOOL_SUPPORT */
1215:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1216:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /* Exported functions --------------------------------------------------------*/
1217:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
1218:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_Init
1219:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Register and initialize all the algorithms
1220:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp: ISP device handle
1221:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
1222:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
1223:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_Init(ISP_HandleTypeDef *hIsp)
1224:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 3035              		.loc 1 1224 1
 3036              		.cfi_startproc
 3037              		@ args = 0, pretend = 0, frame = 24
 3038              		@ frame_needed = 1, uses_anonymous_args = 0
 3039 0000 80B5     		push	{r7, lr}
 3040              		.cfi_def_cfa_offset 8
 3041              		.cfi_offset 7, -8
 3042              		.cfi_offset 14, -4
 3043 0002 86B0     		sub	sp, sp, #24
 3044              		.cfi_def_cfa_offset 32
 3045 0004 00AF     		add	r7, sp, #0
 3046              		.cfi_def_cfa_register 7
 3047 0006 7860     		str	r0, [r7, #4]
1225:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo;
1226:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret;
1227:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint8_t i;
1228:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1229:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   hIsp->algorithm = ISP_Algo_List;
 3048              		.loc 1 1229 19
 3049 0008 7B68     		ldr	r3, [r7, #4]
 3050 000a 154A     		ldr	r2, .L154
 3051 000c 9A61     		str	r2, [r3, #24]
1230:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1231:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   for (i = 0; i < sizeof(ISP_Algo_List) / sizeof(*ISP_Algo_List); i++)
 3052              		.loc 1 1231 10
 3053 000e 0023     		movs	r3, #0
 3054 0010 FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/ccZ1aFVH.s 			page 76


 3055              		.loc 1 1231 3
 3056 0012 1CE0     		b	.L150
 3057              	.L153:
1232:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
1233:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo = hIsp->algorithm[i];
 3058              		.loc 1 1233 16
 3059 0014 7B68     		ldr	r3, [r7, #4]
 3060 0016 9A69     		ldr	r2, [r3, #24]
 3061              		.loc 1 1233 27
 3062 0018 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3063 001a 9B00     		lsls	r3, r3, #2
 3064 001c 1344     		add	r3, r3, r2
 3065              		.loc 1 1233 10
 3066 001e 1B68     		ldr	r3, [r3]
 3067 0020 3B61     		str	r3, [r7, #16]
1234:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((algo != NULL) && (algo->Init != NULL))
 3068              		.loc 1 1234 8
 3069 0022 3B69     		ldr	r3, [r7, #16]
 3070 0024 002B     		cmp	r3, #0
 3071 0026 0FD0     		beq	.L151
 3072              		.loc 1 1234 32 discriminator 1
 3073 0028 3B69     		ldr	r3, [r7, #16]
 3074 002a 5B68     		ldr	r3, [r3, #4]
 3075              		.loc 1 1234 24 discriminator 1
 3076 002c 002B     		cmp	r3, #0
 3077 002e 0BD0     		beq	.L151
1235:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1236:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = algo->Init((void*)hIsp, (void*)algo);
 3078              		.loc 1 1236 17
 3079 0030 3B69     		ldr	r3, [r7, #16]
 3080 0032 5B68     		ldr	r3, [r3, #4]
 3081              		.loc 1 1236 13
 3082 0034 3969     		ldr	r1, [r7, #16]
 3083 0036 7868     		ldr	r0, [r7, #4]
 3084 0038 9847     		blx	r3
 3085              	.LVL0:
 3086 003a 0346     		mov	r3, r0
 3087 003c FB73     		strb	r3, [r7, #15]
1237:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
 3088              		.loc 1 1237 10
 3089 003e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3090 0040 002B     		cmp	r3, #0
 3091 0042 01D0     		beq	.L151
1238:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1239:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
 3092              		.loc 1 1239 16
 3093 0044 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3094 0046 06E0     		b	.L152
 3095              	.L151:
1231:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 3096              		.loc 1 1231 68 discriminator 2
 3097 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3098 004a 0133     		adds	r3, r3, #1
 3099 004c FB75     		strb	r3, [r7, #23]
 3100              	.L150:
1231:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 3101              		.loc 1 1231 17 discriminator 1
ARM GAS  /tmp/ccZ1aFVH.s 			page 77


 3102 004e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3103 0050 022B     		cmp	r3, #2
 3104 0052 DFD9     		bls	.L153
1240:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1241:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1242:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
1243:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1244:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 3105              		.loc 1 1244 10
 3106 0054 0023     		movs	r3, #0
 3107              	.L152:
1245:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 3108              		.loc 1 1245 1
 3109 0056 1846     		mov	r0, r3
 3110 0058 1837     		adds	r7, r7, #24
 3111              		.cfi_def_cfa_offset 8
 3112 005a BD46     		mov	sp, r7
 3113              		.cfi_def_cfa_register 13
 3114              		@ sp needed
 3115 005c 80BD     		pop	{r7, pc}
 3116              	.L155:
 3117 005e 00BF     		.align	2
 3118              	.L154:
 3119 0060 00000000 		.word	ISP_Algo_List
 3120              		.cfi_endproc
 3121              	.LFE853:
 3123              		.section	.text.ISP_Algo_DeInit,"ax",%progbits
 3124              		.align	1
 3125              		.global	ISP_Algo_DeInit
 3126              		.syntax unified
 3127              		.thumb
 3128              		.thumb_func
 3130              	ISP_Algo_DeInit:
 3131              	.LFB854:
1246:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1247:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
1248:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_DeInit
1249:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Deinitialize all the algorithms
1250:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp: ISP device handle
1251:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
1252:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
1253:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_DeInit(ISP_HandleTypeDef *hIsp)
1254:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 3132              		.loc 1 1254 1
 3133              		.cfi_startproc
 3134              		@ args = 0, pretend = 0, frame = 24
 3135              		@ frame_needed = 1, uses_anonymous_args = 0
 3136 0000 80B5     		push	{r7, lr}
 3137              		.cfi_def_cfa_offset 8
 3138              		.cfi_offset 7, -8
 3139              		.cfi_offset 14, -4
 3140 0002 86B0     		sub	sp, sp, #24
 3141              		.cfi_def_cfa_offset 32
 3142 0004 00AF     		add	r7, sp, #0
 3143              		.cfi_def_cfa_register 7
 3144 0006 7860     		str	r0, [r7, #4]
1255:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo;
ARM GAS  /tmp/ccZ1aFVH.s 			page 78


1256:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret;
1257:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint8_t i;
1258:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1259:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   for (i = 0; i < sizeof(ISP_Algo_List) / sizeof(*ISP_Algo_List); i++)
 3145              		.loc 1 1259 10
 3146 0008 0023     		movs	r3, #0
 3147 000a FB75     		strb	r3, [r7, #23]
 3148              		.loc 1 1259 3
 3149 000c 1CE0     		b	.L157
 3150              	.L160:
1260:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
1261:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo = hIsp->algorithm[i];
 3151              		.loc 1 1261 16
 3152 000e 7B68     		ldr	r3, [r7, #4]
 3153 0010 9A69     		ldr	r2, [r3, #24]
 3154              		.loc 1 1261 27
 3155 0012 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3156 0014 9B00     		lsls	r3, r3, #2
 3157 0016 1344     		add	r3, r3, r2
 3158              		.loc 1 1261 10
 3159 0018 1B68     		ldr	r3, [r3]
 3160 001a 3B61     		str	r3, [r7, #16]
1262:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((algo != NULL) && (algo->DeInit != NULL))
 3161              		.loc 1 1262 8
 3162 001c 3B69     		ldr	r3, [r7, #16]
 3163 001e 002B     		cmp	r3, #0
 3164 0020 0FD0     		beq	.L158
 3165              		.loc 1 1262 32 discriminator 1
 3166 0022 3B69     		ldr	r3, [r7, #16]
 3167 0024 9B68     		ldr	r3, [r3, #8]
 3168              		.loc 1 1262 24 discriminator 1
 3169 0026 002B     		cmp	r3, #0
 3170 0028 0BD0     		beq	.L158
1263:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1264:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = algo->DeInit((void*)hIsp, (void*)algo);
 3171              		.loc 1 1264 17
 3172 002a 3B69     		ldr	r3, [r7, #16]
 3173 002c 9B68     		ldr	r3, [r3, #8]
 3174              		.loc 1 1264 13
 3175 002e 3969     		ldr	r1, [r7, #16]
 3176 0030 7868     		ldr	r0, [r7, #4]
 3177 0032 9847     		blx	r3
 3178              	.LVL1:
 3179 0034 0346     		mov	r3, r0
 3180 0036 FB73     		strb	r3, [r7, #15]
1265:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
 3181              		.loc 1 1265 10
 3182 0038 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3183 003a 002B     		cmp	r3, #0
 3184 003c 01D0     		beq	.L158
1266:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
1267:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
 3185              		.loc 1 1267 16
 3186 003e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3187 0040 06E0     		b	.L159
 3188              	.L158:
1259:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
ARM GAS  /tmp/ccZ1aFVH.s 			page 79


 3189              		.loc 1 1259 68 discriminator 2
 3190 0042 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3191 0044 0133     		adds	r3, r3, #1
 3192 0046 FB75     		strb	r3, [r7, #23]
 3193              	.L157:
1259:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 3194              		.loc 1 1259 17 discriminator 1
 3195 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3196 004a 022B     		cmp	r3, #2
 3197 004c DFD9     		bls	.L160
1268:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1269:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1270:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
1271:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1272:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 3198              		.loc 1 1272 10
 3199 004e 0023     		movs	r3, #0
 3200              	.L159:
1273:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 3201              		.loc 1 1273 1
 3202 0050 1846     		mov	r0, r3
 3203 0052 1837     		adds	r7, r7, #24
 3204              		.cfi_def_cfa_offset 8
 3205 0054 BD46     		mov	sp, r7
 3206              		.cfi_def_cfa_register 13
 3207              		@ sp needed
 3208 0056 80BD     		pop	{r7, pc}
 3209              		.cfi_endproc
 3210              	.LFE854:
 3212              		.section	.text.ISP_Algo_Process,"ax",%progbits
 3213              		.align	1
 3214              		.global	ISP_Algo_Process
 3215              		.syntax unified
 3216              		.thumb
 3217              		.thumb_func
 3219              	ISP_Algo_Process:
 3220              	.LFB855:
1274:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1275:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** /**
1276:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @brief  ISP_Algo_Process
1277:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   *         Process all the algorithms
1278:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @param  hIsp: ISP device handle
1279:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   * @retval operation result
1280:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   */
1281:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** ISP_StatusTypeDef ISP_Algo_Process(ISP_HandleTypeDef *hIsp)
1282:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** {
 3221              		.loc 1 1282 1
 3222              		.cfi_startproc
 3223              		@ args = 0, pretend = 0, frame = 24
 3224              		@ frame_needed = 1, uses_anonymous_args = 0
 3225 0000 80B5     		push	{r7, lr}
 3226              		.cfi_def_cfa_offset 8
 3227              		.cfi_offset 7, -8
 3228              		.cfi_offset 14, -4
 3229 0002 86B0     		sub	sp, sp, #24
 3230              		.cfi_def_cfa_offset 32
 3231 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccZ1aFVH.s 			page 80


 3232              		.cfi_def_cfa_register 7
 3233 0006 7860     		str	r0, [r7, #4]
1283:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_AlgoTypeDef *algo;
1284:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   ISP_StatusTypeDef ret;
1285:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   uint8_t i;
1286:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
1287:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   for (i = 0; i < sizeof(ISP_Algo_List) / sizeof(*ISP_Algo_List); i++)
 3234              		.loc 1 1287 10
 3235 0008 0023     		movs	r3, #0
 3236 000a FB75     		strb	r3, [r7, #23]
 3237              		.loc 1 1287 3
 3238 000c 1CE0     		b	.L162
 3239              	.L165:
1288:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
1289:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     algo = hIsp->algorithm[i];
 3240              		.loc 1 1289 16
 3241 000e 7B68     		ldr	r3, [r7, #4]
 3242 0010 9A69     		ldr	r2, [r3, #24]
 3243              		.loc 1 1289 27
 3244 0012 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3245 0014 9B00     		lsls	r3, r3, #2
 3246 0016 1344     		add	r3, r3, r2
 3247              		.loc 1 1289 10
 3248 0018 1B68     		ldr	r3, [r3]
 3249 001a 3B61     		str	r3, [r7, #16]
1290:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     if ((algo != NULL) && (algo->Process != NULL))
 3250              		.loc 1 1290 8
 3251 001c 3B69     		ldr	r3, [r7, #16]
 3252 001e 002B     		cmp	r3, #0
 3253 0020 0FD0     		beq	.L163
 3254              		.loc 1 1290 32 discriminator 1
 3255 0022 3B69     		ldr	r3, [r7, #16]
 3256 0024 DB68     		ldr	r3, [r3, #12]
 3257              		.loc 1 1290 24 discriminator 1
 3258 0026 002B     		cmp	r3, #0
 3259 0028 0BD0     		beq	.L163
1291:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     {
1292:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_PERF_DBG_LOGS
1293:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       uint32_t tickstart = HAL_GetTick();
1294:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
1295:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       ret = algo->Process((void*)hIsp, (void*)algo);
 3260              		.loc 1 1295 17
 3261 002a 3B69     		ldr	r3, [r7, #16]
 3262 002c DB68     		ldr	r3, [r3, #12]
 3263              		.loc 1 1295 13
 3264 002e 3969     		ldr	r1, [r7, #16]
 3265 0030 7868     		ldr	r0, [r7, #4]
 3266 0032 9847     		blx	r3
 3267              	.LVL2:
 3268 0034 0346     		mov	r3, r0
 3269 0036 FB73     		strb	r3, [r7, #15]
1296:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (ret != ISP_OK)
 3270              		.loc 1 1296 10
 3271 0038 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3272 003a 002B     		cmp	r3, #0
 3273 003c 01D0     		beq	.L163
1297:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       {
ARM GAS  /tmp/ccZ1aFVH.s 			page 81


1298:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         return ret;
 3274              		.loc 1 1298 16
 3275 003e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3276 0040 06E0     		b	.L164
 3277              	.L163:
1287:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 3278              		.loc 1 1287 68 discriminator 2
 3279 0042 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3280 0044 0133     		adds	r3, r3, #1
 3281 0046 FB75     		strb	r3, [r7, #23]
 3282              	.L162:
1287:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   {
 3283              		.loc 1 1287 17 discriminator 1
 3284 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3285 004a 022B     		cmp	r3, #2
 3286 004c DFD9     		bls	.L165
1299:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1300:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ALGO_PERF_DBG_LOGS
1301:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       algo->perf_meas[iter] = HAL_GetTick() - tickstart;
1302:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       algo->iter++;
1303:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       if (algo->iter == NB_PERF_MEASURES) {
1304:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         uint32_t sum = 0;
1305:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         for(uint32_t j = 0; j < NB_PERF_MEASURES; j++)
1306:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
1307:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           sum += algo->perf_meas[j];
1308:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
1309:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         switch (algo->id)
1310:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
1311:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           case ISP_ALGO_ID_BADPIXEL:
1312:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("BadPixel algo      ");
1313:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             break;
1314:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AEC_ALGO_SUPPORT
1315:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           case ISP_ALGO_ID_AEC:
1316:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("AEC algo           ");
1317:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             break;
1318:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AEC_ALGO_SUPPORT */
1319:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #ifdef ISP_MW_SW_AWB_ALGO_SUPPORT
1320:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           case ISP_ALGO_ID_AWB:
1321:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             printf("AWB algo           ");
1322:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****             break;
1323:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif /* ISP_MW_SW_AWB_ALGO_SUPPORT */
1324:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
1325:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         uint32_t meas = sum / NB_PERF_MEASURES;
1326:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         if (meas == 0)
1327:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
1328:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           printf(" <1 ms\r\n");
1329:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
1330:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         else
1331:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         {
1332:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****           printf(" %ld ms\r\n", meas);
1333:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         }
1334:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****         algo->iter = 0;
1335:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****       }
1336:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** #endif
1337:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****     }
1338:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   }
1339:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** 
ARM GAS  /tmp/ccZ1aFVH.s 			page 82


1340:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c ****   return ISP_OK;
 3287              		.loc 1 1340 10
 3288 004e 0023     		movs	r3, #0
 3289              	.L164:
1341:Lib/Camera_Middleware/ISP_Library/isp/Src/isp_algo.c **** }
 3290              		.loc 1 1341 1
 3291 0050 1846     		mov	r0, r3
 3292 0052 1837     		adds	r7, r7, #24
 3293              		.cfi_def_cfa_offset 8
 3294 0054 BD46     		mov	sp, r7
 3295              		.cfi_def_cfa_register 13
 3296              		@ sp needed
 3297 0056 80BD     		pop	{r7, pc}
 3298              		.cfi_endproc
 3299              	.LFE855:
 3301              		.section	.bss.LastFrameId.12,"aw",%nobits
 3302              		.align	2
 3305              	LastFrameId.12:
 3306 0000 00000000 		.space	4
 3307              		.section	.bss.Step.11,"aw",%nobits
 3310              	Step.11:
 3311 0000 00       		.space	1
 3312              		.section	.bss.BadPixelCount.10,"aw",%nobits
 3313              		.align	2
 3316              	BadPixelCount.10:
 3317 0000 00000000 		.space	4
 3318              		.section	.bss.stats.9,"aw",%nobits
 3319              		.align	2
 3322              	stats.9:
 3323 0000 00000000 		.space	120
 3323      00000000 
 3323      00000000 
 3323      00000000 
 3323      00000000 
 3324              		.section	.bss.enableCurrent.8,"aw",%nobits
 3327              	enableCurrent.8:
 3328 0000 00       		.space	1
 3329              		.section	.bss.reconfigureRequest.7,"aw",%nobits
 3332              	reconfigureRequest.7:
 3333 0000 00       		.space	1
 3334              		.section	.data.skip_stat_check_count.6,"aw"
 3337              	skip_stat_check_count.6:
 3338 0000 0A       		.byte	10
 3339              		.section	.bss.colorTempThresholds.5,"aw",%nobits
 3340              		.align	2
 3343              	colorTempThresholds.5:
 3344 0000 00000000 		.space	16
 3344      00000000 
 3344      00000000 
 3344      00000000 
 3345              		.section	.bss.awbProfiles.4,"aw",%nobits
 3346              		.align	2
 3349              	awbProfiles.4:
 3350 0000 00000000 		.space	340
 3350      00000000 
 3350      00000000 
 3350      00000000 
ARM GAS  /tmp/ccZ1aFVH.s 			page 83


 3350      00000000 
 3351              		.section	.bss.stats.3,"aw",%nobits
 3352              		.align	2
 3355              	stats.3:
 3356 0000 00000000 		.space	120
 3356      00000000 
 3356      00000000 
 3356      00000000 
 3356      00000000 
 3357              		.section	.bss.statsHistory.2,"aw",%nobits
 3358              		.align	2
 3361              	statsHistory.2:
 3362 0000 00000000 		.space	36
 3362      00000000 
 3362      00000000 
 3362      00000000 
 3362      00000000 
 3363              		.section	.bss.currentColorTemp.1,"aw",%nobits
 3364              		.align	2
 3367              	currentColorTemp.1:
 3368 0000 00000000 		.space	4
 3369              		.section	.bss.colorTempHistory.0,"aw",%nobits
 3370              		.align	2
 3373              	colorTempHistory.0:
 3374 0000 00000000 		.space	8
 3374      00000000 
 3375              		.text
 3376              	.Letext0:
 3377              		.file 2 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 3378              		.file 3 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 3379              		.file 4 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 3380              		.file 5 "Lib/Camera_Middleware/ISP_Library/isp/Inc/isp_core.h"
 3381              		.file 6 "Lib/Camera_Middleware/ISP_Library/isp/Inc/isp_services.h"
 3382              		.file 7 "Lib/Camera_Middleware/ISP_Library/evision/Inc/evision-api-utils.h"
 3383              		.file 8 "Lib/Camera_Middleware/ISP_Library/evision/Inc/evision-api-st-ae.h"
 3384              		.file 9 "Lib/Camera_Middleware/ISP_Library/evision/Inc/evision-api-awb.h"
 3385              		.file 10 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-
 3386              		.file 11 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-
 3387              		.file 12 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-
ARM GAS  /tmp/ccZ1aFVH.s 			page 84


DEFINED SYMBOLS
                            *ABS*:00000000 isp_algo.c
     /tmp/ccZ1aFVH.s:30     .data.ISP_Algo_BadPixel:00000000 ISP_Algo_BadPixel
     /tmp/ccZ1aFVH.s:27     .data.ISP_Algo_BadPixel:00000000 $d
     /tmp/ccZ1aFVH.s:103    .text.ISP_Algo_BadPixel_Init:00000000 ISP_Algo_BadPixel_Init
     /tmp/ccZ1aFVH.s:146    .text.ISP_Algo_BadPixel_DeInit:00000000 ISP_Algo_BadPixel_DeInit
     /tmp/ccZ1aFVH.s:185    .text.ISP_Algo_BadPixel_Process:00000000 ISP_Algo_BadPixel_Process
     /tmp/ccZ1aFVH.s:42     .data.ISP_Algo_AEC:00000000 ISP_Algo_AEC
     /tmp/ccZ1aFVH.s:39     .data.ISP_Algo_AEC:00000000 $d
     /tmp/ccZ1aFVH.s:433    .text.ISP_Algo_AEC_Init:00000000 ISP_Algo_AEC_Init
     /tmp/ccZ1aFVH.s:690    .text.ISP_Algo_AEC_DeInit:00000000 ISP_Algo_AEC_DeInit
     /tmp/ccZ1aFVH.s:784    .text.ISP_Algo_AEC_Process:00000000 ISP_Algo_AEC_Process
     /tmp/ccZ1aFVH.s:54     .data.ISP_Algo_AWB:00000000 ISP_Algo_AWB
     /tmp/ccZ1aFVH.s:51     .data.ISP_Algo_AWB:00000000 $d
     /tmp/ccZ1aFVH.s:1872   .text.ISP_Algo_AWB_Init:00000000 ISP_Algo_AWB_Init
     /tmp/ccZ1aFVH.s:1938   .text.ISP_Algo_AWB_DeInit:00000000 ISP_Algo_AWB_DeInit
     /tmp/ccZ1aFVH.s:2039   .text.ISP_Algo_AWB_Process:00000000 ISP_Algo_AWB_Process
     /tmp/ccZ1aFVH.s:66     .data.ISP_Algo_List:00000000 ISP_Algo_List
     /tmp/ccZ1aFVH.s:63     .data.ISP_Algo_List:00000000 $d
     /tmp/ccZ1aFVH.s:71     .bss.pIspAEprocess:00000000 $d
     /tmp/ccZ1aFVH.s:74     .bss.pIspAEprocess:00000000 pIspAEprocess
     /tmp/ccZ1aFVH.s:77     .bss.pIspAWBestimator:00000000 $d
     /tmp/ccZ1aFVH.s:80     .bss.pIspAWBestimator:00000000 pIspAWBestimator
     /tmp/ccZ1aFVH.s:87     .bss.current_awb_profId:00000000 current_awb_profId
     /tmp/ccZ1aFVH.s:84     .bss.current_awb_profId:00000000 $d
     /tmp/ccZ1aFVH.s:94     .bss.Meta:00000000 Meta
     /tmp/ccZ1aFVH.s:91     .bss.Meta:00000000 $d
     /tmp/ccZ1aFVH.s:97     .text.ISP_Algo_BadPixel_Init:00000000 $t
     /tmp/ccZ1aFVH.s:140    .text.ISP_Algo_BadPixel_DeInit:00000000 $t
     /tmp/ccZ1aFVH.s:179    .text.ISP_Algo_BadPixel_Process:00000000 $t
     /tmp/ccZ1aFVH.s:368    .text.ISP_Algo_BadPixel_Process:000000fc $d
     /tmp/ccZ1aFVH.s:3305   .bss.LastFrameId.12:00000000 LastFrameId.12
     /tmp/ccZ1aFVH.s:3310   .bss.Step.11:00000000 Step.11
     /tmp/ccZ1aFVH.s:3316   .bss.BadPixelCount.10:00000000 BadPixelCount.10
     /tmp/ccZ1aFVH.s:376    .rodata:00000000 $d
     /tmp/ccZ1aFVH.s:383    .text.log_cb:00000000 $t
     /tmp/ccZ1aFVH.s:388    .text.log_cb:00000000 log_cb
     /tmp/ccZ1aFVH.s:421    .text.log_cb:00000020 $d
     /tmp/ccZ1aFVH.s:427    .text.ISP_Algo_AEC_Init:00000000 $t
     /tmp/ccZ1aFVH.s:674    .text.ISP_Algo_AEC_Init:00000160 $d
     /tmp/ccZ1aFVH.s:684    .text.ISP_Algo_AEC_DeInit:00000000 $t
     /tmp/ccZ1aFVH.s:731    .text.ISP_Algo_AEC_DeInit:00000028 $d
     /tmp/ccZ1aFVH.s:736    .text.ISP_Algo_AEC_StatCb:00000000 $t
     /tmp/ccZ1aFVH.s:742    .text.ISP_Algo_AEC_StatCb:00000000 ISP_Algo_AEC_StatCb
     /tmp/ccZ1aFVH.s:778    .text.ISP_Algo_AEC_Process:00000000 $t
     /tmp/ccZ1aFVH.s:1042   .text.ISP_Algo_AEC_Process:000001a8 $d
     /tmp/ccZ1aFVH.s:3322   .bss.stats.9:00000000 stats.9
     /tmp/ccZ1aFVH.s:1050   .text.ISP_Algo_ApplyGammaInverse:00000000 $t
     /tmp/ccZ1aFVH.s:1056   .text.ISP_Algo_ApplyGammaInverse:00000000 ISP_Algo_ApplyGammaInverse
     /tmp/ccZ1aFVH.s:1120   .text.ISP_Algo_ApplyGammaInverse:00000070 $d
     /tmp/ccZ1aFVH.s:1130   .text.ISP_Algo_GetUpStat:00000000 $t
     /tmp/ccZ1aFVH.s:1136   .text.ISP_Algo_GetUpStat:00000000 ISP_Algo_GetUpStat
     /tmp/ccZ1aFVH.s:1370   .text.ISP_Algo_GetUpStat:0000019c $d
     /tmp/ccZ1aFVH.s:1375   .text.ISP_Algo_ApplyCConv:00000000 $t
     /tmp/ccZ1aFVH.s:1381   .text.ISP_Algo_ApplyCConv:00000000 ISP_Algo_ApplyCConv
     /tmp/ccZ1aFVH.s:1860   .text.ISP_Algo_ApplyCConv:00000488 $d
     /tmp/ccZ1aFVH.s:1866   .text.ISP_Algo_AWB_Init:00000000 $t
ARM GAS  /tmp/ccZ1aFVH.s 			page 85


     /tmp/ccZ1aFVH.s:1926   .text.ISP_Algo_AWB_Init:00000038 $d
     /tmp/ccZ1aFVH.s:1932   .text.ISP_Algo_AWB_DeInit:00000000 $t
     /tmp/ccZ1aFVH.s:1979   .text.ISP_Algo_AWB_DeInit:00000028 $d
     /tmp/ccZ1aFVH.s:1984   .text.ISP_Algo_AWB_StatCb:00000000 $t
     /tmp/ccZ1aFVH.s:1990   .text.ISP_Algo_AWB_StatCb:00000000 ISP_Algo_AWB_StatCb
     /tmp/ccZ1aFVH.s:2033   .text.ISP_Algo_AWB_Process:00000000 $t
     /tmp/ccZ1aFVH.s:2132   .text.ISP_Algo_AWB_Process:00000094 $d
     /tmp/ccZ1aFVH.s:2136   .text.ISP_Algo_AWB_Process:000000a4 $t
     /tmp/ccZ1aFVH.s:2484   .text.ISP_Algo_AWB_Process:00000370 $d
     /tmp/ccZ1aFVH.s:3327   .bss.enableCurrent.8:00000000 enableCurrent.8
     /tmp/ccZ1aFVH.s:3332   .bss.reconfigureRequest.7:00000000 reconfigureRequest.7
     /tmp/ccZ1aFVH.s:3337   .data.skip_stat_check_count.6:00000000 skip_stat_check_count.6
     /tmp/ccZ1aFVH.s:3343   .bss.colorTempThresholds.5:00000000 colorTempThresholds.5
     /tmp/ccZ1aFVH.s:3349   .bss.awbProfiles.4:00000000 awbProfiles.4
     /tmp/ccZ1aFVH.s:3355   .bss.stats.3:00000000 stats.3
     /tmp/ccZ1aFVH.s:2500   .text.ISP_Algo_AWB_Process:000003a8 $t
     /tmp/ccZ1aFVH.s:2886   .text.ISP_Algo_AWB_Process:00000684 $d
     /tmp/ccZ1aFVH.s:3361   .bss.statsHistory.2:00000000 statsHistory.2
     /tmp/ccZ1aFVH.s:3367   .bss.currentColorTemp.1:00000000 currentColorTemp.1
     /tmp/ccZ1aFVH.s:3373   .bss.colorTempHistory.0:00000000 colorTempHistory.0
     /tmp/ccZ1aFVH.s:2897   .text.ISP_Algo_AWB_Process:000006a8 $t
     /tmp/ccZ1aFVH.s:3016   .text.ISP_Algo_AWB_Process:00000758 $d
     /tmp/ccZ1aFVH.s:3027   .text.ISP_Algo_Init:00000000 $t
     /tmp/ccZ1aFVH.s:3033   .text.ISP_Algo_Init:00000000 ISP_Algo_Init
     /tmp/ccZ1aFVH.s:3119   .text.ISP_Algo_Init:00000060 $d
     /tmp/ccZ1aFVH.s:3124   .text.ISP_Algo_DeInit:00000000 $t
     /tmp/ccZ1aFVH.s:3130   .text.ISP_Algo_DeInit:00000000 ISP_Algo_DeInit
     /tmp/ccZ1aFVH.s:3213   .text.ISP_Algo_Process:00000000 $t
     /tmp/ccZ1aFVH.s:3219   .text.ISP_Algo_Process:00000000 ISP_Algo_Process
     /tmp/ccZ1aFVH.s:3302   .bss.LastFrameId.12:00000000 $d
     /tmp/ccZ1aFVH.s:3311   .bss.Step.11:00000000 $d
     /tmp/ccZ1aFVH.s:3313   .bss.BadPixelCount.10:00000000 $d
     /tmp/ccZ1aFVH.s:3319   .bss.stats.9:00000000 $d
     /tmp/ccZ1aFVH.s:3328   .bss.enableCurrent.8:00000000 $d
     /tmp/ccZ1aFVH.s:3333   .bss.reconfigureRequest.7:00000000 $d
     /tmp/ccZ1aFVH.s:3340   .bss.colorTempThresholds.5:00000000 $d
     /tmp/ccZ1aFVH.s:3346   .bss.awbProfiles.4:00000000 $d
     /tmp/ccZ1aFVH.s:3352   .bss.stats.3:00000000 $d
     /tmp/ccZ1aFVH.s:3358   .bss.statsHistory.2:00000000 $d
     /tmp/ccZ1aFVH.s:3364   .bss.currentColorTemp.1:00000000 $d
     /tmp/ccZ1aFVH.s:3370   .bss.colorTempHistory.0:00000000 $d
                           .group:00000000 wm4.0.2a10773746a5c5ebb5552f50e466f80b
                           .group:00000000 wm4.isp_conf.h.21.bfb1d020517608810095aa56acf25d1e
                           .group:00000000 wm4.stm32n6xx_hal_conf.h.21.004a06df6e15ac197e03f723792da58a
                           .group:00000000 wm4.stddef.h.39.0dc9006b34572d4d9cae4c8b422c4971
                           .group:00000000 wm4.arm_cmse.h.103.a0d15a79c4c9a67da8d5831704d7248e
                           .group:00000000 wm4.stm32n6xx.h.34.80585dd08aa426c932f6311fdb7386da
                           .group:00000000 wm4.stm32n657xx.h.26.acd272cb67318cc1a4791ce2f0720ca6
                           .group:00000000 wm4._newlib_version.h.4.411db44ea2338a62eca2f0777f81481b
                           .group:00000000 wm4.features.h.33.e0c9f337c65cb9f22ed5f23d082bc78b
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.cmsis_version.h.32.0ac195c83bb4537824e6ad1c47474b79
                           .group:00000000 wm4.core_cm55.h.68.832d5cf835639cc0d28219c3d2867330
                           .group:00000000 wm4.cmsis_gcc.h.26.7a5fd1a99dbedde687044a4433ab3e15
ARM GAS  /tmp/ccZ1aFVH.s 			page 86


                           .group:00000000 wm4.core_cm55.h.196.52e437a270752da561676e507b35baeb
                           .group:00000000 wm4.mpu_armv8.h.32.9d72426c8e2b47753456dcb84802c5b3
                           .group:00000000 wm4.pmu_armv8.h.32.eaa95f88a71b29390b135fd81c071b6b
                           .group:00000000 wm4.core_cm55.h.4411.860dad8650880893dd57b815844f7186
                           .group:00000000 wm4.cachel1_armv7.h.32.abd77761a989e008b0c60891114a33c7
                           .group:00000000 wm4.stm32n657xx.h.575.1c2a5e6bedffc6f9083dcc857bc6d09d
                           .group:00000000 wm4.stm32n6xx.h.114.5cf793d8af485e14f110e3e24bde1aa5
                           .group:00000000 wm4.stm32_hal_legacy.h.22.87fb12bf5a1a1e00fc134f22bc9aa8c4
                           .group:00000000 wm4.newlib.h.7.591ac1bd65c1f5b34864757667a05252
                           .group:00000000 wm4.ieeefp.h.77.bd5feb87d9990dd328793ced294f6a87
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.cdefs.h.49.70fc7af612f78ddcace70fdd90b5623b
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.6f8e08a347b1cff664332fa350bfceb3
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.18.25503cdc8b7e55dd0d6ea7b3e5af7a03
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.78.6b87466b04591b1f1cb88c14fdf2ba9e
                           .group:00000000 wm4.math.h.13.47cfc34cae8a1153323939c4d32cf7c2
                           .group:00000000 wm4.stm32n6xx_hal_def.h.63.3a8f01490e8852464e9fcb69092e9c75
                           .group:00000000 wm4.stm32n6xx_ll_bus.h.38.2366a295ee4cdb04833997d3787fcd2d
                           .group:00000000 wm4.stm32n6xx_ll_rcc.h.21.002e22a16fd7f67dde6dce41e8ba9620
                           .group:00000000 wm4.stm32n6xx_hal_rcc.h.194.1cb1283e40f9bebcd3fba2a9a961838e
                           .group:00000000 wm4.stm32n6xx_hal_rcc_ex.h.21.79aa32178dfef625fbd20d362449acfa
                           .group:00000000 wm4.stm32n6xx_hal_rcc.h.4359.3f0b7ad33826d95438602c9aebc08af9
                           .group:00000000 wm4.stm32n6xx_hal_gpio.h.21.89d54af663b98eb8fc098192053f7eeb
                           .group:00000000 wm4.stm32n6xx_hal_gpio_ex.h.22.4acb2e3511a98bb48b81cfc8e09fd59e
                           .group:00000000 wm4.stm32n6xx_hal_rif.h.21.424d0bafb874a777dee3742a22e13037
                           .group:00000000 wm4.stm32n6xx_hal_dma.h.21.61e48c5c2e8d25d22177834b232fe45c
                           .group:00000000 wm4.stm32n6xx_hal_dma_ex.h.21.66e597beb090a165329d6ccf665e41bc
                           .group:00000000 wm4.stm32n6xx_hal_dma.h.1020.87e2180c009560b617c1f8208140c950
                           .group:00000000 wm4.stm32n6xx_hal_cortex.h.21.f493623cc58f9454ab4eae41e395c5cc
                           .group:00000000 wm4.stm32n6xx_hal_bsec.h.21.61b309e67dd810e28897a01b1b21a97f
                           .group:00000000 wm4.stm32n6xx_hal_dcmipp.h.21.f538bfd785c6469670251ac9bc7af55d
                           .group:00000000 wm4.stm32n6xx_hal_dma2d.h.21.75c8d46cdbb72970123b3f34ae2043d7
                           .group:00000000 wm4.stm32n6xx_hal_exti.h.21.fda87e715ea6b98239ec30171d1df594
                           .group:00000000 wm4.stm32n6xx_hal_gfxmmu.h.21.9784a9103143d48bd3c37389d0e0b8e6
                           .group:00000000 wm4.stm32n6xx_hal_i2c.h.21.3f483626ff64c5bf027265bb2e1d1331
                           .group:00000000 wm4.stm32n6xx_hal_i2c_ex.h.21.79e9196c22282cdaf6b4047893638c45
                           .group:00000000 wm4.stm32n6xx_hal_i2c.h.741.1084702632703acc669e4282b3043372
                           .group:00000000 wm4.stm32n6xx_hal_icache.h.21.194b4ec6e76f32b14f65c85616854850
                           .group:00000000 wm4.stm32n6xx_hal_ltdc.h.21.ae1eb09930e7e550e48e418ac5849e4d
                           .group:00000000 wm4.stm32n6xx_hal_ltdc.h.1002.b13ede7fc94ed5ad1c6768a157d2149a
                           .group:00000000 wm4.stm32n6xx_ll_usb.h.21.d518a5d97876c2ff49040c20a2c4a120
                           .group:00000000 wm4.stm32n6xx_hal_pcd.h.155.27040aac6844effe2af8c180caf1dd2e
                           .group:00000000 wm4.stm32n6xx_hal_pwr.h.21.cdb73e4869c3fed3fc84f901ec0e5f0a
                           .group:00000000 wm4.stm32n6xx_hal_pwr_ex.h.21.1a673224a58b0c1e5fad8eeda6514208
                           .group:00000000 wm4.stm32n6xx_hal_ramcfg.h.21.a62dfbb4d2c14e9a8c634a215e37bd3d
                           .group:00000000 wm4.stm32n6xx_hal_spi.h.21.9f810303326e2d91749800e9911f8e4d
                           .group:00000000 wm4.stm32n6xx_hal_spi.h.906.93ec0695066db4253cdbcb7d84358a0b
                           .group:00000000 wm4.stm32n6xx_hal_tim.h.21.839dd2b2a70382fb2c44f8f293a84d5f
                           .group:00000000 wm4.stm32n6xx_hal_tim_ex.h.21.e372d5ac63c13441211ea4ecbd353150
                           .group:00000000 wm4.stm32n6xx_hal_uart.h.21.230f549bfa0d5ebfd77bfb311b2aca15
                           .group:00000000 wm4.stm32n6xx_hal_uart_ex.h.21.a0d5511e1d0703b7b5278c8f5472b96d
                           .group:00000000 wm4.stm32n6xx_hal_xspi.h.21.e17898be2073b6b6b19faf30b4e304e9
                           .group:00000000 wm4.stm32n6xx_hal_cacheaxi.h.21.7c3375b7903ec42376e4883320997f74
ARM GAS  /tmp/ccZ1aFVH.s 			page 87


                           .group:00000000 wm4.stm32n6xx_hal_gpu2d.h.21.48d0249122abad294a630c39cc4ebaed
                           .group:00000000 wm4.stm32n6xx_hal.h.81.5e59143eba07faca3e9aeaa5470826c8
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stddef.h.158.eec8bf00b5213f43d095cb984c5f22e3
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.stdio.h.47.dc31ec4674d7bcb103c9f08809549f45
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.87.a1e20d2651f9bfb66e51bfbe849db00a
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:00000000 wm4.stdbool.h.29.c08aa3eec75cf5b9b5003883f43253f0
                           .group:00000000 wm4.isp_core.h.109.be5387f515355b6edcb70af2607f9a68
                           .group:00000000 wm4.isp_services.h.55.aa3787e002060687ddf24cf4424c9532
                           .group:00000000 wm4.evisionapiutils.h.17.42d109d4baa8f282e43af5fe8c49413c
                           .group:00000000 wm4.evisionapistae.h.156.cec5736945968c8750b3db48785fdde1
                           .group:00000000 wm4.evisionapiawb.h.17.5489e68872ddcbc286f4e12340a97515
                           .group:00000000 wm4.syslimits.h.34.de5cbd310098bc5895998b6bde577ed2
                           .group:00000000 wm4.limits.h.9.70fb0ada6f71b16202a66baaa6d8ea70
                           .group:00000000 wm4.limits.h.60.56a1ae353e2028a24298ec6463b8b593

UNDEFINED SYMBOLS
ISP_SVC_IQParam_Get
ISP_SVC_Misc_GetMainFrameId
ISP_SVC_ISP_GetBadPixel
ISP_SVC_ISP_SetBadPixel
printf
puts
evision_api_st_ae_new
evision_api_st_ae_init
evision_api_st_ae_delete
ISP_SVC_Sensor_SetExposure
ISP_SVC_Sensor_SetGain
ISP_SVC_Stats_GetNext
ISP_SVC_Sensor_GetGain
ISP_SVC_Sensor_GetExposure
evision_api_st_ae_process
ISP_SVC_Misc_IsGammaEnabled
pow
__aeabi_ldivmod
ISP_SVC_ISP_GetGain
ISP_SVC_ISP_GetBlackLevel
ISP_SVC_ISP_GetColorConv
evision_api_awb_new
evision_api_awb_delete
evision_api_awb_set_profile
evision_api_awb_init_profiles
evision_api_awb_run_average
memcpy
ISP_SVC_ISP_SetColorConv
ISP_SVC_ISP_SetGain

ARM GAS  /tmp/ccmhSEKI.s 			page 1


   1              		.arch armv8.1-m.main
   2              		.fpu fpv5-d16
   3              		.arch_extension dsp
   4              		.arch_extension fp
   5              		.arch_extension fp.dp
   6              		.arch_extension mve
   7              		.arch_extension mve.fp
   8              		.eabi_attribute 5, "cortex-m55"
   9              		.eabi_attribute 28, 1
  10              		.eabi_attribute 20, 1
  11              		.eabi_attribute 21, 1
  12              		.eabi_attribute 23, 3
  13              		.eabi_attribute 24, 1
  14              		.eabi_attribute 25, 1
  15              		.eabi_attribute 26, 1
  16              		.eabi_attribute 30, 6
  17              		.eabi_attribute 34, 1
  18              		.eabi_attribute 38, 1
  19              		.eabi_attribute 18, 4
  20              		.file	"ecloader.c"
  21              		.text
  22              	.Ltext0:
  23              		.cfi_sections	.debug_frame
  24              		.file 1 "Lib/AI_Runtime/Npu/ll_aton/ecloader.c"
  25              		.section	.rodata
  26              		.align	2
  27              	.LC0:
  28 0000 4572726F 		.ascii	"Error: Epoch Controller binary is invalid\000"
  28      723A2045 
  28      706F6368 
  28      20436F6E 
  28      74726F6C 
  29 002a 0000     		.align	2
  30              	.LC1:
  31 002c 4572726F 		.ascii	"Error: Blob section offset in blob binary is invali"
  31      723A2042 
  31      6C6F6220 
  31      73656374 
  31      696F6E20 
  32 005f 6400     		.ascii	"d\000"
  33              		.section	.text.ec_get_blob_ptr,"ax",%progbits
  34              		.align	1
  35              		.global	ec_get_blob_ptr
  36              		.syntax unified
  37              		.thumb
  38              		.thumb_func
  40              	ec_get_blob_ptr:
  41              	.LFB3:
   1:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
   2:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  ******************************************************************************
   3:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * @file    ecloader.h
   4:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * @author  SRA Artificial Intelligence & Embedded Architectures
   5:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * @brief   Loader for Epoch Controller BLobs.
   6:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  ******************************************************************************
   7:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * @attention
   8:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
   9:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Copyright (c) 2024 STMicroelectronics.
ARM GAS  /tmp/ccmhSEKI.s 			page 2


  10:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * All rights reserved.
  11:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  12:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * in the root directory of this software component.
  14:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  16:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  ******************************************************************************
  17:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
  18:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  19:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #if defined(USE_FILES)
  20:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #include <stdio.h>
  21:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #endif
  22:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  23:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #include <inttypes.h>
  24:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #include <string.h>
  25:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  26:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #include "ecloader.h"
  27:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #include "ll_aton_util.h"
  28:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  29:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #ifdef USE_FILES
  30:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  31:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
  32:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the size of a file.
  33:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  34:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] path is the path of the file
  35:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  36:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the size of file having path equal to \e path, or -1 in case of errors
  37:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
  38:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  39:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** long ec_file_size(const char *path)
  40:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
  41:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   FILE *file = fopen(path, "r+");
  42:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  43:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (file == NULL)
  44:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
  45:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot open file '%s'\n", path);
  46:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  47:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return -1;
  48:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
  49:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  50:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   fseek(file, 0, SEEK_END);
  51:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  52:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   long pos = ftell(file);
  53:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  54:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   fclose(file);
  55:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  56:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return pos;
  57:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
  58:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  59:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
  60:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Copy a file to memory.
  61:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  62:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] path is the path of the file
  63:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] ptr  is the pointer to the memory area (which must be already allocated and large eno
  64:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * must be copied
  65:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
  66:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
ARM GAS  /tmp/ccmhSEKI.s 			page 3


  67:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
  68:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
  69:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  70:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_copy_file(const char *path, uint8_t *ptr)
  71:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
  72:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   FILE *file = fopen(path, "r+");
  73:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  74:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (file == NULL)
  75:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
  76:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot open file '%s'\n", path);
  77:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  78:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
  79:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
  80:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  81:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   while (true)
  82:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
  83:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     uint8_t byte;
  84:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  85:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (fread(&byte, sizeof(uint8_t), 1, file) != 1)
  86:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       break;
  87:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  88:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     *ptr = byte;
  89:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  90:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr++;
  91:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
  92:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  93:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   fclose(file);
  94:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  95:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
  96:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
  97:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
  98:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** #endif /* #ifdef USE_FILES */
  99:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 100:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 101:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Get the pointer to the blob contained in an Epoch Controller binary.
 102:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 103:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] binary_ptr is the pointer to the memory area containing the whole Epoch Controller bi
 104:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 105:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the pointer to the blob contained in the Epoch Controller binary pointed by \e binary_pt
 106:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * errors
 107:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 108:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 109:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** const uint64_t *ec_get_blob_ptr(const uint8_t *binary_ptr)
 110:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
  42              		.loc 1 110 1
  43              		.cfi_startproc
  44              		@ args = 0, pretend = 0, frame = 24
  45              		@ frame_needed = 1, uses_anonymous_args = 0
  46 0000 80B5     		push	{r7, lr}
  47              		.cfi_def_cfa_offset 8
  48              		.cfi_offset 7, -8
  49              		.cfi_offset 14, -4
  50 0002 86B0     		sub	sp, sp, #24
  51              		.cfi_def_cfa_offset 32
  52 0004 00AF     		add	r7, sp, #0
  53              		.cfi_def_cfa_register 7
  54 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccmhSEKI.s 			page 4


 111:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const uint8_t *ptr = binary_ptr;
  55              		.loc 1 111 18
  56 0008 7B68     		ldr	r3, [r7, #4]
  57 000a 7B61     		str	r3, [r7, #20]
 112:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 113:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the binary header
 114:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 115:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry magic = 0;
  58              		.loc 1 115 15
  59 000c 0023     		movs	r3, #0
  60 000e 3B61     		str	r3, [r7, #16]
 116:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry blob_offset = 0;
  61              		.loc 1 116 15
  62 0010 0023     		movs	r3, #0
  63 0012 FB60     		str	r3, [r7, #12]
 117:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 118:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   magic = *((ECFileEntry *)ptr);
  64              		.loc 1 118 9
  65 0014 7B69     		ldr	r3, [r7, #20]
  66 0016 1B68     		ldr	r3, [r3]
  67 0018 3B61     		str	r3, [r7, #16]
 119:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 120:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECFileEntry);
  68              		.loc 1 120 7
  69 001a 7B69     		ldr	r3, [r7, #20]
  70 001c 0433     		adds	r3, r3, #4
  71 001e 7B61     		str	r3, [r7, #20]
 121:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 122:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (magic != ECASM_BINARY_MAGIC)
  72              		.loc 1 122 6
  73 0020 3B69     		ldr	r3, [r7, #16]
  74 0022 104A     		ldr	r2, .L5
  75 0024 9342     		cmp	r3, r2
  76 0026 04D0     		beq	.L2
 123:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 124:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Epoch Controller binary is invalid\n");
  77              		.loc 1 124 5
  78 0028 0F48     		ldr	r0, .L5+4
  79 002a FFF7FEFF 		bl	puts
 125:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 126:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return NULL;
  80              		.loc 1 126 12
  81 002e 0023     		movs	r3, #0
  82 0030 13E0     		b	.L3
  83              	.L2:
 127:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 128:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 129:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr = binary_ptr + sizeof(ECFileEntry) + 3 * sizeof(ECFileEntry);
  84              		.loc 1 129 7
  85 0032 7B68     		ldr	r3, [r7, #4]
  86 0034 1033     		adds	r3, r3, #16
  87 0036 7B61     		str	r3, [r7, #20]
 130:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 131:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   blob_offset = *((ECFileEntry *)ptr);
  88              		.loc 1 131 15
  89 0038 7B69     		ldr	r3, [r7, #20]
  90 003a 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccmhSEKI.s 			page 5


  91 003c FB60     		str	r3, [r7, #12]
 132:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 133:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECFileEntry);
  92              		.loc 1 133 7
  93 003e 7B69     		ldr	r3, [r7, #20]
  94 0040 0433     		adds	r3, r3, #4
  95 0042 7B61     		str	r3, [r7, #20]
 134:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 135:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (blob_offset == 0)
  96              		.loc 1 135 6
  97 0044 FB68     		ldr	r3, [r7, #12]
  98 0046 002B     		cmp	r3, #0
  99 0048 04D1     		bne	.L4
 136:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 137:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Blob section offset in blob binary is invalid\n");
 100              		.loc 1 137 5
 101 004a 0848     		ldr	r0, .L5+8
 102 004c FFF7FEFF 		bl	puts
 138:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 139:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return NULL;
 103              		.loc 1 139 12
 104 0050 0023     		movs	r3, #0
 105 0052 02E0     		b	.L3
 106              	.L4:
 140:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 141:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 142:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return (const uint64_t *)(binary_ptr + blob_offset);
 107              		.loc 1 142 10
 108 0054 7A68     		ldr	r2, [r7, #4]
 109 0056 FB68     		ldr	r3, [r7, #12]
 110 0058 1344     		add	r3, r3, r2
 111              	.L3:
 143:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 112              		.loc 1 143 1
 113 005a 1846     		mov	r0, r3
 114 005c 1837     		adds	r7, r7, #24
 115              		.cfi_def_cfa_offset 8
 116 005e BD46     		mov	sp, r7
 117              		.cfi_def_cfa_register 13
 118              		@ sp needed
 119 0060 80BD     		pop	{r7, pc}
 120              	.L6:
 121 0062 00BF     		.align	2
 122              	.L5:
 123 0064 3000BFEC 		.word	-323026896
 124 0068 00000000 		.word	.LC0
 125 006c 2C000000 		.word	.LC1
 126              		.cfi_endproc
 127              	.LFE3:
 129              		.section	.rodata
 130 0061 000000   		.align	2
 131              	.LC2:
 132 0064 4572726F 		.ascii	"Error: Invalid magic number of Epoch Controller blo"
 132      723A2049 
 132      6E76616C 
 132      6964206D 
 132      61676963 
ARM GAS  /tmp/ccmhSEKI.s 			page 6


 133 0097 6200     		.ascii	"b\000"
 134 0099 000000   		.align	2
 135              	.LC3:
 136 009c 4572726F 		.ascii	"Error: Memory allocated for the Epoch Controller bl"
 136      723A204D 
 136      656D6F72 
 136      7920616C 
 136      6C6F6361 
 137 00cf 6F62206D 		.ascii	"ob must be 8-byte aligned\000"
 137      75737420 
 137      62652038 
 137      2D627974 
 137      6520616C 
 138 00e9 000000   		.align	2
 139              	.LC4:
 140 00ec 4572726F 		.ascii	"Error: Size of memory allocated for the Epoch Contr"
 140      723A2053 
 140      697A6520 
 140      6F66206D 
 140      656D6F72 
 141 011f 6F6C6C65 		.ascii	"oller blob has not been specified\000"
 141      7220626C 
 141      6F622068 
 141      6173206E 
 141      6F742062 
 142 0141 000000   		.align	2
 143              	.LC5:
 144 0144 4572726F 		.ascii	"Error: Memory allocated for the Epoch Controller bl"
 144      723A204D 
 144      656D6F72 
 144      7920616C 
 144      6C6F6361 
 145 0177 6F622069 		.ascii	"ob is not sufficient (at least space for %lu 32-bit"
 145      73206E6F 
 145      74207375 
 145      66666963 
 145      69656E74 
 146 01aa 20776F72 		.ascii	" words must be allocated, but only %u 32-bit words "
 146      6473206D 
 146      75737420 
 146      62652061 
 146      6C6C6F63 
 147 01dd 77657265 		.ascii	"were allocated)\012\000"
 147      20616C6C 
 147      6F636174 
 147      6564290A 
 147      00
 148              		.section	.text.ec_copy_blob,"ax",%progbits
 149              		.align	1
 150              		.global	ec_copy_blob
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 155              	ec_copy_blob:
 156              	.LFB4:
 144:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 145:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
ARM GAS  /tmp/ccmhSEKI.s 			page 7


 146:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Copy to memory an Epoch Controller blob contained in an Epoch Controller binary.
 147:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * The magic number and the length of the blob will be copied as well.
 148:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 149:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    blob      is the pointer to the memory area (which must be already allocated and 
 150:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * will contain the Epoch Controller blob
 151:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     binary_ptr   is the pointer to the memory area containing the whole Epoch Control
 152:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in,out] blob_size is the pointer to the variable that, if \e
 153:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob is not \e NULL, contains the size in terms of 32-bit words of the memory area pointed by \e
 154:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob is \e NULL, will contain the size in terms of 32-bit words of the Epoch Controller blob (in
 155:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * number and blob length):
 156:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>blob == NULL && blob_size != NULL</em> ==> the size of the blo
 157:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * must be retrieved
 158:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>blob != NULL && blob_size != NULL</em> ==> the blob section mu
 159:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * (\e blob_size is used for checking that the allocated space is sufficient)
 160:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>blob != NULL && blob_size == NULL</em> ==> not allowed
 161:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>blob == NULL && blob_size == NULL</em> ==> not allowed
 162:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 163:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 164:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 165:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 166:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 167:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_copy_blob(ECInstr *blob, const uint8_t *binary_ptr, unsigned int *blob_size)
 168:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 157              		.loc 1 168 1
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 32
 160              		@ frame_needed = 1, uses_anonymous_args = 0
 161 0000 80B5     		push	{r7, lr}
 162              		.cfi_def_cfa_offset 8
 163              		.cfi_offset 7, -8
 164              		.cfi_offset 14, -4
 165 0002 88B0     		sub	sp, sp, #32
 166              		.cfi_def_cfa_offset 40
 167 0004 00AF     		add	r7, sp, #0
 168              		.cfi_def_cfa_register 7
 169 0006 F860     		str	r0, [r7, #12]
 170 0008 B960     		str	r1, [r7, #8]
 171 000a 7A60     		str	r2, [r7, #4]
 169:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const uint8_t *ptr = (const uint8_t *)ec_get_blob_ptr(binary_ptr);
 172              		.loc 1 169 41
 173 000c B868     		ldr	r0, [r7, #8]
 174 000e FFF7FEFF 		bl	ec_get_blob_ptr
 175 0012 F861     		str	r0, [r7, #28]
 170:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 171:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (ptr == NULL)
 176              		.loc 1 171 6
 177 0014 FB69     		ldr	r3, [r7, #28]
 178 0016 002B     		cmp	r3, #0
 179 0018 01D1     		bne	.L8
 172:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 180              		.loc 1 172 12
 181 001a 0023     		movs	r3, #0
 182 001c 56E0     		b	.L9
 183              	.L8:
 173:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 174:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the Epoch Controller blob section
 175:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
ARM GAS  /tmp/ccmhSEKI.s 			page 8


 176:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECInstr blob_magic = 0;
 184              		.loc 1 176 11
 185 001e 0023     		movs	r3, #0
 186 0020 BB61     		str	r3, [r7, #24]
 177:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 178:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   blob_magic = *((ECInstr *)ptr);
 187              		.loc 1 178 14
 188 0022 FB69     		ldr	r3, [r7, #28]
 189 0024 1B68     		ldr	r3, [r3]
 190 0026 BB61     		str	r3, [r7, #24]
 179:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 180:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECInstr);
 191              		.loc 1 180 7
 192 0028 FB69     		ldr	r3, [r7, #28]
 193 002a 0433     		adds	r3, r3, #4
 194 002c FB61     		str	r3, [r7, #28]
 181:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 182:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (blob_magic != ECASM_BLOB_MAGIC)
 195              		.loc 1 182 6
 196 002e BB69     		ldr	r3, [r7, #24]
 197 0030 284A     		ldr	r2, .L16
 198 0032 9342     		cmp	r3, r2
 199 0034 04D0     		beq	.L10
 183:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 184:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Invalid magic number of Epoch Controller blob\n");
 200              		.loc 1 184 5
 201 0036 2848     		ldr	r0, .L16+4
 202 0038 FFF7FEFF 		bl	puts
 185:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 186:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 203              		.loc 1 186 12
 204 003c 0023     		movs	r3, #0
 205 003e 45E0     		b	.L9
 206              	.L10:
 187:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 188:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 189:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECInstr size = 0;
 207              		.loc 1 189 11
 208 0040 0023     		movs	r3, #0
 209 0042 7B61     		str	r3, [r7, #20]
 190:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 191:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   size = *((ECInstr *)ptr);
 210              		.loc 1 191 8
 211 0044 FB69     		ldr	r3, [r7, #28]
 212 0046 1B68     		ldr	r3, [r3]
 213 0048 7B61     		str	r3, [r7, #20]
 192:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 193:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECInstr);
 214              		.loc 1 193 7
 215 004a FB69     		ldr	r3, [r7, #28]
 216 004c 0433     		adds	r3, r3, #4
 217 004e FB61     		str	r3, [r7, #28]
 194:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 195:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (blob == NULL)
 218              		.loc 1 195 6
 219 0050 FB68     		ldr	r3, [r7, #12]
 220 0052 002B     		cmp	r3, #0
ARM GAS  /tmp/ccmhSEKI.s 			page 9


 221 0054 07D1     		bne	.L11
 196:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 197:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (blob_size != NULL)
 222              		.loc 1 197 8
 223 0056 7B68     		ldr	r3, [r7, #4]
 224 0058 002B     		cmp	r3, #0
 225 005a 36D0     		beq	.L12
 198:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       *blob_size = size + 2;
 226              		.loc 1 198 25
 227 005c 7B69     		ldr	r3, [r7, #20]
 228 005e 9A1C     		adds	r2, r3, #2
 229              		.loc 1 198 18
 230 0060 7B68     		ldr	r3, [r7, #4]
 231 0062 1A60     		str	r2, [r3]
 232 0064 31E0     		b	.L12
 233              	.L11:
 199:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 200:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   else
 201:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 202:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if ((((intptr_t)blob) % 8) != 0)
 234              		.loc 1 202 32
 235 0066 FB68     		ldr	r3, [r7, #12]
 236 0068 03F00703 		and	r3, r3, #7
 237              		.loc 1 202 8
 238 006c 002B     		cmp	r3, #0
 239 006e 04D0     		beq	.L13
 203:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 204:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Memory allocated for the Epoch Controller blob must be 8-byte aligned\
 240              		.loc 1 204 7
 241 0070 1A48     		ldr	r0, .L16+8
 242 0072 FFF7FEFF 		bl	puts
 205:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 206:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 243              		.loc 1 206 14
 244 0076 0023     		movs	r3, #0
 245 0078 28E0     		b	.L9
 246              	.L13:
 207:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 208:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 209:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (blob_size == NULL)
 247              		.loc 1 209 8
 248 007a 7B68     		ldr	r3, [r7, #4]
 249 007c 002B     		cmp	r3, #0
 250 007e 04D1     		bne	.L14
 210:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 211:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Size of memory allocated for the Epoch Controller blob has not been sp
 251              		.loc 1 211 7
 252 0080 1748     		ldr	r0, .L16+12
 253 0082 FFF7FEFF 		bl	puts
 212:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 213:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 254              		.loc 1 213 14
 255 0086 0023     		movs	r3, #0
 256 0088 20E0     		b	.L9
 257              	.L14:
 214:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 215:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
ARM GAS  /tmp/ccmhSEKI.s 			page 10


 216:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (*blob_size < (size + 2))
 258              		.loc 1 216 9
 259 008a 7B68     		ldr	r3, [r7, #4]
 260 008c 1A68     		ldr	r2, [r3]
 261              		.loc 1 216 28
 262 008e 7B69     		ldr	r3, [r7, #20]
 263 0090 0233     		adds	r3, r3, #2
 264              		.loc 1 216 8
 265 0092 9A42     		cmp	r2, r3
 266 0094 09D2     		bcs	.L15
 217:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 218:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF(
 267              		.loc 1 218 7
 268 0096 7B69     		ldr	r3, [r7, #20]
 269 0098 991C     		adds	r1, r3, #2
 270 009a 7B68     		ldr	r3, [r7, #4]
 271 009c 1B68     		ldr	r3, [r3]
 272 009e 1A46     		mov	r2, r3
 273 00a0 1048     		ldr	r0, .L16+16
 274 00a2 FFF7FEFF 		bl	printf
 219:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           "Error: Memory allocated for the Epoch Controller blob is not sufficient (at least space 
 220:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           " 32-bit words must be allocated, but only %u 32-bit words were allocated)\n",
 221:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           size + 2, *blob_size);
 222:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 223:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 275              		.loc 1 223 14
 276 00a6 0023     		movs	r3, #0
 277 00a8 10E0     		b	.L9
 278              	.L15:
 224:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 225:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 226:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     blob[0] = blob_magic;
 279              		.loc 1 226 13
 280 00aa FB68     		ldr	r3, [r7, #12]
 281 00ac BA69     		ldr	r2, [r7, #24]
 282 00ae 1A60     		str	r2, [r3]
 227:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     blob[1] = size;
 283              		.loc 1 227 9
 284 00b0 FB68     		ldr	r3, [r7, #12]
 285 00b2 0433     		adds	r3, r3, #4
 286              		.loc 1 227 13
 287 00b4 7A69     		ldr	r2, [r7, #20]
 288 00b6 1A60     		str	r2, [r3]
 228:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 229:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     memcpy((uint8_t *)(blob + 2), ptr, size * sizeof(ECInstr));
 289              		.loc 1 229 29
 290 00b8 FB68     		ldr	r3, [r7, #12]
 291 00ba 03F10800 		add	r0, r3, #8
 292              		.loc 1 229 45
 293 00be 7B69     		ldr	r3, [r7, #20]
 294 00c0 9B00     		lsls	r3, r3, #2
 295              		.loc 1 229 5
 296 00c2 1A46     		mov	r2, r3
 297 00c4 F969     		ldr	r1, [r7, #28]
 298 00c6 FFF7FEFF 		bl	memcpy
 299              	.L12:
 230:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
ARM GAS  /tmp/ccmhSEKI.s 			page 11


 231:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 232:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
 300              		.loc 1 232 10
 301 00ca 0123     		movs	r3, #1
 302              	.L9:
 233:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 303              		.loc 1 233 1
 304 00cc 1846     		mov	r0, r3
 305 00ce 2037     		adds	r7, r7, #32
 306              		.cfi_def_cfa_offset 8
 307 00d0 BD46     		mov	sp, r7
 308              		.cfi_def_cfa_register 13
 309              		@ sp needed
 310 00d2 80BD     		pop	{r7, pc}
 311              	.L17:
 312              		.align	2
 313              	.L16:
 314 00d4 7A7A05CA 		.word	-905610630
 315 00d8 64000000 		.word	.LC2
 316 00dc 9C000000 		.word	.LC3
 317 00e0 EC000000 		.word	.LC4
 318 00e4 44010000 		.word	.LC5
 319              		.cfi_endproc
 320              	.LFE4:
 322              		.section	.rodata
 323 01ee 0000     		.align	2
 324              	.LC6:
 325 01f0 4572726F 		.ascii	"Error: Relocation table is not present\000"
 325      723A2052 
 325      656C6F63 
 325      6174696F 
 325      6E207461 
 326 0217 00       		.align	2
 327              	.LC7:
 328 0218 4572726F 		.ascii	"Error: Size of the relocation table of an Epoch Con"
 328      723A2053 
 328      697A6520 
 328      6F662074 
 328      68652072 
 329 024b 74726F6C 		.ascii	"troller blob must be 4-byte aligned\000"
 329      6C657220 
 329      626C6F62 
 329      206D7573 
 329      74206265 
 330 026f 00       		.align	2
 331              	.LC8:
 332 0270 4572726F 		.ascii	"Error: Memory allocated for the relocation table of"
 332      723A204D 
 332      656D6F72 
 332      7920616C 
 332      6C6F6361 
 333 02a3 20746865 		.ascii	" the Epoch Controller blob must be 4-byte aligned\000"
 333      2045706F 
 333      63682043 
 333      6F6E7472 
 333      6F6C6C65 
 334 02d5 000000   		.align	2
ARM GAS  /tmp/ccmhSEKI.s 			page 12


 335              	.LC9:
 336 02d8 4572726F 		.ascii	"Error: Size of memory allocated for the relocation "
 336      723A2053 
 336      697A6520 
 336      6F66206D 
 336      656D6F72 
 337 030b 7461626C 		.ascii	"table of the Epoch Controller has not been specifie"
 337      65206F66 
 337      20746865 
 337      2045706F 
 337      63682043 
 338 033e 6400     		.ascii	"d\000"
 339              		.align	2
 340              	.LC10:
 341 0340 4572726F 		.ascii	"Error: Memory allocated for the relocation table of"
 341      723A204D 
 341      656D6F72 
 341      7920616C 
 341      6C6F6361 
 342 0373 20746865 		.ascii	" the Epoch Controller blob is not sufficient (at le"
 342      2045706F 
 342      63682043 
 342      6F6E7472 
 342      6F6C6C65 
 343 03a6 61737420 		.ascii	"ast space for %lu 32-bit words must be allocated)\012"
 343      73706163 
 343      6520666F 
 343      7220256C 
 343      75203332 
 344 03d8 00       		.ascii	"\000"
 345              		.section	.text.ec_copy_reloc_table,"ax",%progbits
 346              		.align	1
 347              		.global	ec_copy_reloc_table
 348              		.syntax unified
 349              		.thumb
 350              		.thumb_func
 352              	ec_copy_reloc_table:
 353              	.LFB5:
 234:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 235:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 236:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Copy to memory the relocation table contained in an Epoch Controller binary.
 237:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 238:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    reloc_table     is the pointer to the memory area (which must be already allocate
 239:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * that will contain the Epoch Controller blob
 240:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     binary_ptr      is the pointer to the memory area containing the whole Epoch Cont
 241:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in,out] reloc_table_size is the pointer to the variable that,
 242:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * if \e reloc_table is not \e NULL, contains the size in terms of 32-bit words of the memory area 
 243:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * reloc_table or, if \e reloc_table is \e NULL, will contain the size in terms of 32-bit words of 
 244:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>reloc_table == NULL && reloc_table_size != NULL</em> ==> the s
 245:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * table must be retrieved
 246:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>reloc_table != NULL && reloc_table_size != NULL</em> ==> the r
 247:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * be copied
 248:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * (\e reloc_table_size is used for checking that the allocated space is sufficient)
 249:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>reloc_table != NULL && reloc_table_size == NULL</em> ==> not a
 250:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>reloc_table == NULL && reloc_table_size == NULL</em> ==> not a
 251:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 252:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
ARM GAS  /tmp/ccmhSEKI.s 			page 13


 253:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 254:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 255:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 256:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_copy_reloc_table(ECFileEntry *reloc_table, const uint8_t *binary_ptr, unsigned int *reloc_t
 257:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 354              		.loc 1 257 1
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 48
 357              		@ frame_needed = 1, uses_anonymous_args = 0
 358 0000 80B5     		push	{r7, lr}
 359              		.cfi_def_cfa_offset 8
 360              		.cfi_offset 7, -8
 361              		.cfi_offset 14, -4
 362 0002 8CB0     		sub	sp, sp, #48
 363              		.cfi_def_cfa_offset 56
 364 0004 00AF     		add	r7, sp, #0
 365              		.cfi_def_cfa_register 7
 366 0006 F860     		str	r0, [r7, #12]
 367 0008 B960     		str	r1, [r7, #8]
 368 000a 7A60     		str	r2, [r7, #4]
 258:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = (const ECFileEntry *)binary_ptr;
 369              		.loc 1 258 22
 370 000c BB68     		ldr	r3, [r7, #8]
 371 000e BB62     		str	r3, [r7, #40]
 259:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 260:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the binary header
 261:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 262:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry magic = *ptr++;
 372              		.loc 1 262 27
 373 0010 BB6A     		ldr	r3, [r7, #40]
 374 0012 1A1D     		adds	r2, r3, #4
 375 0014 BA62     		str	r2, [r7, #40]
 376              		.loc 1 262 15
 377 0016 1B68     		ldr	r3, [r3]
 378 0018 7B62     		str	r3, [r7, #36]
 263:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 264:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (magic != ECASM_BINARY_MAGIC)
 379              		.loc 1 264 6
 380 001a 7B6A     		ldr	r3, [r7, #36]
 381 001c 3A4A     		ldr	r2, .L30
 382 001e 9342     		cmp	r3, r2
 383 0020 04D0     		beq	.L19
 265:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 266:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Epoch Controller binary is invalid\n");
 384              		.loc 1 266 5
 385 0022 3A48     		ldr	r0, .L30+4
 386 0024 FFF7FEFF 		bl	puts
 267:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 268:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 387              		.loc 1 268 12
 388 0028 0023     		movs	r3, #0
 389 002a 69E0     		b	.L20
 390              	.L19:
 269:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 270:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 271:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry reloc_table_offset = *((ECFileEntry *)ptr++);
 391              		.loc 1 271 38
ARM GAS  /tmp/ccmhSEKI.s 			page 14


 392 002c BB6A     		ldr	r3, [r7, #40]
 393 002e 1A1D     		adds	r2, r3, #4
 394 0030 BA62     		str	r2, [r7, #40]
 395              		.loc 1 271 15
 396 0032 1B68     		ldr	r3, [r3]
 397 0034 3B62     		str	r3, [r7, #32]
 272:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry patch_offset = *((ECFileEntry *)ptr++);
 398              		.loc 1 272 32
 399 0036 BB6A     		ldr	r3, [r7, #40]
 400 0038 1A1D     		adds	r2, r3, #4
 401 003a BA62     		str	r2, [r7, #40]
 402              		.loc 1 272 15
 403 003c 1B68     		ldr	r3, [r3]
 404 003e FB61     		str	r3, [r7, #28]
 273:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry debug_offset = *((ECFileEntry *)ptr++);
 405              		.loc 1 273 32
 406 0040 BB6A     		ldr	r3, [r7, #40]
 407 0042 1A1D     		adds	r2, r3, #4
 408 0044 BA62     		str	r2, [r7, #40]
 409              		.loc 1 273 15
 410 0046 1B68     		ldr	r3, [r3]
 411 0048 BB61     		str	r3, [r7, #24]
 274:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry blob_offset = *((ECFileEntry *)ptr++);
 412              		.loc 1 274 31
 413 004a BB6A     		ldr	r3, [r7, #40]
 414 004c 1A1D     		adds	r2, r3, #4
 415 004e BA62     		str	r2, [r7, #40]
 416              		.loc 1 274 15
 417 0050 1B68     		ldr	r3, [r3]
 418 0052 7B61     		str	r3, [r7, #20]
 275:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 276:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table_offset == 0)
 419              		.loc 1 276 6
 420 0054 3B6A     		ldr	r3, [r7, #32]
 421 0056 002B     		cmp	r3, #0
 422 0058 04D1     		bne	.L21
 277:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 278:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Relocation table is not present\n");
 423              		.loc 1 278 5
 424 005a 2D48     		ldr	r0, .L30+8
 425 005c FFF7FEFF 		bl	puts
 279:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 280:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 426              		.loc 1 280 12
 427 0060 0023     		movs	r3, #0
 428 0062 4DE0     		b	.L20
 429              	.L21:
 281:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 282:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 283:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry end = blob_offset;
 430              		.loc 1 283 15
 431 0064 7B69     		ldr	r3, [r7, #20]
 432 0066 FB62     		str	r3, [r7, #44]
 284:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 285:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (debug_offset != 0)
 433              		.loc 1 285 6
 434 0068 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccmhSEKI.s 			page 15


 435 006a 002B     		cmp	r3, #0
 436 006c 01D0     		beq	.L22
 286:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     end = debug_offset;
 437              		.loc 1 286 9
 438 006e BB69     		ldr	r3, [r7, #24]
 439 0070 FB62     		str	r3, [r7, #44]
 440              	.L22:
 287:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 288:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_offset != 0)
 441              		.loc 1 288 6
 442 0072 FB69     		ldr	r3, [r7, #28]
 443 0074 002B     		cmp	r3, #0
 444 0076 01D0     		beq	.L23
 289:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     end = patch_offset;
 445              		.loc 1 289 9
 446 0078 FB69     		ldr	r3, [r7, #28]
 447 007a FB62     		str	r3, [r7, #44]
 448              	.L23:
 290:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 291:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = end - reloc_table_offset;
 449              		.loc 1 291 15
 450 007c FA6A     		ldr	r2, [r7, #44]
 451 007e 3B6A     		ldr	r3, [r7, #32]
 452 0080 D31A     		subs	r3, r2, r3
 453 0082 3B61     		str	r3, [r7, #16]
 292:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 293:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if ((size % 4) != 0)
 454              		.loc 1 293 13
 455 0084 3B69     		ldr	r3, [r7, #16]
 456 0086 03F00303 		and	r3, r3, #3
 457              		.loc 1 293 6
 458 008a 002B     		cmp	r3, #0
 459 008c 04D0     		beq	.L24
 294:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 295:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Size of the relocation table of an Epoch Controller blob must be 4-byte 
 460              		.loc 1 295 5
 461 008e 2148     		ldr	r0, .L30+12
 462 0090 FFF7FEFF 		bl	puts
 296:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 297:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 463              		.loc 1 297 12
 464 0094 0023     		movs	r3, #0
 465 0096 33E0     		b	.L20
 466              	.L24:
 298:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 299:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 300:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   size /= 4;
 467              		.loc 1 300 8
 468 0098 3B69     		ldr	r3, [r7, #16]
 469 009a 9B08     		lsrs	r3, r3, #2
 470 009c 3B61     		str	r3, [r7, #16]
 301:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 302:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table == NULL)
 471              		.loc 1 302 6
 472 009e FB68     		ldr	r3, [r7, #12]
 473 00a0 002B     		cmp	r3, #0
 474 00a2 06D1     		bne	.L25
ARM GAS  /tmp/ccmhSEKI.s 			page 16


 303:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 304:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (reloc_table_size != NULL)
 475              		.loc 1 304 8
 476 00a4 7B68     		ldr	r3, [r7, #4]
 477 00a6 002B     		cmp	r3, #0
 478 00a8 29D0     		beq	.L26
 305:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       *reloc_table_size = size;
 479              		.loc 1 305 25
 480 00aa 7B68     		ldr	r3, [r7, #4]
 481 00ac 3A69     		ldr	r2, [r7, #16]
 482 00ae 1A60     		str	r2, [r3]
 483 00b0 25E0     		b	.L26
 484              	.L25:
 306:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 307:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   else
 308:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 309:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if ((((intptr_t)reloc_table) % 4) != 0)
 485              		.loc 1 309 39
 486 00b2 FB68     		ldr	r3, [r7, #12]
 487 00b4 03F00303 		and	r3, r3, #3
 488              		.loc 1 309 8
 489 00b8 002B     		cmp	r3, #0
 490 00ba 04D0     		beq	.L27
 310:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 311:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF(
 491              		.loc 1 311 7
 492 00bc 1648     		ldr	r0, .L30+16
 493 00be FFF7FEFF 		bl	puts
 312:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           "Error: Memory allocated for the relocation table of the Epoch Controller blob must be 4-
 313:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 314:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 494              		.loc 1 314 14
 495 00c2 0023     		movs	r3, #0
 496 00c4 1CE0     		b	.L20
 497              	.L27:
 315:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 316:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 317:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (reloc_table_size == NULL)
 498              		.loc 1 317 8
 499 00c6 7B68     		ldr	r3, [r7, #4]
 500 00c8 002B     		cmp	r3, #0
 501 00ca 04D1     		bne	.L28
 318:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 319:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF(
 502              		.loc 1 319 7
 503 00cc 1348     		ldr	r0, .L30+20
 504 00ce FFF7FEFF 		bl	puts
 320:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           "Error: Size of memory allocated for the relocation table of the Epoch Controller has not
 321:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 322:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 505              		.loc 1 322 14
 506 00d2 0023     		movs	r3, #0
 507 00d4 14E0     		b	.L20
 508              	.L28:
 323:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 324:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 325:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (*reloc_table_size < size)
ARM GAS  /tmp/ccmhSEKI.s 			page 17


 509              		.loc 1 325 9
 510 00d6 7B68     		ldr	r3, [r7, #4]
 511 00d8 1B68     		ldr	r3, [r3]
 512              		.loc 1 325 8
 513 00da 3A69     		ldr	r2, [r7, #16]
 514 00dc 9A42     		cmp	r2, r3
 515 00de 05D9     		bls	.L29
 326:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 327:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Memory allocated for the relocation table of the Epoch Controller blob
 516              		.loc 1 327 7
 517 00e0 3969     		ldr	r1, [r7, #16]
 518 00e2 0F48     		ldr	r0, .L30+24
 519 00e4 FFF7FEFF 		bl	printf
 328:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****                      "(at least space for %" PRIu32 " 32-bit words must be allocated)\n",
 329:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****                      size);
 330:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 331:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 520              		.loc 1 331 14
 521 00e8 0023     		movs	r3, #0
 522 00ea 09E0     		b	.L20
 523              	.L29:
 332:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 333:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 334:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     memcpy(reloc_table, binary_ptr + reloc_table_offset, size * 4);
 524              		.loc 1 334 36
 525 00ec BA68     		ldr	r2, [r7, #8]
 526 00ee 3B6A     		ldr	r3, [r7, #32]
 527 00f0 D118     		adds	r1, r2, r3
 528              		.loc 1 334 63
 529 00f2 3B69     		ldr	r3, [r7, #16]
 530 00f4 9B00     		lsls	r3, r3, #2
 531              		.loc 1 334 5
 532 00f6 1A46     		mov	r2, r3
 533 00f8 F868     		ldr	r0, [r7, #12]
 534 00fa FFF7FEFF 		bl	memcpy
 535              	.L26:
 335:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 336:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 337:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
 536              		.loc 1 337 10
 537 00fe 0123     		movs	r3, #1
 538              	.L20:
 338:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 539              		.loc 1 338 1
 540 0100 1846     		mov	r0, r3
 541 0102 3037     		adds	r7, r7, #48
 542              		.cfi_def_cfa_offset 8
 543 0104 BD46     		mov	sp, r7
 544              		.cfi_def_cfa_register 13
 545              		@ sp needed
 546 0106 80BD     		pop	{r7, pc}
 547              	.L31:
 548              		.align	2
 549              	.L30:
 550 0108 3000BFEC 		.word	-323026896
 551 010c 00000000 		.word	.LC0
 552 0110 F0010000 		.word	.LC6
ARM GAS  /tmp/ccmhSEKI.s 			page 18


 553 0114 18020000 		.word	.LC7
 554 0118 70020000 		.word	.LC8
 555 011c D8020000 		.word	.LC9
 556 0120 40030000 		.word	.LC10
 557              		.cfi_endproc
 558              	.LFE5:
 560              		.section	.text.ec_get_reloc_table_ptr,"ax",%progbits
 561              		.align	1
 562              		.global	ec_get_reloc_table_ptr
 563              		.syntax unified
 564              		.thumb
 565              		.thumb_func
 567              	ec_get_reloc_table_ptr:
 568              	.LFB6:
 339:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 340:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 341:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Get the pointer to the relocation table contained in an Epoch Controller binary.
 342:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 343:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] binary_ptr is the pointer to the memory area containing the whole Epoch Controller bi
 344:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 345:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the pointer to the relocation table contained in the Epoch Controller binary pointed by 
 346:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * NULL if the Epoch Controller binary does not contain any relocation table or on errors
 347:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 348:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 349:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** const ECFileEntry *ec_get_reloc_table_ptr(const uint8_t *binary_ptr)
 350:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 569              		.loc 1 350 1
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 24
 572              		@ frame_needed = 1, uses_anonymous_args = 0
 573 0000 80B5     		push	{r7, lr}
 574              		.cfi_def_cfa_offset 8
 575              		.cfi_offset 7, -8
 576              		.cfi_offset 14, -4
 577 0002 86B0     		sub	sp, sp, #24
 578              		.cfi_def_cfa_offset 32
 579 0004 00AF     		add	r7, sp, #0
 580              		.cfi_def_cfa_register 7
 581 0006 7860     		str	r0, [r7, #4]
 351:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const uint8_t *ptr = binary_ptr;
 582              		.loc 1 351 18
 583 0008 7B68     		ldr	r3, [r7, #4]
 584 000a 7B61     		str	r3, [r7, #20]
 352:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 353:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the binary header
 354:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 355:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry magic = 0;
 585              		.loc 1 355 15
 586 000c 0023     		movs	r3, #0
 587 000e 3B61     		str	r3, [r7, #16]
 356:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry reloc_offset = 0;
 588              		.loc 1 356 15
 589 0010 0023     		movs	r3, #0
 590 0012 FB60     		str	r3, [r7, #12]
 357:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 358:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   magic = *((ECFileEntry *)ptr);
 591              		.loc 1 358 9
ARM GAS  /tmp/ccmhSEKI.s 			page 19


 592 0014 7B69     		ldr	r3, [r7, #20]
 593 0016 1B68     		ldr	r3, [r3]
 594 0018 3B61     		str	r3, [r7, #16]
 359:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 360:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECFileEntry);
 595              		.loc 1 360 7
 596 001a 7B69     		ldr	r3, [r7, #20]
 597 001c 0433     		adds	r3, r3, #4
 598 001e 7B61     		str	r3, [r7, #20]
 361:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 362:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (magic != ECASM_BINARY_MAGIC)
 599              		.loc 1 362 6
 600 0020 3B69     		ldr	r3, [r7, #16]
 601 0022 0B4A     		ldr	r2, .L37
 602 0024 9342     		cmp	r3, r2
 603 0026 04D0     		beq	.L33
 363:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 364:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Epoch Controller binary is invalid\n");
 604              		.loc 1 364 5
 605 0028 0A48     		ldr	r0, .L37+4
 606 002a FFF7FEFF 		bl	puts
 365:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 366:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return NULL;
 607              		.loc 1 366 12
 608 002e 0023     		movs	r3, #0
 609 0030 0AE0     		b	.L34
 610              	.L33:
 367:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 368:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 369:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   reloc_offset = *((ECFileEntry *)ptr);
 611              		.loc 1 369 16
 612 0032 7B69     		ldr	r3, [r7, #20]
 613 0034 1B68     		ldr	r3, [r3]
 614 0036 FB60     		str	r3, [r7, #12]
 370:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 371:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return (reloc_offset == 0) ? NULL : (const ECFileEntry *)(binary_ptr + reloc_offset);
 615              		.loc 1 371 37
 616 0038 FB68     		ldr	r3, [r7, #12]
 617 003a 002B     		cmp	r3, #0
 618 003c 03D0     		beq	.L35
 619              		.loc 1 371 37 is_stmt 0 discriminator 1
 620 003e 7A68     		ldr	r2, [r7, #4]
 621 0040 FB68     		ldr	r3, [r7, #12]
 622 0042 1344     		add	r3, r3, r2
 623              		.loc 1 371 37
 624 0044 00E0     		b	.L34
 625              	.L35:
 626              		.loc 1 371 37 discriminator 2
 627 0046 0023     		movs	r3, #0
 628              	.L34:
 372:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 629              		.loc 1 372 1 is_stmt 1
 630 0048 1846     		mov	r0, r3
 631 004a 1837     		adds	r7, r7, #24
 632              		.cfi_def_cfa_offset 8
 633 004c BD46     		mov	sp, r7
 634              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccmhSEKI.s 			page 20


 635              		@ sp needed
 636 004e 80BD     		pop	{r7, pc}
 637              	.L38:
 638              		.align	2
 639              	.L37:
 640 0050 3000BFEC 		.word	-323026896
 641 0054 00000000 		.word	.LC0
 642              		.cfi_endproc
 643              	.LFE6:
 645              		.section	.text.ec_get_num_relocs,"ax",%progbits
 646              		.align	1
 647              		.global	ec_get_num_relocs
 648              		.syntax unified
 649              		.thumb
 650              		.thumb_func
 652              	ec_get_num_relocs:
 653              	.LFB7:
 373:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 374:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 375:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the number of different relocations contained in an Epoch Controller binary.
 376:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 377:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] reloc_table_ptr is the pointer to the relocation table (contained in an Epoch Control
 378:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 379:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 380:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the number of different relocations contained in the relocation table contained in the m
 381:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * at \e reloc_table_ptr
 382:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 383:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 384:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** unsigned int ec_get_num_relocs(const ECFileEntry *reloc_table_ptr)
 385:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 654              		.loc 1 385 1
 655              		.cfi_startproc
 656              		@ args = 0, pretend = 0, frame = 16
 657              		@ frame_needed = 1, uses_anonymous_args = 0
 658              		@ link register save eliminated.
 659 0000 80B4     		push	{r7}
 660              		.cfi_def_cfa_offset 4
 661              		.cfi_offset 7, -4
 662 0002 85B0     		sub	sp, sp, #20
 663              		.cfi_def_cfa_offset 24
 664 0004 00AF     		add	r7, sp, #0
 665              		.cfi_def_cfa_register 7
 666 0006 7860     		str	r0, [r7, #4]
 386:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = 0;
 667              		.loc 1 386 15
 668 0008 0023     		movs	r3, #0
 669 000a FB60     		str	r3, [r7, #12]
 387:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 388:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the relocation table, if any
 389:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table_ptr != NULL)
 670              		.loc 1 389 6
 671 000c 7B68     		ldr	r3, [r7, #4]
 672 000e 002B     		cmp	r3, #0
 673 0010 02D0     		beq	.L40
 390:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     size = *reloc_table_ptr;
 674              		.loc 1 390 10
 675 0012 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccmhSEKI.s 			page 21


 676 0014 1B68     		ldr	r3, [r3]
 677 0016 FB60     		str	r3, [r7, #12]
 678              	.L40:
 391:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 392:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return size;
 679              		.loc 1 392 10
 680 0018 FB68     		ldr	r3, [r7, #12]
 393:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 681              		.loc 1 393 1
 682 001a 1846     		mov	r0, r3
 683 001c 1437     		adds	r7, r7, #20
 684              		.cfi_def_cfa_offset 4
 685 001e BD46     		mov	sp, r7
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0020 5DF8047B 		ldr	r7, [sp], #4
 689              		.cfi_restore 7
 690              		.cfi_def_cfa_offset 0
 691 0024 7047     		bx	lr
 692              		.cfi_endproc
 693              	.LFE7:
 695              		.section	.text.ec_get_reloc_id,"ax",%progbits
 696              		.align	1
 697              		.global	ec_get_reloc_id
 698              		.syntax unified
 699              		.thumb
 700              		.thumb_func
 702              	ec_get_reloc_id:
 703              	.LFB8:
 394:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 395:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 396:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the identifier of a relocation contained in an Epoch Controller binary.
 397:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 398:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] reloc_table_ptr is the pointer to the relocation table (contained in an Epoch Control
 399:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 400:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] idx      is the index of the relocation whose identifier must be retrieved
 401:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 402:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the identifier of relocation having index \e idx among the relocations contained in the 
 403:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * contained in the memory area starting at \e reloc_table_ptr, or \e NULL if that relocation does 
 404:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 405:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 406:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** const char *ec_get_reloc_id(const ECFileEntry *reloc_table_ptr, unsigned int idx)
 407:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 704              		.loc 1 407 1
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 24
 707              		@ frame_needed = 1, uses_anonymous_args = 0
 708              		@ link register save eliminated.
 709 0000 80B4     		push	{r7}
 710              		.cfi_def_cfa_offset 4
 711              		.cfi_offset 7, -4
 712 0002 87B0     		sub	sp, sp, #28
 713              		.cfi_def_cfa_offset 32
 714 0004 00AF     		add	r7, sp, #0
 715              		.cfi_def_cfa_register 7
 716 0006 7860     		str	r0, [r7, #4]
 717 0008 3960     		str	r1, [r7]
ARM GAS  /tmp/ccmhSEKI.s 			page 22


 408:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the relocation table, if any
 409:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table_ptr != NULL)
 718              		.loc 1 409 6
 719 000a 7B68     		ldr	r3, [r7, #4]
 720 000c 002B     		cmp	r3, #0
 721 000e 18D0     		beq	.L43
 722              	.LBB2:
 410:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 411:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     const ECFileEntry *ptr = reloc_table_ptr;
 723              		.loc 1 411 24
 724 0010 7B68     		ldr	r3, [r7, #4]
 725 0012 7B61     		str	r3, [r7, #20]
 412:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 413:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry size = *ptr;
 726              		.loc 1 413 17
 727 0014 7B69     		ldr	r3, [r7, #20]
 728 0016 1B68     		ldr	r3, [r3]
 729 0018 3B61     		str	r3, [r7, #16]
 414:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 415:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (idx < size)
 730              		.loc 1 415 8
 731 001a 3A68     		ldr	r2, [r7]
 732 001c 3B69     		ldr	r3, [r7, #16]
 733 001e 9A42     		cmp	r2, r3
 734 0020 0FD2     		bcs	.L43
 735              	.LBB3:
 416:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 417:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr = reloc_table_ptr + 3 * idx + 1;
 736              		.loc 1 417 39
 737 0022 3A68     		ldr	r2, [r7]
 738 0024 1346     		mov	r3, r2
 739 0026 5B00     		lsls	r3, r3, #1
 740 0028 1344     		add	r3, r3, r2
 741 002a 9B00     		lsls	r3, r3, #2
 742 002c 0433     		adds	r3, r3, #4
 743              		.loc 1 417 11
 744 002e 7A68     		ldr	r2, [r7, #4]
 745 0030 1344     		add	r3, r3, r2
 746 0032 7B61     		str	r3, [r7, #20]
 418:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 419:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr;
 747              		.loc 1 419 19
 748 0034 7B69     		ldr	r3, [r7, #20]
 749 0036 1B68     		ldr	r3, [r3]
 750 0038 FB60     		str	r3, [r7, #12]
 420:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 421:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return (const char *)((const uint8_t *)reloc_table_ptr + offset);
 751              		.loc 1 421 14
 752 003a 7A68     		ldr	r2, [r7, #4]
 753 003c FB68     		ldr	r3, [r7, #12]
 754 003e 1344     		add	r3, r3, r2
 755 0040 00E0     		b	.L44
 756              	.L43:
 757              	.LBE3:
 758              	.LBE2:
 422:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 423:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
ARM GAS  /tmp/ccmhSEKI.s 			page 23


 424:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 425:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return NULL;
 759              		.loc 1 425 10
 760 0042 0023     		movs	r3, #0
 761              	.L44:
 426:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 762              		.loc 1 426 1
 763 0044 1846     		mov	r0, r3
 764 0046 1C37     		adds	r7, r7, #28
 765              		.cfi_def_cfa_offset 4
 766 0048 BD46     		mov	sp, r7
 767              		.cfi_def_cfa_register 13
 768              		@ sp needed
 769 004a 5DF8047B 		ldr	r7, [sp], #4
 770              		.cfi_restore 7
 771              		.cfi_def_cfa_offset 0
 772 004e 7047     		bx	lr
 773              		.cfi_endproc
 774              	.LFE8:
 776              		.section	.rodata
 777 03d9 000000   		.align	2
 778              	.LC11:
 779 03dc 4572726F 		.ascii	"Error: Cannot relocate because the pointer to the E"
 779      723A2043 
 779      616E6E6F 
 779      74207265 
 779      6C6F6361 
 780 040f 706F6368 		.ascii	"poch Controller relocation table is invalid\000"
 780      20436F6E 
 780      74726F6C 
 780      6C657220 
 780      72656C6F 
 781 043b 00       		.align	2
 782              	.LC12:
 783 043c 4572726F 		.ascii	"Error: Offset %lu in Epoch Controller binary is inv"
 783      723A204F 
 783      66667365 
 783      7420256C 
 783      7520696E 
 784 046f 616C6964 		.ascii	"alid\012\000"
 784      0A00
 785              		.section	.text.ec_reloc,"ax",%progbits
 786              		.align	1
 787              		.global	ec_reloc
 788              		.syntax unified
 789              		.thumb
 790              		.thumb_func
 792              	ec_reloc:
 793              	.LFB9:
 427:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 428:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 429:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Relocate all the values associated with a relocation specified by using an index.
 430:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 431:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     reloc_table_ptr is the pointer to the relocation table (contained in an Epoch Con
 432:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 433:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    blob         is the pointer to the memory area containing the Epoch Controller
 434:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob (that will be patched)
ARM GAS  /tmp/ccmhSEKI.s 			page 24


 435:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     idx             is the index of the relocation whose values must be
 436:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * relocated
 437:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     base            is the offset that must be added to the values to be relocated
 438:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in,out] prev_base       is the pointer to a memory location containing the previous value
 439:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * associated with this relocation (this memory location will be updated with \e base if this funct
 440:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * successfully)
 441:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 442:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 443:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 444:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 445:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 446:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_reloc(const ECFileEntry *reloc_table_ptr, ECInstr *blob, unsigned int idx, ECAddr base, ECA
 447:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 794              		.loc 1 447 1
 795              		.cfi_startproc
 796              		@ args = 4, pretend = 0, frame = 40
 797              		@ frame_needed = 1, uses_anonymous_args = 0
 798 0000 80B5     		push	{r7, lr}
 799              		.cfi_def_cfa_offset 8
 800              		.cfi_offset 7, -8
 801              		.cfi_offset 14, -4
 802 0002 8AB0     		sub	sp, sp, #40
 803              		.cfi_def_cfa_offset 48
 804 0004 00AF     		add	r7, sp, #0
 805              		.cfi_def_cfa_register 7
 806 0006 F860     		str	r0, [r7, #12]
 807 0008 B960     		str	r1, [r7, #8]
 808 000a 7A60     		str	r2, [r7, #4]
 809 000c 3B60     		str	r3, [r7]
 448:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table_ptr == NULL)
 810              		.loc 1 448 6
 811 000e FB68     		ldr	r3, [r7, #12]
 812 0010 002B     		cmp	r3, #0
 813 0012 04D1     		bne	.L46
 449:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 450:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot relocate because the pointer to the Epoch Controller relocation t
 814              		.loc 1 450 5
 815 0014 2E48     		ldr	r0, .L53
 816 0016 FFF7FEFF 		bl	puts
 451:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 452:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 817              		.loc 1 452 12
 818 001a 0023     		movs	r3, #0
 819 001c 53E0     		b	.L47
 820              	.L46:
 453:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 454:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 455:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (base == *prev_base)
 821              		.loc 1 455 15
 822 001e 3B6B     		ldr	r3, [r7, #48]
 823 0020 1B68     		ldr	r3, [r3]
 824              		.loc 1 455 6
 825 0022 3A68     		ldr	r2, [r7]
 826 0024 9A42     		cmp	r2, r3
 827 0026 01D1     		bne	.L48
 456:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return true;
 828              		.loc 1 456 12
ARM GAS  /tmp/ccmhSEKI.s 			page 25


 829 0028 0123     		movs	r3, #1
 830 002a 4CE0     		b	.L47
 831              	.L48:
 457:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 458:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = reloc_table_ptr;
 832              		.loc 1 458 22
 833 002c FB68     		ldr	r3, [r7, #12]
 834 002e 7B62     		str	r3, [r7, #36]
 459:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 460:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = *ptr;
 835              		.loc 1 460 15
 836 0030 7B6A     		ldr	r3, [r7, #36]
 837 0032 1B68     		ldr	r3, [r3]
 838 0034 FB61     		str	r3, [r7, #28]
 461:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 462:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (idx < size)
 839              		.loc 1 462 6
 840 0036 7A68     		ldr	r2, [r7, #4]
 841 0038 FB69     		ldr	r3, [r7, #28]
 842 003a 9A42     		cmp	r2, r3
 843 003c 3FD2     		bcs	.L49
 844              	.LBB4:
 463:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 464:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = reloc_table_ptr + 3 * idx + 2;
 845              		.loc 1 464 37
 846 003e 7A68     		ldr	r2, [r7, #4]
 847 0040 1346     		mov	r3, r2
 848 0042 5B00     		lsls	r3, r3, #1
 849 0044 1344     		add	r3, r3, r2
 850 0046 9B00     		lsls	r3, r3, #2
 851 0048 0833     		adds	r3, r3, #8
 852              		.loc 1 464 9
 853 004a FA68     		ldr	r2, [r7, #12]
 854 004c 1344     		add	r3, r3, r2
 855 004e 7B62     		str	r3, [r7, #36]
 465:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 466:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry num = *ptr++;
 856              		.loc 1 466 27
 857 0050 7B6A     		ldr	r3, [r7, #36]
 858 0052 1A1D     		adds	r2, r3, #4
 859 0054 7A62     		str	r2, [r7, #36]
 860              		.loc 1 466 17
 861 0056 1B68     		ldr	r3, [r3]
 862 0058 BB61     		str	r3, [r7, #24]
 467:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 468:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry offset = *ptr;
 863              		.loc 1 468 17
 864 005a 7B6A     		ldr	r3, [r7, #36]
 865 005c 1B68     		ldr	r3, [r3]
 866 005e 7B61     		str	r3, [r7, #20]
 469:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 470:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if ((offset % sizeof(ECFileEntry)) != 0)
 867              		.loc 1 470 17
 868 0060 7B69     		ldr	r3, [r7, #20]
 869 0062 03F00303 		and	r3, r3, #3
 870              		.loc 1 470 8
 871 0066 002B     		cmp	r3, #0
ARM GAS  /tmp/ccmhSEKI.s 			page 26


 872 0068 05D0     		beq	.L50
 471:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 472:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Offset %lu in Epoch Controller binary is invalid\n", (unsigned long)of
 873              		.loc 1 472 7
 874 006a 7969     		ldr	r1, [r7, #20]
 875 006c 1948     		ldr	r0, .L53+4
 876 006e FFF7FEFF 		bl	printf
 473:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 474:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 877              		.loc 1 474 14
 878 0072 0023     		movs	r3, #0
 879 0074 27E0     		b	.L47
 880              	.L50:
 475:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 476:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 477:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = (const ECFileEntry *)((const uint8_t *)reloc_table_ptr + offset);
 881              		.loc 1 477 9
 882 0076 FA68     		ldr	r2, [r7, #12]
 883 0078 7B69     		ldr	r3, [r7, #20]
 884 007a 1344     		add	r3, r3, r2
 885 007c 7B62     		str	r3, [r7, #36]
 886              	.LBB5:
 478:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 479:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     for (unsigned int i = 0; i < num; i++)
 887              		.loc 1 479 23
 888 007e 0023     		movs	r3, #0
 889 0080 3B62     		str	r3, [r7, #32]
 890              		.loc 1 479 5
 891 0082 18E0     		b	.L51
 892              	.L52:
 893              	.LBB6:
 480:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 481:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr++;
 894              		.loc 1 481 32
 895 0084 7B6A     		ldr	r3, [r7, #36]
 896 0086 1A1D     		adds	r2, r3, #4
 897 0088 7A62     		str	r2, [r7, #36]
 898              		.loc 1 481 19
 899 008a 1B68     		ldr	r3, [r3]
 900 008c 3B61     		str	r3, [r7, #16]
 482:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 483:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       // offset is from the real beginning of the EC blob, that is, from the first real instruction
 484:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       // following the magic number of the EC blob and its size)
 485:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       blob[offset + 2] += base - *prev_base;
 901              		.loc 1 485 11
 902 008e 3B69     		ldr	r3, [r7, #16]
 903 0090 0233     		adds	r3, r3, #2
 904 0092 9B00     		lsls	r3, r3, #2
 905 0094 BA68     		ldr	r2, [r7, #8]
 906 0096 1344     		add	r3, r3, r2
 907 0098 1968     		ldr	r1, [r3]
 908              		.loc 1 485 34
 909 009a 3B6B     		ldr	r3, [r7, #48]
 910 009c 1B68     		ldr	r3, [r3]
 911              		.loc 1 485 32
 912 009e 3A68     		ldr	r2, [r7]
 913 00a0 D21A     		subs	r2, r2, r3
ARM GAS  /tmp/ccmhSEKI.s 			page 27


 914              		.loc 1 485 11
 915 00a2 3B69     		ldr	r3, [r7, #16]
 916 00a4 0233     		adds	r3, r3, #2
 917 00a6 9B00     		lsls	r3, r3, #2
 918 00a8 B868     		ldr	r0, [r7, #8]
 919 00aa 0344     		add	r3, r3, r0
 920              		.loc 1 485 24
 921 00ac 0A44     		add	r2, r2, r1
 922 00ae 1A60     		str	r2, [r3]
 923              	.LBE6:
 479:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 924              		.loc 1 479 40 discriminator 3
 925 00b0 3B6A     		ldr	r3, [r7, #32]
 926 00b2 0133     		adds	r3, r3, #1
 927 00b4 3B62     		str	r3, [r7, #32]
 928              	.L51:
 479:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 929              		.loc 1 479 32 discriminator 1
 930 00b6 3A6A     		ldr	r2, [r7, #32]
 931 00b8 BB69     		ldr	r3, [r7, #24]
 932 00ba 9A42     		cmp	r2, r3
 933 00bc E2D3     		bcc	.L52
 934              	.L49:
 935              	.LBE5:
 936              	.LBE4:
 486:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 487:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 488:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 489:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   *prev_base = base;
 937              		.loc 1 489 14
 938 00be 3B6B     		ldr	r3, [r7, #48]
 939 00c0 3A68     		ldr	r2, [r7]
 940 00c2 1A60     		str	r2, [r3]
 490:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 491:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
 941              		.loc 1 491 10
 942 00c4 0123     		movs	r3, #1
 943              	.L47:
 492:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 944              		.loc 1 492 1
 945 00c6 1846     		mov	r0, r3
 946 00c8 2837     		adds	r7, r7, #40
 947              		.cfi_def_cfa_offset 8
 948 00ca BD46     		mov	sp, r7
 949              		.cfi_def_cfa_register 13
 950              		@ sp needed
 951 00cc 80BD     		pop	{r7, pc}
 952              	.L54:
 953 00ce 00BF     		.align	2
 954              	.L53:
 955 00d0 DC030000 		.word	.LC11
 956 00d4 3C040000 		.word	.LC12
 957              		.cfi_endproc
 958              	.LFE9:
 960              		.section	.rodata
 961 0475 000000   		.align	2
 962              	.LC13:
ARM GAS  /tmp/ccmhSEKI.s 			page 28


 963 0478 4572726F 		.ascii	"Error: Relocation symbol '%s' not found in Epoch Co"
 963      723A2052 
 963      656C6F63 
 963      6174696F 
 963      6E207379 
 964 04ab 6E74726F 		.ascii	"ntroller relocation table\012\000"
 964      6C6C6572 
 964      2072656C 
 964      6F636174 
 964      696F6E20 
 965              		.section	.text.ec_reloc_by_id,"ax",%progbits
 966              		.align	1
 967              		.global	ec_reloc_by_id
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 972              	ec_reloc_by_id:
 973              	.LFB10:
 493:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 494:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 495:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Relocate all the values associated with a relocation specified by using an identifier.
 496:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 497:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     reloc_table_ptr is the pointer to the relocation table (contained in an Epoch Con
 498:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 499:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    blob         is the pointer to the memory area containing the Epoch Controller
 500:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob (that will be patched)
 501:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     id       is the identifier of the relocation whose values must be relocated
 502:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     base            is the offset that must be added to the values to be relocated
 503:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in,out] prev_base       is the pointer to a memory location containing the previous value
 504:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * associated with this relocation (this memory location will be updated with \e base if this funct
 505:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * successfully)
 506:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 507:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 508:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 509:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 510:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 511:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_reloc_by_id(const ECFileEntry *reloc_table_ptr, ECInstr *blob, const char *id, ECAddr base,
 512:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 974              		.loc 1 512 1
 975              		.cfi_startproc
 976              		@ args = 4, pretend = 0, frame = 56
 977              		@ frame_needed = 1, uses_anonymous_args = 0
 978 0000 80B5     		push	{r7, lr}
 979              		.cfi_def_cfa_offset 8
 980              		.cfi_offset 7, -8
 981              		.cfi_offset 14, -4
 982 0002 8EB0     		sub	sp, sp, #56
 983              		.cfi_def_cfa_offset 64
 984 0004 00AF     		add	r7, sp, #0
 985              		.cfi_def_cfa_register 7
 986 0006 F860     		str	r0, [r7, #12]
 987 0008 B960     		str	r1, [r7, #8]
 988 000a 7A60     		str	r2, [r7, #4]
 989 000c 3B60     		str	r3, [r7]
 513:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (reloc_table_ptr == NULL)
 990              		.loc 1 513 6
 991 000e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccmhSEKI.s 			page 29


 992 0010 002B     		cmp	r3, #0
 993 0012 04D1     		bne	.L56
 514:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 515:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot relocate because the pointer to the Epoch Controller relocation t
 994              		.loc 1 515 5
 995 0014 3C48     		ldr	r0, .L65
 996 0016 FFF7FEFF 		bl	puts
 516:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 517:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 997              		.loc 1 517 12
 998 001a 0023     		movs	r3, #0
 999 001c 70E0     		b	.L57
 1000              	.L56:
 518:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 519:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 520:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (base == *prev_base)
 1001              		.loc 1 520 15
 1002 001e 3B6C     		ldr	r3, [r7, #64]
 1003 0020 1B68     		ldr	r3, [r3]
 1004              		.loc 1 520 6
 1005 0022 3A68     		ldr	r2, [r7]
 1006 0024 9A42     		cmp	r2, r3
 1007 0026 01D1     		bne	.L58
 521:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return true;
 1008              		.loc 1 521 12
 1009 0028 0123     		movs	r3, #1
 1010 002a 69E0     		b	.L57
 1011              	.L58:
 522:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 523:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = reloc_table_ptr;
 1012              		.loc 1 523 22
 1013 002c FB68     		ldr	r3, [r7, #12]
 1014 002e 7B63     		str	r3, [r7, #52]
 524:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 525:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = *ptr;
 1015              		.loc 1 525 15
 1016 0030 7B6B     		ldr	r3, [r7, #52]
 1017 0032 1B68     		ldr	r3, [r3]
 1018 0034 BB62     		str	r3, [r7, #40]
 1019              	.LBB7:
 526:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 527:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   for (unsigned int n = 0; n < size; n++)
 1020              		.loc 1 527 21
 1021 0036 0023     		movs	r3, #0
 1022 0038 3B63     		str	r3, [r7, #48]
 1023              		.loc 1 527 3
 1024 003a 58E0     		b	.L59
 1025              	.L64:
 1026              	.LBB8:
 528:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 529:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = reloc_table_ptr + 3 * n + 1;
 1027              		.loc 1 529 35
 1028 003c 3A6B     		ldr	r2, [r7, #48]
 1029 003e 1346     		mov	r3, r2
 1030 0040 5B00     		lsls	r3, r3, #1
 1031 0042 1344     		add	r3, r3, r2
 1032 0044 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccmhSEKI.s 			page 30


 1033 0046 0433     		adds	r3, r3, #4
 1034              		.loc 1 529 9
 1035 0048 FA68     		ldr	r2, [r7, #12]
 1036 004a 1344     		add	r3, r3, r2
 1037 004c 7B63     		str	r3, [r7, #52]
 530:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 531:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry offset = *ptr;
 1038              		.loc 1 531 17
 1039 004e 7B6B     		ldr	r3, [r7, #52]
 1040 0050 1B68     		ldr	r3, [r3]
 1041 0052 7B62     		str	r3, [r7, #36]
 532:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 533:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     const char *tmp_id = (const char *)((const uint8_t *)reloc_table_ptr + offset);
 1042              		.loc 1 533 17
 1043 0054 FA68     		ldr	r2, [r7, #12]
 1044 0056 7B6A     		ldr	r3, [r7, #36]
 1045 0058 1344     		add	r3, r3, r2
 1046 005a 3B62     		str	r3, [r7, #32]
 534:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 535:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (strcmp(id, tmp_id) == 0)
 1047              		.loc 1 535 9
 1048 005c 396A     		ldr	r1, [r7, #32]
 1049 005e 7868     		ldr	r0, [r7, #4]
 1050 0060 FFF7FEFF 		bl	strcmp
 1051 0064 0346     		mov	r3, r0
 1052              		.loc 1 535 8 discriminator 1
 1053 0066 002B     		cmp	r3, #0
 1054 0068 3ED1     		bne	.L60
 1055              	.LBB9:
 536:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 537:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr++;
 1056              		.loc 1 537 10
 1057 006a 7B6B     		ldr	r3, [r7, #52]
 1058 006c 0433     		adds	r3, r3, #4
 1059 006e 7B63     		str	r3, [r7, #52]
 538:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 539:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry num = *ptr++;
 1060              		.loc 1 539 29
 1061 0070 7B6B     		ldr	r3, [r7, #52]
 1062 0072 1A1D     		adds	r2, r3, #4
 1063 0074 7A63     		str	r2, [r7, #52]
 1064              		.loc 1 539 19
 1065 0076 1B68     		ldr	r3, [r3]
 1066 0078 FB61     		str	r3, [r7, #28]
 540:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 541:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr;
 1067              		.loc 1 541 19
 1068 007a 7B6B     		ldr	r3, [r7, #52]
 1069 007c 1B68     		ldr	r3, [r3]
 1070 007e BB61     		str	r3, [r7, #24]
 542:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 543:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       if ((offset % sizeof(ECFileEntry)) != 0)
 1071              		.loc 1 543 19
 1072 0080 BB69     		ldr	r3, [r7, #24]
 1073 0082 03F00303 		and	r3, r3, #3
 1074              		.loc 1 543 10
 1075 0086 002B     		cmp	r3, #0
ARM GAS  /tmp/ccmhSEKI.s 			page 31


 1076 0088 05D0     		beq	.L61
 544:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 545:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         LL_ATON_PRINTF("Error: Offset %lu in Epoch Controller binary is invalid\n", (unsigned long)
 1077              		.loc 1 545 9
 1078 008a B969     		ldr	r1, [r7, #24]
 1079 008c 1F48     		ldr	r0, .L65+4
 1080 008e FFF7FEFF 		bl	printf
 546:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 547:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         return false;
 1081              		.loc 1 547 16
 1082 0092 0023     		movs	r3, #0
 1083 0094 34E0     		b	.L57
 1084              	.L61:
 548:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       }
 549:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 550:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr = (const ECFileEntry *)((const uint8_t *)reloc_table_ptr + offset);
 1085              		.loc 1 550 11
 1086 0096 FA68     		ldr	r2, [r7, #12]
 1087 0098 BB69     		ldr	r3, [r7, #24]
 1088 009a 1344     		add	r3, r3, r2
 1089 009c 7B63     		str	r3, [r7, #52]
 1090              	.LBB10:
 551:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 552:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       for (unsigned int i = 0; i < num; i++)
 1091              		.loc 1 552 25
 1092 009e 0023     		movs	r3, #0
 1093 00a0 FB62     		str	r3, [r7, #44]
 1094              		.loc 1 552 7
 1095 00a2 18E0     		b	.L62
 1096              	.L63:
 1097              	.LBB11:
 553:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 554:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         ECFileEntry offset = *ptr++;
 1098              		.loc 1 554 34
 1099 00a4 7B6B     		ldr	r3, [r7, #52]
 1100 00a6 1A1D     		adds	r2, r3, #4
 1101 00a8 7A63     		str	r2, [r7, #52]
 1102              		.loc 1 554 21
 1103 00aa 1B68     		ldr	r3, [r3]
 1104 00ac 7B61     		str	r3, [r7, #20]
 555:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 556:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         // offset is from the real beginning of the EC blob, that is, from the first real instructi
 557:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         // following the magic number of the EC blob and its size)
 558:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         blob[offset + 2] += base - *prev_base;
 1105              		.loc 1 558 13
 1106 00ae 7B69     		ldr	r3, [r7, #20]
 1107 00b0 0233     		adds	r3, r3, #2
 1108 00b2 9B00     		lsls	r3, r3, #2
 1109 00b4 BA68     		ldr	r2, [r7, #8]
 1110 00b6 1344     		add	r3, r3, r2
 1111 00b8 1968     		ldr	r1, [r3]
 1112              		.loc 1 558 36
 1113 00ba 3B6C     		ldr	r3, [r7, #64]
 1114 00bc 1B68     		ldr	r3, [r3]
 1115              		.loc 1 558 34
 1116 00be 3A68     		ldr	r2, [r7]
 1117 00c0 D21A     		subs	r2, r2, r3
ARM GAS  /tmp/ccmhSEKI.s 			page 32


 1118              		.loc 1 558 13
 1119 00c2 7B69     		ldr	r3, [r7, #20]
 1120 00c4 0233     		adds	r3, r3, #2
 1121 00c6 9B00     		lsls	r3, r3, #2
 1122 00c8 B868     		ldr	r0, [r7, #8]
 1123 00ca 0344     		add	r3, r3, r0
 1124              		.loc 1 558 26
 1125 00cc 0A44     		add	r2, r2, r1
 1126 00ce 1A60     		str	r2, [r3]
 1127              	.LBE11:
 552:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 1128              		.loc 1 552 42 discriminator 3
 1129 00d0 FB6A     		ldr	r3, [r7, #44]
 1130 00d2 0133     		adds	r3, r3, #1
 1131 00d4 FB62     		str	r3, [r7, #44]
 1132              	.L62:
 552:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 1133              		.loc 1 552 34 discriminator 1
 1134 00d6 FA6A     		ldr	r2, [r7, #44]
 1135 00d8 FB69     		ldr	r3, [r7, #28]
 1136 00da 9A42     		cmp	r2, r3
 1137 00dc E2D3     		bcc	.L63
 1138              	.LBE10:
 559:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       }
 560:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 561:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       *prev_base = base;
 1139              		.loc 1 561 18
 1140 00de 3B6C     		ldr	r3, [r7, #64]
 1141 00e0 3A68     		ldr	r2, [r7]
 1142 00e2 1A60     		str	r2, [r3]
 562:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 563:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return true;
 1143              		.loc 1 563 14
 1144 00e4 0123     		movs	r3, #1
 1145 00e6 0BE0     		b	.L57
 1146              	.L60:
 1147              	.LBE9:
 1148              	.LBE8:
 527:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 1149              		.loc 1 527 39 discriminator 2
 1150 00e8 3B6B     		ldr	r3, [r7, #48]
 1151 00ea 0133     		adds	r3, r3, #1
 1152 00ec 3B63     		str	r3, [r7, #48]
 1153              	.L59:
 527:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 1154              		.loc 1 527 30 discriminator 1
 1155 00ee 3A6B     		ldr	r2, [r7, #48]
 1156 00f0 BB6A     		ldr	r3, [r7, #40]
 1157 00f2 9A42     		cmp	r2, r3
 1158 00f4 A2D3     		bcc	.L64
 1159              	.LBE7:
 564:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 565:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 566:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 567:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   LL_ATON_PRINTF("Error: Relocation symbol '%s' not found in Epoch Controller relocation table\n", 
 1160              		.loc 1 567 3
 1161 00f6 7968     		ldr	r1, [r7, #4]
ARM GAS  /tmp/ccmhSEKI.s 			page 33


 1162 00f8 0548     		ldr	r0, .L65+8
 1163 00fa FFF7FEFF 		bl	printf
 568:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 569:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return false;
 1164              		.loc 1 569 10
 1165 00fe 0023     		movs	r3, #0
 1166              	.L57:
 570:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1167              		.loc 1 570 1
 1168 0100 1846     		mov	r0, r3
 1169 0102 3837     		adds	r7, r7, #56
 1170              		.cfi_def_cfa_offset 8
 1171 0104 BD46     		mov	sp, r7
 1172              		.cfi_def_cfa_register 13
 1173              		@ sp needed
 1174 0106 80BD     		pop	{r7, pc}
 1175              	.L66:
 1176              		.align	2
 1177              	.L65:
 1178 0108 DC030000 		.word	.LC11
 1179 010c 3C040000 		.word	.LC12
 1180 0110 78040000 		.word	.LC13
 1181              		.cfi_endproc
 1182              	.LFE10:
 1184              		.section	.rodata
 1185 04c6 0000     		.align	2
 1186              	.LC14:
 1187 04c8 4572726F 		.ascii	"Error: Patch table is not present\000"
 1187      723A2050 
 1187      61746368 
 1187      20746162 
 1187      6C652069 
 1188 04ea 0000     		.align	2
 1189              	.LC15:
 1190 04ec 4572726F 		.ascii	"Error: Size of the patch table of an Epoch Controll"
 1190      723A2053 
 1190      697A6520 
 1190      6F662074 
 1190      68652070 
 1191 051f 65722062 		.ascii	"er blob must be 4-byte aligned\000"
 1191      6C6F6220 
 1191      6D757374 
 1191      20626520 
 1191      342D6279 
 1192 053e 0000     		.align	2
 1193              	.LC16:
 1194 0540 4572726F 		.ascii	"Error: Memory allocated for the patch table of the "
 1194      723A204D 
 1194      656D6F72 
 1194      7920616C 
 1194      6C6F6361 
 1195 0573 45706F63 		.ascii	"Epoch Controller blob must be 4-byte aligned\000"
 1195      6820436F 
 1195      6E74726F 
 1195      6C6C6572 
 1195      20626C6F 
 1196              		.align	2
ARM GAS  /tmp/ccmhSEKI.s 			page 34


 1197              	.LC17:
 1198 05a0 4572726F 		.ascii	"Error: Size of memory allocated for the patch table"
 1198      723A2053 
 1198      697A6520 
 1198      6F66206D 
 1198      656D6F72 
 1199 05d3 206F6620 		.ascii	" of the Epoch Controller has not been specified\000"
 1199      74686520 
 1199      45706F63 
 1199      6820436F 
 1199      6E74726F 
 1200 0603 00       		.align	2
 1201              	.LC18:
 1202 0604 4572726F 		.ascii	"Error: Memory allocated for the patch table of the "
 1202      723A204D 
 1202      656D6F72 
 1202      7920616C 
 1202      6C6F6361 
 1203 0637 45706F63 		.ascii	"Epoch Controller blob is not sufficient (at least s"
 1203      6820436F 
 1203      6E74726F 
 1203      6C6C6572 
 1203      20626C6F 
 1204 066a 70616365 		.ascii	"pace for %u 32-bit words must be allocated)\012\000"
 1204      20666F72 
 1204      20257520 
 1204      33322D62 
 1204      69742077 
 1205              		.section	.text.ec_copy_patch_table,"ax",%progbits
 1206              		.align	1
 1207              		.global	ec_copy_patch_table
 1208              		.syntax unified
 1209              		.thumb
 1210              		.thumb_func
 1212              	ec_copy_patch_table:
 1213              	.LFB11:
 571:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 572:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 573:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Copy to memory the patch table contained in an Epoch Controller binary.
 574:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 575:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    patch_table     is the pointer to the memory area (which must be already allocate
 576:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * that will contain the Epoch Controller blob
 577:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     binary_ptr      is the pointer to the memory area containing the whole Epoch Cont
 578:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in,out] patch_table_size is the pointer to the variable that,
 579:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * if \e patch_table is not \e NULL, contains the size in terms of 32-bit words of the memory area 
 580:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * patch_table or, if \e patch_table is \e NULL, will contain the size in terms of 32-bit words of 
 581:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>patch_table == NULL && patch_table_size != NULL</em> ==> the s
 582:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * table must be retrieved
 583:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>patch_table != NULL && patch_table_size != NULL</em> ==> the p
 584:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * be copied
 585:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * (\e patch_table_size is used for checking that the allocated space is sufficient)
 586:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>patch_table != NULL && patch_table_size == NULL</em> ==> not a
 587:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *                             - <em>patch_table == NULL && patch_table_size == NULL</em> ==> not a
 588:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 589:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 590:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 591:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
ARM GAS  /tmp/ccmhSEKI.s 			page 35


 592:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 593:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_copy_patch_table(ECFileEntry *patch_table, const uint8_t *binary_ptr, unsigned int *patch_t
 594:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1214              		.loc 1 594 1
 1215              		.cfi_startproc
 1216              		@ args = 0, pretend = 0, frame = 48
 1217              		@ frame_needed = 1, uses_anonymous_args = 0
 1218 0000 80B5     		push	{r7, lr}
 1219              		.cfi_def_cfa_offset 8
 1220              		.cfi_offset 7, -8
 1221              		.cfi_offset 14, -4
 1222 0002 8CB0     		sub	sp, sp, #48
 1223              		.cfi_def_cfa_offset 56
 1224 0004 00AF     		add	r7, sp, #0
 1225              		.cfi_def_cfa_register 7
 1226 0006 F860     		str	r0, [r7, #12]
 1227 0008 B960     		str	r1, [r7, #8]
 1228 000a 7A60     		str	r2, [r7, #4]
 595:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = (const ECFileEntry *)binary_ptr;
 1229              		.loc 1 595 22
 1230 000c BB68     		ldr	r3, [r7, #8]
 1231 000e BB62     		str	r3, [r7, #40]
 596:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 597:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the binary header
 598:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 599:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry magic = *ptr++;
 1232              		.loc 1 599 27
 1233 0010 BB6A     		ldr	r3, [r7, #40]
 1234 0012 1A1D     		adds	r2, r3, #4
 1235 0014 BA62     		str	r2, [r7, #40]
 1236              		.loc 1 599 15
 1237 0016 1B68     		ldr	r3, [r3]
 1238 0018 7B62     		str	r3, [r7, #36]
 600:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 601:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (magic != ECASM_BINARY_MAGIC)
 1239              		.loc 1 601 6
 1240 001a 7B6A     		ldr	r3, [r7, #36]
 1241 001c 374A     		ldr	r2, .L78
 1242 001e 9342     		cmp	r3, r2
 1243 0020 04D0     		beq	.L68
 602:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 603:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Epoch Controller binary is invalid\n");
 1244              		.loc 1 603 5
 1245 0022 3748     		ldr	r0, .L78+4
 1246 0024 FFF7FEFF 		bl	puts
 604:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 605:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 1247              		.loc 1 605 12
 1248 0028 0023     		movs	r3, #0
 1249 002a 62E0     		b	.L69
 1250              	.L68:
 606:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 607:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 608:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr++;
 1251              		.loc 1 608 6
 1252 002c BB6A     		ldr	r3, [r7, #40]
 1253 002e 0433     		adds	r3, r3, #4
ARM GAS  /tmp/ccmhSEKI.s 			page 36


 1254 0030 BB62     		str	r3, [r7, #40]
 609:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 610:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry patch_table_offset = *(ptr++);
 1255              		.loc 1 610 41
 1256 0032 BB6A     		ldr	r3, [r7, #40]
 1257 0034 1A1D     		adds	r2, r3, #4
 1258 0036 BA62     		str	r2, [r7, #40]
 1259              		.loc 1 610 15
 1260 0038 1B68     		ldr	r3, [r3]
 1261 003a 3B62     		str	r3, [r7, #32]
 611:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry debug_offset = *(ptr++);
 1262              		.loc 1 611 35
 1263 003c BB6A     		ldr	r3, [r7, #40]
 1264 003e 1A1D     		adds	r2, r3, #4
 1265 0040 BA62     		str	r2, [r7, #40]
 1266              		.loc 1 611 15
 1267 0042 1B68     		ldr	r3, [r3]
 1268 0044 FB61     		str	r3, [r7, #28]
 612:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry blob_offset = *(ptr++);
 1269              		.loc 1 612 34
 1270 0046 BB6A     		ldr	r3, [r7, #40]
 1271 0048 1A1D     		adds	r2, r3, #4
 1272 004a BA62     		str	r2, [r7, #40]
 1273              		.loc 1 612 15
 1274 004c 1B68     		ldr	r3, [r3]
 1275 004e BB61     		str	r3, [r7, #24]
 613:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 614:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_offset == 0)
 1276              		.loc 1 614 6
 1277 0050 3B6A     		ldr	r3, [r7, #32]
 1278 0052 002B     		cmp	r3, #0
 1279 0054 04D1     		bne	.L70
 615:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 616:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Patch table is not present\n");
 1280              		.loc 1 616 5
 1281 0056 2B48     		ldr	r0, .L78+8
 1282 0058 FFF7FEFF 		bl	puts
 617:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 618:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 1283              		.loc 1 618 12
 1284 005c 0023     		movs	r3, #0
 1285 005e 48E0     		b	.L69
 1286              	.L70:
 619:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 620:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 621:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry end = blob_offset;
 1287              		.loc 1 621 15
 1288 0060 BB69     		ldr	r3, [r7, #24]
 1289 0062 FB62     		str	r3, [r7, #44]
 622:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 623:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (debug_offset != 0)
 1290              		.loc 1 623 6
 1291 0064 FB69     		ldr	r3, [r7, #28]
 1292 0066 002B     		cmp	r3, #0
 1293 0068 01D0     		beq	.L71
 624:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     end = debug_offset;
 1294              		.loc 1 624 9
ARM GAS  /tmp/ccmhSEKI.s 			page 37


 1295 006a FB69     		ldr	r3, [r7, #28]
 1296 006c FB62     		str	r3, [r7, #44]
 1297              	.L71:
 625:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 626:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = end - patch_table_offset;
 1298              		.loc 1 626 15
 1299 006e FA6A     		ldr	r2, [r7, #44]
 1300 0070 3B6A     		ldr	r3, [r7, #32]
 1301 0072 D31A     		subs	r3, r2, r3
 1302 0074 7B61     		str	r3, [r7, #20]
 627:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 628:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if ((size % 4) != 0)
 1303              		.loc 1 628 13
 1304 0076 7B69     		ldr	r3, [r7, #20]
 1305 0078 03F00303 		and	r3, r3, #3
 1306              		.loc 1 628 6
 1307 007c 002B     		cmp	r3, #0
 1308 007e 04D0     		beq	.L72
 629:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 630:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Size of the patch table of an Epoch Controller blob must be 4-byte align
 1309              		.loc 1 630 5
 1310 0080 2148     		ldr	r0, .L78+12
 1311 0082 FFF7FEFF 		bl	puts
 631:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 632:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 1312              		.loc 1 632 12
 1313 0086 0023     		movs	r3, #0
 1314 0088 33E0     		b	.L69
 1315              	.L72:
 633:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 634:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 635:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   size /= 4;
 1316              		.loc 1 635 8
 1317 008a 7B69     		ldr	r3, [r7, #20]
 1318 008c 9B08     		lsrs	r3, r3, #2
 1319 008e 7B61     		str	r3, [r7, #20]
 636:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 637:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table == NULL)
 1320              		.loc 1 637 6
 1321 0090 FB68     		ldr	r3, [r7, #12]
 1322 0092 002B     		cmp	r3, #0
 1323 0094 06D1     		bne	.L73
 638:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 639:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (patch_table_size != NULL)
 1324              		.loc 1 639 8
 1325 0096 7B68     		ldr	r3, [r7, #4]
 1326 0098 002B     		cmp	r3, #0
 1327 009a 29D0     		beq	.L74
 640:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       *patch_table_size = size;
 1328              		.loc 1 640 25
 1329 009c 7B68     		ldr	r3, [r7, #4]
 1330 009e 7A69     		ldr	r2, [r7, #20]
 1331 00a0 1A60     		str	r2, [r3]
 1332 00a2 25E0     		b	.L74
 1333              	.L73:
 641:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 642:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   else
ARM GAS  /tmp/ccmhSEKI.s 			page 38


 643:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 644:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if ((((intptr_t)patch_table) % 4) != 0)
 1334              		.loc 1 644 39
 1335 00a4 FB68     		ldr	r3, [r7, #12]
 1336 00a6 03F00303 		and	r3, r3, #3
 1337              		.loc 1 644 8
 1338 00aa 002B     		cmp	r3, #0
 1339 00ac 04D0     		beq	.L75
 645:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 646:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF(
 1340              		.loc 1 646 7
 1341 00ae 1748     		ldr	r0, .L78+16
 1342 00b0 FFF7FEFF 		bl	puts
 647:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           "Error: Memory allocated for the patch table of the Epoch Controller blob must be 4-byte 
 648:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 649:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 1343              		.loc 1 649 14
 1344 00b4 0023     		movs	r3, #0
 1345 00b6 1CE0     		b	.L69
 1346              	.L75:
 650:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 651:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 652:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (patch_table_size == NULL)
 1347              		.loc 1 652 8
 1348 00b8 7B68     		ldr	r3, [r7, #4]
 1349 00ba 002B     		cmp	r3, #0
 1350 00bc 04D1     		bne	.L76
 653:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 654:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF(
 1351              		.loc 1 654 7
 1352 00be 1448     		ldr	r0, .L78+20
 1353 00c0 FFF7FEFF 		bl	puts
 655:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****           "Error: Size of memory allocated for the patch table of the Epoch Controller has not been
 656:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 657:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 1354              		.loc 1 657 14
 1355 00c4 0023     		movs	r3, #0
 1356 00c6 14E0     		b	.L69
 1357              	.L76:
 658:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 659:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 660:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (*patch_table_size < size)
 1358              		.loc 1 660 9
 1359 00c8 7B68     		ldr	r3, [r7, #4]
 1360 00ca 1B68     		ldr	r3, [r3]
 1361              		.loc 1 660 8
 1362 00cc 7A69     		ldr	r2, [r7, #20]
 1363 00ce 9A42     		cmp	r2, r3
 1364 00d0 05D9     		bls	.L77
 661:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 662:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Memory allocated for the patch table of the Epoch Controller blob is n
 1365              		.loc 1 662 7
 1366 00d2 7969     		ldr	r1, [r7, #20]
 1367 00d4 0F48     		ldr	r0, .L78+24
 1368 00d6 FFF7FEFF 		bl	printf
 663:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****                      "least space for %u "
 664:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****                      "32-bit words must be allocated)\n",
ARM GAS  /tmp/ccmhSEKI.s 			page 39


 665:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****                      size);
 666:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 667:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 1369              		.loc 1 667 14
 1370 00da 0023     		movs	r3, #0
 1371 00dc 09E0     		b	.L69
 1372              	.L77:
 668:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 669:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 670:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     memcpy(patch_table, binary_ptr + patch_table_offset, size * 4);
 1373              		.loc 1 670 36
 1374 00de BA68     		ldr	r2, [r7, #8]
 1375 00e0 3B6A     		ldr	r3, [r7, #32]
 1376 00e2 D118     		adds	r1, r2, r3
 1377              		.loc 1 670 63
 1378 00e4 7B69     		ldr	r3, [r7, #20]
 1379 00e6 9B00     		lsls	r3, r3, #2
 1380              		.loc 1 670 5
 1381 00e8 1A46     		mov	r2, r3
 1382 00ea F868     		ldr	r0, [r7, #12]
 1383 00ec FFF7FEFF 		bl	memcpy
 1384              	.L74:
 671:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 672:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 673:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
 1385              		.loc 1 673 10
 1386 00f0 0123     		movs	r3, #1
 1387              	.L69:
 674:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1388              		.loc 1 674 1
 1389 00f2 1846     		mov	r0, r3
 1390 00f4 3037     		adds	r7, r7, #48
 1391              		.cfi_def_cfa_offset 8
 1392 00f6 BD46     		mov	sp, r7
 1393              		.cfi_def_cfa_register 13
 1394              		@ sp needed
 1395 00f8 80BD     		pop	{r7, pc}
 1396              	.L79:
 1397 00fa 00BF     		.align	2
 1398              	.L78:
 1399 00fc 3000BFEC 		.word	-323026896
 1400 0100 00000000 		.word	.LC0
 1401 0104 C8040000 		.word	.LC14
 1402 0108 EC040000 		.word	.LC15
 1403 010c 40050000 		.word	.LC16
 1404 0110 A0050000 		.word	.LC17
 1405 0114 04060000 		.word	.LC18
 1406              		.cfi_endproc
 1407              	.LFE11:
 1409              		.section	.text.ec_get_patch_table_ptr,"ax",%progbits
 1410              		.align	1
 1411              		.global	ec_get_patch_table_ptr
 1412              		.syntax unified
 1413              		.thumb
 1414              		.thumb_func
 1416              	ec_get_patch_table_ptr:
 1417              	.LFB12:
ARM GAS  /tmp/ccmhSEKI.s 			page 40


 675:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 676:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 677:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Get the pointer to the patch table contained in an Epoch Controller binary.
 678:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 679:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] binary_ptr is the pointer to the memory area containing the whole Epoch Controller bi
 680:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 681:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the pointer to the patch table contained in the Epoch Controller binary pointed by \e bi
 682:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * NULL if the Epoch Controller binary does not contain any patch table or on errors
 683:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 684:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 685:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** const ECFileEntry *ec_get_patch_table_ptr(const uint8_t *binary_ptr)
 686:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1418              		.loc 1 686 1
 1419              		.cfi_startproc
 1420              		@ args = 0, pretend = 0, frame = 24
 1421              		@ frame_needed = 1, uses_anonymous_args = 0
 1422 0000 80B5     		push	{r7, lr}
 1423              		.cfi_def_cfa_offset 8
 1424              		.cfi_offset 7, -8
 1425              		.cfi_offset 14, -4
 1426 0002 86B0     		sub	sp, sp, #24
 1427              		.cfi_def_cfa_offset 32
 1428 0004 00AF     		add	r7, sp, #0
 1429              		.cfi_def_cfa_register 7
 1430 0006 7860     		str	r0, [r7, #4]
 687:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const uint8_t *ptr = binary_ptr;
 1431              		.loc 1 687 18
 1432 0008 7B68     		ldr	r3, [r7, #4]
 1433 000a 7B61     		str	r3, [r7, #20]
 688:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 689:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the binary header
 690:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 691:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry magic = 0;
 1434              		.loc 1 691 15
 1435 000c 0023     		movs	r3, #0
 1436 000e 3B61     		str	r3, [r7, #16]
 692:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry patch_offset = 0;
 1437              		.loc 1 692 15
 1438 0010 0023     		movs	r3, #0
 1439 0012 FB60     		str	r3, [r7, #12]
 693:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 694:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   magic = *((ECFileEntry *)ptr);
 1440              		.loc 1 694 9
 1441 0014 7B69     		ldr	r3, [r7, #20]
 1442 0016 1B68     		ldr	r3, [r3]
 1443 0018 3B61     		str	r3, [r7, #16]
 695:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 696:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECFileEntry);
 1444              		.loc 1 696 7
 1445 001a 7B69     		ldr	r3, [r7, #20]
 1446 001c 0433     		adds	r3, r3, #4
 1447 001e 7B61     		str	r3, [r7, #20]
 697:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 698:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (magic != ECASM_BINARY_MAGIC)
 1448              		.loc 1 698 6
 1449 0020 3B69     		ldr	r3, [r7, #16]
 1450 0022 0D4A     		ldr	r2, .L85
ARM GAS  /tmp/ccmhSEKI.s 			page 41


 1451 0024 9342     		cmp	r3, r2
 1452 0026 04D0     		beq	.L81
 699:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 700:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Epoch Controller binary is invalid\n");
 1453              		.loc 1 700 5
 1454 0028 0C48     		ldr	r0, .L85+4
 1455 002a FFF7FEFF 		bl	puts
 701:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 702:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return NULL;
 1456              		.loc 1 702 12
 1457 002e 0023     		movs	r3, #0
 1458 0030 0DE0     		b	.L82
 1459              	.L81:
 703:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 704:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 705:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ptr += sizeof(ECFileEntry);
 1460              		.loc 1 705 7
 1461 0032 7B69     		ldr	r3, [r7, #20]
 1462 0034 0433     		adds	r3, r3, #4
 1463 0036 7B61     		str	r3, [r7, #20]
 706:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 707:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   patch_offset = *((ECFileEntry *)ptr);
 1464              		.loc 1 707 16
 1465 0038 7B69     		ldr	r3, [r7, #20]
 1466 003a 1B68     		ldr	r3, [r3]
 1467 003c FB60     		str	r3, [r7, #12]
 708:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 709:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return (patch_offset == 0) ? NULL : (const ECFileEntry *)(binary_ptr + patch_offset);
 1468              		.loc 1 709 37
 1469 003e FB68     		ldr	r3, [r7, #12]
 1470 0040 002B     		cmp	r3, #0
 1471 0042 03D0     		beq	.L83
 1472              		.loc 1 709 37 is_stmt 0 discriminator 1
 1473 0044 7A68     		ldr	r2, [r7, #4]
 1474 0046 FB68     		ldr	r3, [r7, #12]
 1475 0048 1344     		add	r3, r3, r2
 1476              		.loc 1 709 37
 1477 004a 00E0     		b	.L82
 1478              	.L83:
 1479              		.loc 1 709 37 discriminator 2
 1480 004c 0023     		movs	r3, #0
 1481              	.L82:
 710:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1482              		.loc 1 710 1 is_stmt 1
 1483 004e 1846     		mov	r0, r3
 1484 0050 1837     		adds	r7, r7, #24
 1485              		.cfi_def_cfa_offset 8
 1486 0052 BD46     		mov	sp, r7
 1487              		.cfi_def_cfa_register 13
 1488              		@ sp needed
 1489 0054 80BD     		pop	{r7, pc}
 1490              	.L86:
 1491 0056 00BF     		.align	2
 1492              	.L85:
 1493 0058 3000BFEC 		.word	-323026896
 1494 005c 00000000 		.word	.LC0
 1495              		.cfi_endproc
ARM GAS  /tmp/ccmhSEKI.s 			page 42


 1496              	.LFE12:
 1498              		.section	.text.ec_get_num_patches,"ax",%progbits
 1499              		.align	1
 1500              		.global	ec_get_num_patches
 1501              		.syntax unified
 1502              		.thumb
 1503              		.thumb_func
 1505              	ec_get_num_patches:
 1506              	.LFB13:
 711:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 712:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 713:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the number of different patches contained in an Epoch Controller binary.
 714:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 715:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] patch_table_ptr is the pointer to the patch table (contained in an Epoch Controller b
 716:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 717:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 718:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the number of different patches contained in the patch table contained in the memory are
 719:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * at \e patch_table_ptr
 720:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 721:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 722:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** unsigned int ec_get_num_patches(const ECFileEntry *patch_table_ptr)
 723:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1507              		.loc 1 723 1
 1508              		.cfi_startproc
 1509              		@ args = 0, pretend = 0, frame = 16
 1510              		@ frame_needed = 1, uses_anonymous_args = 0
 1511              		@ link register save eliminated.
 1512 0000 80B4     		push	{r7}
 1513              		.cfi_def_cfa_offset 4
 1514              		.cfi_offset 7, -4
 1515 0002 85B0     		sub	sp, sp, #20
 1516              		.cfi_def_cfa_offset 24
 1517 0004 00AF     		add	r7, sp, #0
 1518              		.cfi_def_cfa_register 7
 1519 0006 7860     		str	r0, [r7, #4]
 724:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = 0;
 1520              		.loc 1 724 15
 1521 0008 0023     		movs	r3, #0
 1522 000a FB60     		str	r3, [r7, #12]
 725:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 726:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the patch table, if any
 727:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_ptr != NULL)
 1523              		.loc 1 727 6
 1524 000c 7B68     		ldr	r3, [r7, #4]
 1525 000e 002B     		cmp	r3, #0
 1526 0010 02D0     		beq	.L88
 728:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     size = *patch_table_ptr;
 1527              		.loc 1 728 10
 1528 0012 7B68     		ldr	r3, [r7, #4]
 1529 0014 1B68     		ldr	r3, [r3]
 1530 0016 FB60     		str	r3, [r7, #12]
 1531              	.L88:
 729:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 730:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return size;
 1532              		.loc 1 730 10
 1533 0018 FB68     		ldr	r3, [r7, #12]
 731:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
ARM GAS  /tmp/ccmhSEKI.s 			page 43


 1534              		.loc 1 731 1
 1535 001a 1846     		mov	r0, r3
 1536 001c 1437     		adds	r7, r7, #20
 1537              		.cfi_def_cfa_offset 4
 1538 001e BD46     		mov	sp, r7
 1539              		.cfi_def_cfa_register 13
 1540              		@ sp needed
 1541 0020 5DF8047B 		ldr	r7, [sp], #4
 1542              		.cfi_restore 7
 1543              		.cfi_def_cfa_offset 0
 1544 0024 7047     		bx	lr
 1545              		.cfi_endproc
 1546              	.LFE13:
 1548              		.section	.text.ec_get_patch_id,"ax",%progbits
 1549              		.align	1
 1550              		.global	ec_get_patch_id
 1551              		.syntax unified
 1552              		.thumb
 1553              		.thumb_func
 1555              	ec_get_patch_id:
 1556              	.LFB14:
 732:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 733:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 734:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the identifier of a patch contained in an Epoch Controller binary.
 735:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 736:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] patch_table_ptr is the pointer to the patch table (contained in an Epoch Controller b
 737:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 738:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] idx      is the index of the patch whose identifier must be retrieved
 739:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 740:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the identifier of patch having index \e idx among the patches contained in the patch tab
 741:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * contained in the memory area starting at \e patch_table_ptr, or \e NULL if that patch does not e
 742:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 743:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 744:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** const char *ec_get_patch_id(const ECFileEntry *patch_table_ptr, unsigned int idx)
 745:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1557              		.loc 1 745 1
 1558              		.cfi_startproc
 1559              		@ args = 0, pretend = 0, frame = 24
 1560              		@ frame_needed = 1, uses_anonymous_args = 0
 1561              		@ link register save eliminated.
 1562 0000 80B4     		push	{r7}
 1563              		.cfi_def_cfa_offset 4
 1564              		.cfi_offset 7, -4
 1565 0002 87B0     		sub	sp, sp, #28
 1566              		.cfi_def_cfa_offset 32
 1567 0004 00AF     		add	r7, sp, #0
 1568              		.cfi_def_cfa_register 7
 1569 0006 7860     		str	r0, [r7, #4]
 1570 0008 3960     		str	r1, [r7]
 746:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the patch table, if any
 747:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_ptr != NULL)
 1571              		.loc 1 747 6
 1572 000a 7B68     		ldr	r3, [r7, #4]
 1573 000c 002B     		cmp	r3, #0
 1574 000e 15D0     		beq	.L91
 1575              	.LBB12:
 748:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
ARM GAS  /tmp/ccmhSEKI.s 			page 44


 749:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     const ECFileEntry *ptr = patch_table_ptr;
 1576              		.loc 1 749 24
 1577 0010 7B68     		ldr	r3, [r7, #4]
 1578 0012 7B61     		str	r3, [r7, #20]
 750:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 751:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry size = *ptr;
 1579              		.loc 1 751 17
 1580 0014 7B69     		ldr	r3, [r7, #20]
 1581 0016 1B68     		ldr	r3, [r3]
 1582 0018 3B61     		str	r3, [r7, #16]
 752:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 753:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (idx < size)
 1583              		.loc 1 753 8
 1584 001a 3A68     		ldr	r2, [r7]
 1585 001c 3B69     		ldr	r3, [r7, #16]
 1586 001e 9A42     		cmp	r2, r3
 1587 0020 0CD2     		bcs	.L91
 1588              	.LBB13:
 754:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 755:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr = patch_table_ptr + 4 * idx + 1;
 1589              		.loc 1 755 39
 1590 0022 3B68     		ldr	r3, [r7]
 1591 0024 1B01     		lsls	r3, r3, #4
 1592 0026 0433     		adds	r3, r3, #4
 1593              		.loc 1 755 11
 1594 0028 7A68     		ldr	r2, [r7, #4]
 1595 002a 1344     		add	r3, r3, r2
 1596 002c 7B61     		str	r3, [r7, #20]
 756:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 757:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr;
 1597              		.loc 1 757 19
 1598 002e 7B69     		ldr	r3, [r7, #20]
 1599 0030 1B68     		ldr	r3, [r3]
 1600 0032 FB60     		str	r3, [r7, #12]
 758:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 759:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return (const char *)((const uint8_t *)patch_table_ptr + offset);
 1601              		.loc 1 759 14
 1602 0034 7A68     		ldr	r2, [r7, #4]
 1603 0036 FB68     		ldr	r3, [r7, #12]
 1604 0038 1344     		add	r3, r3, r2
 1605 003a 00E0     		b	.L92
 1606              	.L91:
 1607              	.LBE13:
 1608              	.LBE12:
 760:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 761:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 762:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 763:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return NULL;
 1609              		.loc 1 763 10
 1610 003c 0023     		movs	r3, #0
 1611              	.L92:
 764:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1612              		.loc 1 764 1
 1613 003e 1846     		mov	r0, r3
 1614 0040 1C37     		adds	r7, r7, #28
 1615              		.cfi_def_cfa_offset 4
 1616 0042 BD46     		mov	sp, r7
ARM GAS  /tmp/ccmhSEKI.s 			page 45


 1617              		.cfi_def_cfa_register 13
 1618              		@ sp needed
 1619 0044 5DF8047B 		ldr	r7, [sp], #4
 1620              		.cfi_restore 7
 1621              		.cfi_def_cfa_offset 0
 1622 0048 7047     		bx	lr
 1623              		.cfi_endproc
 1624              	.LFE14:
 1626              		.section	.text.ec_get_patch_mask,"ax",%progbits
 1627              		.align	1
 1628              		.global	ec_get_patch_mask
 1629              		.syntax unified
 1630              		.thumb
 1631              		.thumb_func
 1633              	ec_get_patch_mask:
 1634              	.LFB15:
 765:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 766:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 767:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Return the mask associated with a patch contained in an Epoch Controller binary.
 768:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 769:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] patch_table_ptr is the pointer to the patch table (contained in an Epoch Controller b
 770:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 771:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in] idx      is the index of the patch whose mask must be retrieved
 772:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 773:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \return the mask associated with patch having index \e idx among the patches contained in the pa
 774:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * contained in the memory area starting at \e patch_table_ptr, or 0 if that patch does not exist
 775:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 776:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 777:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** uint32_t ec_get_patch_mask(const ECFileEntry *patch_table_ptr, unsigned int idx)
 778:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1635              		.loc 1 778 1
 1636              		.cfi_startproc
 1637              		@ args = 0, pretend = 0, frame = 16
 1638              		@ frame_needed = 1, uses_anonymous_args = 0
 1639              		@ link register save eliminated.
 1640 0000 80B4     		push	{r7}
 1641              		.cfi_def_cfa_offset 4
 1642              		.cfi_offset 7, -4
 1643 0002 85B0     		sub	sp, sp, #20
 1644              		.cfi_def_cfa_offset 24
 1645 0004 00AF     		add	r7, sp, #0
 1646              		.cfi_def_cfa_register 7
 1647 0006 7860     		str	r0, [r7, #4]
 1648 0008 3960     		str	r1, [r7]
 779:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   // read the patch table, if any
 780:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_ptr != NULL)
 1649              		.loc 1 780 6
 1650 000a 7B68     		ldr	r3, [r7, #4]
 1651 000c 002B     		cmp	r3, #0
 1652 000e 11D0     		beq	.L94
 1653              	.LBB14:
 781:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 782:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     const ECFileEntry *ptr = patch_table_ptr;
 1654              		.loc 1 782 24
 1655 0010 7B68     		ldr	r3, [r7, #4]
 1656 0012 FB60     		str	r3, [r7, #12]
 783:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
ARM GAS  /tmp/ccmhSEKI.s 			page 46


 784:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry size = *ptr;
 1657              		.loc 1 784 17
 1658 0014 FB68     		ldr	r3, [r7, #12]
 1659 0016 1B68     		ldr	r3, [r3]
 1660 0018 BB60     		str	r3, [r7, #8]
 785:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 786:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (idx < size)
 1661              		.loc 1 786 8
 1662 001a 3A68     		ldr	r2, [r7]
 1663 001c BB68     		ldr	r3, [r7, #8]
 1664 001e 9A42     		cmp	r2, r3
 1665 0020 08D2     		bcs	.L94
 787:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 788:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr = patch_table_ptr + 4 * idx + 2;
 1666              		.loc 1 788 39
 1667 0022 3B68     		ldr	r3, [r7]
 1668 0024 1B01     		lsls	r3, r3, #4
 1669 0026 0833     		adds	r3, r3, #8
 1670              		.loc 1 788 11
 1671 0028 7A68     		ldr	r2, [r7, #4]
 1672 002a 1344     		add	r3, r3, r2
 1673 002c FB60     		str	r3, [r7, #12]
 789:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 790:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return *ptr;
 1674              		.loc 1 790 14
 1675 002e FB68     		ldr	r3, [r7, #12]
 1676 0030 1B68     		ldr	r3, [r3]
 1677 0032 00E0     		b	.L95
 1678              	.L94:
 1679              	.LBE14:
 791:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 792:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 793:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 794:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return 0;
 1680              		.loc 1 794 10
 1681 0034 0023     		movs	r3, #0
 1682              	.L95:
 795:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1683              		.loc 1 795 1
 1684 0036 1846     		mov	r0, r3
 1685 0038 1437     		adds	r7, r7, #20
 1686              		.cfi_def_cfa_offset 4
 1687 003a BD46     		mov	sp, r7
 1688              		.cfi_def_cfa_register 13
 1689              		@ sp needed
 1690 003c 5DF8047B 		ldr	r7, [sp], #4
 1691              		.cfi_restore 7
 1692              		.cfi_def_cfa_offset 0
 1693 0040 7047     		bx	lr
 1694              		.cfi_endproc
 1695              	.LFE15:
 1697              		.section	.rodata
 1698 0697 00       		.align	2
 1699              	.LC19:
 1700 0698 4572726F 		.ascii	"Error: Cannot patchate because the pointer to the E"
 1700      723A2043 
 1700      616E6E6F 
ARM GAS  /tmp/ccmhSEKI.s 			page 47


 1700      74207061 
 1700      74636861 
 1701 06cb 706F6368 		.ascii	"poch Controller patch table is invalid\000"
 1701      20436F6E 
 1701      74726F6C 
 1701      6C657220 
 1701      70617463 
 1702              		.section	.text.ec_patch,"ax",%progbits
 1703              		.align	1
 1704              		.global	ec_patch
 1705              		.syntax unified
 1706              		.thumb
 1707              		.thumb_func
 1709              	ec_patch:
 1710              	.LFB16:
 796:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 797:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 798:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Patch all the values associated with a patch specified by using an index.
 799:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 800:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     patch_table_ptr is the pointer to the patch table (contained in an Epoch Controll
 801:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 802:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    blob         is the pointer to the memory area containing the Epoch Controller
 803:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob (that will be patched)
 804:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     idx             is the index of the patch whose values must be
 805:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * patched
 806:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     value           is the value that must be used in the patch
 807:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 808:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 809:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 810:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 811:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 812:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_patch(const ECFileEntry *patch_table_ptr, ECInstr *blob, unsigned int idx, uint32_t value)
 813:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1711              		.loc 1 813 1
 1712              		.cfi_startproc
 1713              		@ args = 0, pretend = 0, frame = 48
 1714              		@ frame_needed = 1, uses_anonymous_args = 0
 1715 0000 80B5     		push	{r7, lr}
 1716              		.cfi_def_cfa_offset 8
 1717              		.cfi_offset 7, -8
 1718              		.cfi_offset 14, -4
 1719 0002 8CB0     		sub	sp, sp, #48
 1720              		.cfi_def_cfa_offset 56
 1721 0004 00AF     		add	r7, sp, #0
 1722              		.cfi_def_cfa_register 7
 1723 0006 F860     		str	r0, [r7, #12]
 1724 0008 B960     		str	r1, [r7, #8]
 1725 000a 7A60     		str	r2, [r7, #4]
 1726 000c 3B60     		str	r3, [r7]
 814:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_ptr == NULL)
 1727              		.loc 1 814 6
 1728 000e FB68     		ldr	r3, [r7, #12]
 1729 0010 002B     		cmp	r3, #0
 1730 0012 04D1     		bne	.L97
 815:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 816:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot patchate because the pointer to the Epoch Controller patch table 
 1731              		.loc 1 816 5
ARM GAS  /tmp/ccmhSEKI.s 			page 48


 1732 0014 3148     		ldr	r0, .L103
 1733 0016 FFF7FEFF 		bl	puts
 817:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 818:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 1734              		.loc 1 818 12
 1735 001a 0023     		movs	r3, #0
 1736 001c 59E0     		b	.L98
 1737              	.L97:
 819:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 820:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 821:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = patch_table_ptr;
 1738              		.loc 1 821 22
 1739 001e FB68     		ldr	r3, [r7, #12]
 1740 0020 FB62     		str	r3, [r7, #44]
 822:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 823:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = *ptr;
 1741              		.loc 1 823 15
 1742 0022 FB6A     		ldr	r3, [r7, #44]
 1743 0024 1B68     		ldr	r3, [r3]
 1744 0026 7B62     		str	r3, [r7, #36]
 824:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 825:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (idx < size)
 1745              		.loc 1 825 6
 1746 0028 7A68     		ldr	r2, [r7, #4]
 1747 002a 7B6A     		ldr	r3, [r7, #36]
 1748 002c 9A42     		cmp	r2, r3
 1749 002e 4FD2     		bcs	.L99
 1750              	.LBB15:
 826:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 827:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = patch_table_ptr + 4 * idx + 2;
 1751              		.loc 1 827 37
 1752 0030 7B68     		ldr	r3, [r7, #4]
 1753 0032 1B01     		lsls	r3, r3, #4
 1754 0034 0833     		adds	r3, r3, #8
 1755              		.loc 1 827 9
 1756 0036 FA68     		ldr	r2, [r7, #12]
 1757 0038 1344     		add	r3, r3, r2
 1758 003a FB62     		str	r3, [r7, #44]
 828:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 829:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     uint32_t mask = *ptr++;
 1759              		.loc 1 829 25
 1760 003c FB6A     		ldr	r3, [r7, #44]
 1761 003e 1A1D     		adds	r2, r3, #4
 1762 0040 FA62     		str	r2, [r7, #44]
 1763              		.loc 1 829 14
 1764 0042 1B68     		ldr	r3, [r3]
 1765 0044 3B62     		str	r3, [r7, #32]
 830:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry num = *ptr++;
 1766              		.loc 1 830 27
 1767 0046 FB6A     		ldr	r3, [r7, #44]
 1768 0048 1A1D     		adds	r2, r3, #4
 1769 004a FA62     		str	r2, [r7, #44]
 1770              		.loc 1 830 17
 1771 004c 1B68     		ldr	r3, [r3]
 1772 004e FB61     		str	r3, [r7, #28]
 831:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 832:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry offset = *ptr;
ARM GAS  /tmp/ccmhSEKI.s 			page 49


 1773              		.loc 1 832 17
 1774 0050 FB6A     		ldr	r3, [r7, #44]
 1775 0052 1B68     		ldr	r3, [r3]
 1776 0054 BB61     		str	r3, [r7, #24]
 833:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 834:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if ((offset % sizeof(ECFileEntry)) != 0)
 1777              		.loc 1 834 17
 1778 0056 BB69     		ldr	r3, [r7, #24]
 1779 0058 03F00303 		and	r3, r3, #3
 1780              		.loc 1 834 8
 1781 005c 002B     		cmp	r3, #0
 1782 005e 05D0     		beq	.L100
 835:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 836:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       LL_ATON_PRINTF("Error: Offset %lu in Epoch Controller binary is invalid\n", (unsigned long)of
 1783              		.loc 1 836 7
 1784 0060 B969     		ldr	r1, [r7, #24]
 1785 0062 1F48     		ldr	r0, .L103+4
 1786 0064 FFF7FEFF 		bl	printf
 837:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 838:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return false;
 1787              		.loc 1 838 14
 1788 0068 0023     		movs	r3, #0
 1789 006a 32E0     		b	.L98
 1790              	.L100:
 839:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 840:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 841:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = (const ECFileEntry *)((const uint8_t *)patch_table_ptr + offset);
 1791              		.loc 1 841 9
 1792 006c FA68     		ldr	r2, [r7, #12]
 1793 006e BB69     		ldr	r3, [r7, #24]
 1794 0070 1344     		add	r3, r3, r2
 1795 0072 FB62     		str	r3, [r7, #44]
 1796              	.LBB16:
 842:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 843:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     for (unsigned int i = 0; i < num; i++)
 1797              		.loc 1 843 23
 1798 0074 0023     		movs	r3, #0
 1799 0076 BB62     		str	r3, [r7, #40]
 1800              		.loc 1 843 5
 1801 0078 26E0     		b	.L101
 1802              	.L102:
 1803              	.LBB17:
 844:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 845:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr++;
 1804              		.loc 1 845 32
 1805 007a FB6A     		ldr	r3, [r7, #44]
 1806 007c 1A1D     		adds	r2, r3, #4
 1807 007e FA62     		str	r2, [r7, #44]
 1808              		.loc 1 845 19
 1809 0080 1B68     		ldr	r3, [r3]
 1810 0082 7B61     		str	r3, [r7, #20]
 846:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 847:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       // offset is from the real beginning of the EC blob, that is, from the first real instruction
 848:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       // following the magic number of the EC blob and its size)
 849:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       blob[offset + 2] &= ~mask;
 1811              		.loc 1 849 11
 1812 0084 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccmhSEKI.s 			page 50


 1813 0086 0233     		adds	r3, r3, #2
 1814 0088 9B00     		lsls	r3, r3, #2
 1815 008a BA68     		ldr	r2, [r7, #8]
 1816 008c 1344     		add	r3, r3, r2
 1817 008e 1968     		ldr	r1, [r3]
 1818              		.loc 1 849 27
 1819 0090 3B6A     		ldr	r3, [r7, #32]
 1820 0092 DA43     		mvns	r2, r3
 1821              		.loc 1 849 11
 1822 0094 7B69     		ldr	r3, [r7, #20]
 1823 0096 0233     		adds	r3, r3, #2
 1824 0098 9B00     		lsls	r3, r3, #2
 1825 009a B868     		ldr	r0, [r7, #8]
 1826 009c 0344     		add	r3, r3, r0
 1827              		.loc 1 849 24
 1828 009e 0A40     		ands	r2, r2, r1
 1829 00a0 1A60     		str	r2, [r3]
 850:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       blob[offset + 2] |= (value & mask);
 1830              		.loc 1 850 11
 1831 00a2 7B69     		ldr	r3, [r7, #20]
 1832 00a4 0233     		adds	r3, r3, #2
 1833 00a6 9B00     		lsls	r3, r3, #2
 1834 00a8 BA68     		ldr	r2, [r7, #8]
 1835 00aa 1344     		add	r3, r3, r2
 1836 00ac 1968     		ldr	r1, [r3]
 1837              		.loc 1 850 34
 1838 00ae 3A68     		ldr	r2, [r7]
 1839 00b0 3B6A     		ldr	r3, [r7, #32]
 1840 00b2 1A40     		ands	r2, r2, r3
 1841              		.loc 1 850 11
 1842 00b4 7B69     		ldr	r3, [r7, #20]
 1843 00b6 0233     		adds	r3, r3, #2
 1844 00b8 9B00     		lsls	r3, r3, #2
 1845 00ba B868     		ldr	r0, [r7, #8]
 1846 00bc 0344     		add	r3, r3, r0
 1847              		.loc 1 850 24
 1848 00be 0A43     		orrs	r2, r2, r1
 1849 00c0 1A60     		str	r2, [r3]
 1850              	.LBE17:
 843:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 1851              		.loc 1 843 40 discriminator 3
 1852 00c2 BB6A     		ldr	r3, [r7, #40]
 1853 00c4 0133     		adds	r3, r3, #1
 1854 00c6 BB62     		str	r3, [r7, #40]
 1855              	.L101:
 843:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 1856              		.loc 1 843 32 discriminator 1
 1857 00c8 BA6A     		ldr	r2, [r7, #40]
 1858 00ca FB69     		ldr	r3, [r7, #28]
 1859 00cc 9A42     		cmp	r2, r3
 1860 00ce D4D3     		bcc	.L102
 1861              	.L99:
 1862              	.LBE16:
 1863              	.LBE15:
 851:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 852:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 853:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
ARM GAS  /tmp/ccmhSEKI.s 			page 51


 854:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return true;
 1864              		.loc 1 854 10
 1865 00d0 0123     		movs	r3, #1
 1866              	.L98:
 855:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 1867              		.loc 1 855 1
 1868 00d2 1846     		mov	r0, r3
 1869 00d4 3037     		adds	r7, r7, #48
 1870              		.cfi_def_cfa_offset 8
 1871 00d6 BD46     		mov	sp, r7
 1872              		.cfi_def_cfa_register 13
 1873              		@ sp needed
 1874 00d8 80BD     		pop	{r7, pc}
 1875              	.L104:
 1876 00da 00BF     		.align	2
 1877              	.L103:
 1878 00dc 98060000 		.word	.LC19
 1879 00e0 3C040000 		.word	.LC12
 1880              		.cfi_endproc
 1881              	.LFE16:
 1883              		.section	.rodata
 1884 06f2 0000     		.align	2
 1885              	.LC20:
 1886 06f4 4572726F 		.ascii	"Error: Patch '%s' not found in Epoch Controller pat"
 1886      723A2050 
 1886      61746368 
 1886      20272573 
 1886      27206E6F 
 1887 0727 63682074 		.ascii	"ch table\012\000"
 1887      61626C65 
 1887      0A00
 1888              		.section	.text.ec_patch_by_id,"ax",%progbits
 1889              		.align	1
 1890              		.global	ec_patch_by_id
 1891              		.syntax unified
 1892              		.thumb
 1893              		.thumb_func
 1895              	ec_patch_by_id:
 1896              	.LFB17:
 856:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 857:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** /**
 858:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * Patch all the values associated with a patch specified by using an identifier.
 859:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 860:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     patch_table_ptr is the pointer to the patch table (contained in an Epoch Controll
 861:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * copied from it)
 862:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[out]    blob         is the pointer to the memory area containing the Epoch Controller
 863:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * blob (that will be patched)
 864:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     id       is the identifier of the patch whose values must be patched
 865:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \param[in]     value           is the value that must be used in the patch
 866:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  *
 867:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e true  on success
 868:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  * \retval \e false otherwise
 869:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****  */
 870:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 871:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** bool ec_patch_by_id(const ECFileEntry *patch_table_ptr, ECInstr *blob, const char *id, uint32_t val
 872:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** {
 1897              		.loc 1 872 1
ARM GAS  /tmp/ccmhSEKI.s 			page 52


 1898              		.cfi_startproc
 1899              		@ args = 0, pretend = 0, frame = 56
 1900              		@ frame_needed = 1, uses_anonymous_args = 0
 1901 0000 80B5     		push	{r7, lr}
 1902              		.cfi_def_cfa_offset 8
 1903              		.cfi_offset 7, -8
 1904              		.cfi_offset 14, -4
 1905 0002 8EB0     		sub	sp, sp, #56
 1906              		.cfi_def_cfa_offset 64
 1907 0004 00AF     		add	r7, sp, #0
 1908              		.cfi_def_cfa_register 7
 1909 0006 F860     		str	r0, [r7, #12]
 1910 0008 B960     		str	r1, [r7, #8]
 1911 000a 7A60     		str	r2, [r7, #4]
 1912 000c 3B60     		str	r3, [r7]
 873:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   if (patch_table_ptr == NULL)
 1913              		.loc 1 873 6
 1914 000e FB68     		ldr	r3, [r7, #12]
 1915 0010 002B     		cmp	r3, #0
 1916 0012 04D1     		bne	.L106
 874:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 875:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     LL_ATON_PRINTF("Error: Cannot patchate because the pointer to the Epoch Controller patch table 
 1917              		.loc 1 875 5
 1918 0014 3F48     		ldr	r0, .L114
 1919 0016 FFF7FEFF 		bl	puts
 876:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 877:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     return false;
 1920              		.loc 1 877 12
 1921 001a 0023     		movs	r3, #0
 1922 001c 76E0     		b	.L107
 1923              	.L106:
 878:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 879:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 880:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   const ECFileEntry *ptr = patch_table_ptr;
 1924              		.loc 1 880 22
 1925 001e FB68     		ldr	r3, [r7, #12]
 1926 0020 7B63     		str	r3, [r7, #52]
 881:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 882:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   ECFileEntry size = *ptr;
 1927              		.loc 1 882 15
 1928 0022 7B6B     		ldr	r3, [r7, #52]
 1929 0024 1B68     		ldr	r3, [r3]
 1930 0026 BB62     		str	r3, [r7, #40]
 1931              	.LBB18:
 883:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 884:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   for (unsigned int n = 0; n < size; n++)
 1932              		.loc 1 884 21
 1933 0028 0023     		movs	r3, #0
 1934 002a 3B63     		str	r3, [r7, #48]
 1935              		.loc 1 884 3
 1936 002c 65E0     		b	.L108
 1937              	.L113:
 1938              	.LBB19:
 885:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 886:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ptr = patch_table_ptr + 4 * n + 1;
 1939              		.loc 1 886 35
 1940 002e 3B6B     		ldr	r3, [r7, #48]
ARM GAS  /tmp/ccmhSEKI.s 			page 53


 1941 0030 1B01     		lsls	r3, r3, #4
 1942 0032 0433     		adds	r3, r3, #4
 1943              		.loc 1 886 9
 1944 0034 FA68     		ldr	r2, [r7, #12]
 1945 0036 1344     		add	r3, r3, r2
 1946 0038 7B63     		str	r3, [r7, #52]
 887:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 888:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     ECFileEntry offset = *ptr;
 1947              		.loc 1 888 17
 1948 003a 7B6B     		ldr	r3, [r7, #52]
 1949 003c 1B68     		ldr	r3, [r3]
 1950 003e 7B62     		str	r3, [r7, #36]
 889:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 890:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     const char *tmp_id = (const char *)((const uint8_t *)patch_table_ptr + offset);
 1951              		.loc 1 890 17
 1952 0040 FA68     		ldr	r2, [r7, #12]
 1953 0042 7B6A     		ldr	r3, [r7, #36]
 1954 0044 1344     		add	r3, r3, r2
 1955 0046 3B62     		str	r3, [r7, #32]
 891:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 892:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     if (strcmp(id, tmp_id) == 0)
 1956              		.loc 1 892 9
 1957 0048 396A     		ldr	r1, [r7, #32]
 1958 004a 7868     		ldr	r0, [r7, #4]
 1959 004c FFF7FEFF 		bl	strcmp
 1960 0050 0346     		mov	r3, r0
 1961              		.loc 1 892 8 discriminator 1
 1962 0052 002B     		cmp	r3, #0
 1963 0054 4ED1     		bne	.L109
 1964              	.LBB20:
 893:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     {
 894:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr++;
 1965              		.loc 1 894 10
 1966 0056 7B6B     		ldr	r3, [r7, #52]
 1967 0058 0433     		adds	r3, r3, #4
 1968 005a 7B63     		str	r3, [r7, #52]
 895:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 896:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       uint32_t mask = *ptr++;
 1969              		.loc 1 896 27
 1970 005c 7B6B     		ldr	r3, [r7, #52]
 1971 005e 1A1D     		adds	r2, r3, #4
 1972 0060 7A63     		str	r2, [r7, #52]
 1973              		.loc 1 896 16
 1974 0062 1B68     		ldr	r3, [r3]
 1975 0064 FB61     		str	r3, [r7, #28]
 897:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry num = *ptr++;
 1976              		.loc 1 897 29
 1977 0066 7B6B     		ldr	r3, [r7, #52]
 1978 0068 1A1D     		adds	r2, r3, #4
 1979 006a 7A63     		str	r2, [r7, #52]
 1980              		.loc 1 897 19
 1981 006c 1B68     		ldr	r3, [r3]
 1982 006e BB61     		str	r3, [r7, #24]
 898:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 899:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ECFileEntry offset = *ptr;
 1983              		.loc 1 899 19
 1984 0070 7B6B     		ldr	r3, [r7, #52]
ARM GAS  /tmp/ccmhSEKI.s 			page 54


 1985 0072 1B68     		ldr	r3, [r3]
 1986 0074 7B61     		str	r3, [r7, #20]
 900:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 901:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       if ((offset % sizeof(ECFileEntry)) != 0)
 1987              		.loc 1 901 19
 1988 0076 7B69     		ldr	r3, [r7, #20]
 1989 0078 03F00303 		and	r3, r3, #3
 1990              		.loc 1 901 10
 1991 007c 002B     		cmp	r3, #0
 1992 007e 05D0     		beq	.L110
 902:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 903:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         LL_ATON_PRINTF("Error: Offset %lu in Epoch Controller binary is invalid\n", (unsigned long)
 1993              		.loc 1 903 9
 1994 0080 7969     		ldr	r1, [r7, #20]
 1995 0082 2548     		ldr	r0, .L114+4
 1996 0084 FFF7FEFF 		bl	printf
 904:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 905:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         return false;
 1997              		.loc 1 905 16
 1998 0088 0023     		movs	r3, #0
 1999 008a 3FE0     		b	.L107
 2000              	.L110:
 906:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       }
 907:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 908:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       ptr = (const ECFileEntry *)((const uint8_t *)patch_table_ptr + offset);
 2001              		.loc 1 908 11
 2002 008c FA68     		ldr	r2, [r7, #12]
 2003 008e 7B69     		ldr	r3, [r7, #20]
 2004 0090 1344     		add	r3, r3, r2
 2005 0092 7B63     		str	r3, [r7, #52]
 2006              	.LBB21:
 909:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 910:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       for (unsigned int i = 0; i < num; i++)
 2007              		.loc 1 910 25
 2008 0094 0023     		movs	r3, #0
 2009 0096 FB62     		str	r3, [r7, #44]
 2010              		.loc 1 910 7
 2011 0098 26E0     		b	.L111
 2012              	.L112:
 2013              	.LBB22:
 911:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 912:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         ECFileEntry offset = *ptr++;
 2014              		.loc 1 912 34
 2015 009a 7B6B     		ldr	r3, [r7, #52]
 2016 009c 1A1D     		adds	r2, r3, #4
 2017 009e 7A63     		str	r2, [r7, #52]
 2018              		.loc 1 912 21
 2019 00a0 1B68     		ldr	r3, [r3]
 2020 00a2 3B61     		str	r3, [r7, #16]
 913:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 914:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         // offset is from the real beginning of the EC blob, that is, from the first real instructi
 915:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         // following the magic number of the EC blob and its size)
 916:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         blob[offset + 2] &= ~mask;
 2021              		.loc 1 916 13
 2022 00a4 3B69     		ldr	r3, [r7, #16]
 2023 00a6 0233     		adds	r3, r3, #2
 2024 00a8 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccmhSEKI.s 			page 55


 2025 00aa BA68     		ldr	r2, [r7, #8]
 2026 00ac 1344     		add	r3, r3, r2
 2027 00ae 1968     		ldr	r1, [r3]
 2028              		.loc 1 916 29
 2029 00b0 FB69     		ldr	r3, [r7, #28]
 2030 00b2 DA43     		mvns	r2, r3
 2031              		.loc 1 916 13
 2032 00b4 3B69     		ldr	r3, [r7, #16]
 2033 00b6 0233     		adds	r3, r3, #2
 2034 00b8 9B00     		lsls	r3, r3, #2
 2035 00ba B868     		ldr	r0, [r7, #8]
 2036 00bc 0344     		add	r3, r3, r0
 2037              		.loc 1 916 26
 2038 00be 0A40     		ands	r2, r2, r1
 2039 00c0 1A60     		str	r2, [r3]
 917:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****         blob[offset + 2] |= (value & mask);
 2040              		.loc 1 917 13
 2041 00c2 3B69     		ldr	r3, [r7, #16]
 2042 00c4 0233     		adds	r3, r3, #2
 2043 00c6 9B00     		lsls	r3, r3, #2
 2044 00c8 BA68     		ldr	r2, [r7, #8]
 2045 00ca 1344     		add	r3, r3, r2
 2046 00cc 1968     		ldr	r1, [r3]
 2047              		.loc 1 917 36
 2048 00ce 3A68     		ldr	r2, [r7]
 2049 00d0 FB69     		ldr	r3, [r7, #28]
 2050 00d2 1A40     		ands	r2, r2, r3
 2051              		.loc 1 917 13
 2052 00d4 3B69     		ldr	r3, [r7, #16]
 2053 00d6 0233     		adds	r3, r3, #2
 2054 00d8 9B00     		lsls	r3, r3, #2
 2055 00da B868     		ldr	r0, [r7, #8]
 2056 00dc 0344     		add	r3, r3, r0
 2057              		.loc 1 917 26
 2058 00de 0A43     		orrs	r2, r2, r1
 2059 00e0 1A60     		str	r2, [r3]
 2060              	.LBE22:
 910:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 2061              		.loc 1 910 42 discriminator 3
 2062 00e2 FB6A     		ldr	r3, [r7, #44]
 2063 00e4 0133     		adds	r3, r3, #1
 2064 00e6 FB62     		str	r3, [r7, #44]
 2065              	.L111:
 910:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       {
 2066              		.loc 1 910 34 discriminator 1
 2067 00e8 FA6A     		ldr	r2, [r7, #44]
 2068 00ea BB69     		ldr	r3, [r7, #24]
 2069 00ec 9A42     		cmp	r2, r3
 2070 00ee D4D3     		bcc	.L112
 2071              	.LBE21:
 918:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       }
 919:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 920:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****       return true;
 2072              		.loc 1 920 14
 2073 00f0 0123     		movs	r3, #1
 2074 00f2 0BE0     		b	.L107
 2075              	.L109:
ARM GAS  /tmp/ccmhSEKI.s 			page 56


 2076              	.LBE20:
 2077              	.LBE19:
 884:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 2078              		.loc 1 884 39 discriminator 2
 2079 00f4 3B6B     		ldr	r3, [r7, #48]
 2080 00f6 0133     		adds	r3, r3, #1
 2081 00f8 3B63     		str	r3, [r7, #48]
 2082              	.L108:
 884:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   {
 2083              		.loc 1 884 30 discriminator 1
 2084 00fa 3A6B     		ldr	r2, [r7, #48]
 2085 00fc BB6A     		ldr	r3, [r7, #40]
 2086 00fe 9A42     		cmp	r2, r3
 2087 0100 95D3     		bcc	.L113
 2088              	.LBE18:
 921:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****     }
 922:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   }
 923:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 924:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   LL_ATON_PRINTF("Error: Patch '%s' not found in Epoch Controller patch table\n", id);
 2089              		.loc 1 924 3
 2090 0102 7968     		ldr	r1, [r7, #4]
 2091 0104 0548     		ldr	r0, .L114+8
 2092 0106 FFF7FEFF 		bl	printf
 925:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** 
 926:Lib/AI_Runtime/Npu/ll_aton/ecloader.c ****   return false;
 2093              		.loc 1 926 10
 2094 010a 0023     		movs	r3, #0
 2095              	.L107:
 927:Lib/AI_Runtime/Npu/ll_aton/ecloader.c **** }
 2096              		.loc 1 927 1
 2097 010c 1846     		mov	r0, r3
 2098 010e 3837     		adds	r7, r7, #56
 2099              		.cfi_def_cfa_offset 8
 2100 0110 BD46     		mov	sp, r7
 2101              		.cfi_def_cfa_register 13
 2102              		@ sp needed
 2103 0112 80BD     		pop	{r7, pc}
 2104              	.L115:
 2105              		.align	2
 2106              	.L114:
 2107 0114 98060000 		.word	.LC19
 2108 0118 3C040000 		.word	.LC12
 2109 011c F4060000 		.word	.LC20
 2110              		.cfi_endproc
 2111              	.LFE17:
 2113              		.text
 2114              	.Letext0:
 2115              		.file 2 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 2116              		.file 3 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 2117              		.file 4 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 2118              		.file 5 "Lib/AI_Runtime/Npu/ll_aton/ec.h"
 2119              		.file 6 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
 2120              		.file 7 "/home/tanjiajun2002/renesas/rzv/e2studio_v2025-01_fsp_v3.1.0/toolchains/gcc_arm/arm-gnu-t
ARM GAS  /tmp/ccmhSEKI.s 			page 57


DEFINED SYMBOLS
                            *ABS*:00000000 ecloader.c
     /tmp/ccmhSEKI.s:26     .rodata:00000000 $d
     /tmp/ccmhSEKI.s:34     .text.ec_get_blob_ptr:00000000 $t
     /tmp/ccmhSEKI.s:40     .text.ec_get_blob_ptr:00000000 ec_get_blob_ptr
     /tmp/ccmhSEKI.s:123    .text.ec_get_blob_ptr:00000064 $d
     /tmp/ccmhSEKI.s:149    .text.ec_copy_blob:00000000 $t
     /tmp/ccmhSEKI.s:155    .text.ec_copy_blob:00000000 ec_copy_blob
     /tmp/ccmhSEKI.s:314    .text.ec_copy_blob:000000d4 $d
     /tmp/ccmhSEKI.s:346    .text.ec_copy_reloc_table:00000000 $t
     /tmp/ccmhSEKI.s:352    .text.ec_copy_reloc_table:00000000 ec_copy_reloc_table
     /tmp/ccmhSEKI.s:550    .text.ec_copy_reloc_table:00000108 $d
     /tmp/ccmhSEKI.s:561    .text.ec_get_reloc_table_ptr:00000000 $t
     /tmp/ccmhSEKI.s:567    .text.ec_get_reloc_table_ptr:00000000 ec_get_reloc_table_ptr
     /tmp/ccmhSEKI.s:640    .text.ec_get_reloc_table_ptr:00000050 $d
     /tmp/ccmhSEKI.s:646    .text.ec_get_num_relocs:00000000 $t
     /tmp/ccmhSEKI.s:652    .text.ec_get_num_relocs:00000000 ec_get_num_relocs
     /tmp/ccmhSEKI.s:696    .text.ec_get_reloc_id:00000000 $t
     /tmp/ccmhSEKI.s:702    .text.ec_get_reloc_id:00000000 ec_get_reloc_id
     /tmp/ccmhSEKI.s:786    .text.ec_reloc:00000000 $t
     /tmp/ccmhSEKI.s:792    .text.ec_reloc:00000000 ec_reloc
     /tmp/ccmhSEKI.s:955    .text.ec_reloc:000000d0 $d
     /tmp/ccmhSEKI.s:966    .text.ec_reloc_by_id:00000000 $t
     /tmp/ccmhSEKI.s:972    .text.ec_reloc_by_id:00000000 ec_reloc_by_id
     /tmp/ccmhSEKI.s:1178   .text.ec_reloc_by_id:00000108 $d
     /tmp/ccmhSEKI.s:1206   .text.ec_copy_patch_table:00000000 $t
     /tmp/ccmhSEKI.s:1212   .text.ec_copy_patch_table:00000000 ec_copy_patch_table
     /tmp/ccmhSEKI.s:1399   .text.ec_copy_patch_table:000000fc $d
     /tmp/ccmhSEKI.s:1410   .text.ec_get_patch_table_ptr:00000000 $t
     /tmp/ccmhSEKI.s:1416   .text.ec_get_patch_table_ptr:00000000 ec_get_patch_table_ptr
     /tmp/ccmhSEKI.s:1493   .text.ec_get_patch_table_ptr:00000058 $d
     /tmp/ccmhSEKI.s:1499   .text.ec_get_num_patches:00000000 $t
     /tmp/ccmhSEKI.s:1505   .text.ec_get_num_patches:00000000 ec_get_num_patches
     /tmp/ccmhSEKI.s:1549   .text.ec_get_patch_id:00000000 $t
     /tmp/ccmhSEKI.s:1555   .text.ec_get_patch_id:00000000 ec_get_patch_id
     /tmp/ccmhSEKI.s:1627   .text.ec_get_patch_mask:00000000 $t
     /tmp/ccmhSEKI.s:1633   .text.ec_get_patch_mask:00000000 ec_get_patch_mask
     /tmp/ccmhSEKI.s:1703   .text.ec_patch:00000000 $t
     /tmp/ccmhSEKI.s:1709   .text.ec_patch:00000000 ec_patch
     /tmp/ccmhSEKI.s:1878   .text.ec_patch:000000dc $d
     /tmp/ccmhSEKI.s:1889   .text.ec_patch_by_id:00000000 $t
     /tmp/ccmhSEKI.s:1895   .text.ec_patch_by_id:00000000 ec_patch_by_id
     /tmp/ccmhSEKI.s:2107   .text.ec_patch_by_id:00000114 $d
                           .group:00000000 wm4.0.2a10773746a5c5ebb5552f50e466f80b
                           .group:00000000 wm4._newlib_version.h.4.411db44ea2338a62eca2f0777f81481b
                           .group:00000000 wm4.newlib.h.27.4b972ceed5d01f491020c20f1e546cab
                           .group:00000000 wm4.ieeefp.h.77.bd5feb87d9990dd328793ced294f6a87
                           .group:00000000 wm4.features.h.22.9dfb1293666eb4caf24cccb81c86a551
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:00000000 wm4._ansi.h.8.aeadd4934928258a76627d21910677e3
                           .group:00000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.stddef.h.267.6dda48f8b0edf141523347999dd9ec79
                           .group:00000000 wm4.inttypes.h.28.684aa7736e7ecc9a6ffc44acc61c7a90
                           .group:00000000 wm4.stddef.h.39.9af043fe601e315768567300ad642a8e
ARM GAS  /tmp/ccmhSEKI.s 			page 58


                           .group:00000000 wm4.cdefs.h.49.70fc7af612f78ddcace70fdd90b5623b
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.6f8e08a347b1cff664332fa350bfceb3
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.18.25503cdc8b7e55dd0d6ea7b3e5af7a03
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.78.6b87466b04591b1f1cb88c14fdf2ba9e
                           .group:00000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:00000000 wm4.stddef.h.158.eec8bf00b5213f43d095cb984c5f22e3
                           .group:00000000 wm4.stdbool.h.29.c08aa3eec75cf5b9b5003883f43253f0
                           .group:00000000 wm4.ec.h.20.32a6b8a89517bc687dae43435835a80d
                           .group:00000000 wm4.assert.h.11.db24e541f16414db224bf986d21017e2
                           .group:00000000 wm4.errno.h.2.ba016d646105af6cad23be83630b6a3f
                           .group:00000000 wm4.errno.h.9.ae5ea2b0ff9ea6e39e585807e35200d3
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.stdio.h.47.dc31ec4674d7bcb103c9f08809549f45
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.87.a1e20d2651f9bfb66e51bfbe849db00a
                           .group:00000000 wm4.ll_aton_util.h.34.9098eaa90d3d72b819973556e3e5fe44

UNDEFINED SYMBOLS
puts
printf
memcpy
strcmp
